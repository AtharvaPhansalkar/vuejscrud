!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=11)}([function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function o(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function s(t,e){return function(n,r){e(n,r,t)}}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){function i(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})}function c(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function h(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function l(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function g(t){return this instanceof g?(this.v=t,this):new g(t)}function y(t,e,n){function r(t){h[t]&&(c[t]=function(e){return new Promise(function(n,r){l.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(h[t](e))}catch(t){u(l[0][3],t)}}function o(t){t.value instanceof g?Promise.resolve(t.value.v).then(s,a):u(l[0][2],t)}function s(t){i("next",t)}function a(t){i("throw",t)}function u(t,e){t(e),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,h=n.apply(t,e||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function m(t){function e(e,i){n[e]=t[e]?function(n){return(r=!r)?{value:g(t[e](n)),done:"return"===e}:i?i(n):n}:i}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function _(t){function e(e){r[e]=t[e]&&function(r){return new Promise(function(i,o){r=t[e](r),n(i,o,r.done,r.value)})}}function n(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t[Symbol.asyncIterator];return i?i.call(t):(t="function"==typeof f?f(t):t[Symbol.iterator](),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r)}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function I(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return S}),e.__rest=i,e.__decorate=o,e.__param=s,e.__metadata=a,e.__awaiter=u,e.__generator=c,e.__createBinding=h,e.__exportStar=l,e.__values=f,e.__read=p,e.__spread=d,e.__spreadArrays=v,e.__await=g,e.__asyncGenerator=y,e.__asyncDelegator=m,e.__asyncValues=_,e.__makeTemplateObject=b,e.__importStar=w,e.__importDefault=E,e.__classPrivateFieldGet=I,e.__classPrivateFieldSet=T;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},S=function(){return S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},S.apply(this,arguments)}},function(t,e,n){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(t){function e(t){delete d[t]}function n(t){if(t=t||g,!c.contains(d,t))throw p.create("no-app",{appName:t});return d[t]}function r(e,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){n={name:n}}var r=n;void 0===r.name&&(r.name=g);var i=r.name;if("string"!=typeof i||!i)throw p.create("bad-app-name",{appName:String(i)});if(c.contains(d,i))throw p.create("duplicate-app",{appName:i});var o=new t(e,r,_);return d[i]=o,o}function i(){return Object.keys(d).map(function(t){return d[t]})}function o(e){var r,i,o=e.name;if(v.has(o))return m.debug("There were multiple attempts to register component "+o+"."),"PUBLIC"===e.type?_[o]:null;if(v.set(o,e),"PUBLIC"===e.type){var s=function(t){if(void 0===t&&(t=n()),"function"!=typeof t[o])throw p.create("invalid-app-argument",{appName:o});return t[o]()};void 0!==e.serviceProps&&c.deepExtend(s,e.serviceProps),_[o]=s,t.prototype[o]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}try{for(var a=u.__values(Object.keys(d)),h=a.next();!h.done;h=a.next()){var l=h.value;d[l]._addComponent(e)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return"PUBLIC"===e.type?_[o]:null}function s(t,e,n){var r,i=null!==(r=y[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void m.warn(u.join(" "))}o(new h.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))}function a(t,e){if(null!==t&&"function"!=typeof t)throw p.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)}function f(t,e){return"serverAuth"===e?null:e}var d={},v=new Map,_={__esModule:!0,initializeApp:r,app:n,registerVersion:s,setLogLevel:l.setLogLevel,onLog:a,apps:null,SDK_VERSION:b,INTERNAL:{registerComponent:o,removeApp:e,components:v,useAsService:f}};return _.default=_,Object.defineProperty(_,"apps",{get:i}),n.App=t,_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(){function t(t){c.deepExtend(e,t)}var e=r(_);return e.INTERNAL=u.__assign(u.__assign({},e.INTERNAL),{createFirebaseNamespace:i,extendNamespace:t,createSubscribe:c.createSubscribe,ErrorFactory:c.ErrorFactory,deepExtend:c.deepExtend}),e}function o(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}Object.defineProperty(e,"__esModule",{value:!0});var s,a,u=n(0),c=n(3),h=n(2),l=n(5),f=(s={},s["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",s["bad-app-name"]="Illegal App name: '{$appName}",s["duplicate-app"]="Firebase App named '{$appName}' already exists",s["app-deleted"]="Firebase App named '{$appName}' already deleted",s["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",s["invalid-log-argument"]="First argument to `onLog` must be null or a function.",s),p=new c.ErrorFactory("app","Firebase",f),d="@firebase/app",v="0.6.9",g="[DEFAULT]",y=(a={},a[d]="fire-core",a["@firebase/analytics"]="fire-analytics",a["@firebase/auth"]="fire-auth",a["@firebase/database"]="fire-rtdb",a["@firebase/functions"]="fire-fn",a["@firebase/installations"]="fire-iid",a["@firebase/messaging"]="fire-fcm",a["@firebase/performance"]="fire-perf",a["@firebase/remote-config"]="fire-rc",a["@firebase/storage"]="fire-gcs",a["@firebase/firestore"]="fire-fst",a["fire-js"]="fire-js",a["firebase-wrapper"]="fire-js-all",a),m=new l.Logger("@firebase/app"),_=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=c.deepCopy(t),this.container=new h.ComponentContainer(e.name),this._addComponent(new h.Component("app",function(){return o},"PUBLIC"));try{for(var s=u.__values(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var l=a.value;this._addComponent(l)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=g),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=g),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){m.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw p.create("app-deleted",{appName:this.name_})},t}();_.prototype.name&&_.prototype.options||_.prototype.delete||console.log("dc");var b="7.17.1",w=i(),E=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(o(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(c.isBrowser()&&void 0!==self.firebase){m.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var I=self.firebase.SDK_VERSION;I&&I.indexOf("LITE")>=0&&m.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var T=w.initializeApp;w.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return c.isNode()&&m.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),T.apply(void 0,t)};var C=w;!/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){t.INTERNAL.registerComponent(new h.Component("platform-logger",function(t){return new E(t)},"PRIVATE")),t.registerVersion(d,v,e),t.registerVersion("fire-js","")}(C),e.default=C,e.firebase=C},function(t,e,n){"use strict";function r(t){return t===u?void 0:t}function i(t){return"EAGER"===t.instantiationMode}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),s=n(3),a=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),u="[DEFAULT]",c=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=u);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new s.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=o.__assign({identifier:u,optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(i);if(!s){if(r)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,i(t))try{this.getOrInitializeService(u)}catch(t){}try{for(var r=o.__values(this.instancesDeferred.entries()),s=r.next();!s.done;s=r.next()){var a=o.__read(s.value,2),c=a[0],h=a[1],l=this.normalizeInstanceIdentifier(c);try{var f=this.getOrInitializeService(l);h.resolve(f)}catch(t){}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=u),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,r(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:u:t},t}(),h=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new c(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=a,e.ComponentContainer=h,e.Provider=c},function(t,e,n){"use strict";(function(t){/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=i(t[r],e[r]));return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function s(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(o())}function a(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function u(){return"object"==typeof self&&self.self===self}function c(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function h(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function l(){return o().indexOf("Electron/")>=0}function f(){var t=o();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function p(){return o().indexOf("MSAppHost/")>=0}function d(){return!0===F.NODE_CLIENT||!0===F.NODE_ADMIN}function v(){return!a()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g(){return"indexedDB"in window&&null!==indexedDB}function y(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}function m(){return!(!navigator||!navigator.cookieEnabled)}function _(t,e){return t.replace(Q,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b(t){return JSON.parse(t)}function w(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function T(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function C(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function S(t){for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=r[n],o=i[0],s=i[1];!function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}(o,s)}return e.length?"&"+e.join("&"):""}function N(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}function A(t,e){var n=new nt(t,e);return n.subscribe.bind(n)}function k(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function O(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}function P(){}function R(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function x(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(R(t,e,r)+"must be a valid firebase namespace.")}function D(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(R(t,e,r)+"must be a valid function.")}function L(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(R(t,e,r)+"must be a valid context object.")}Object.defineProperty(e,"__esModule",{value:!0});var M=n(0),F={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(t,e){if(!t)throw U(e)},U=function(t){return new Error("Firebase Database ("+F.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},V=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},q=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],s=t[n++],a=t[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{var o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,l=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[h],n[l],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var h=i<t.length,l=h?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==l)throw Error();var f=o<<2|a>>4;if(r.push(f),64!==c){var p=a<<4&240|c>>2;if(r.push(p),64!==l){var d=c<<6&192|l;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},W=function(t){var e=V(t);return B.encodeByteArray(e,!0)},$=function(t){try{return B.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},H=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),G="FirebaseError",K=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=G,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,z.prototype.create),i}return M.__extends(e,t),e}(Error),z=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new K(i,a),c=0,h=Object.keys(r);c<h.length;c++){var l=h[c];"_"!==l.slice(-1)&&(l in u&&console.warn('Overwriting FirebaseError base field "'+l+'" can cause unexpected behavior.'),u[l]=r[l])}return u},t}(),Q=/\{\$([^}]+)}/g,X=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=b($(o[0])||""),n=b($(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},Y=function(t){var e=X(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},J=function(t){var e=X(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},Z=function(t){var e=X(t),n=e.claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},tt=function(t){var e=X(t).claims;return"object"==typeof e&&!0===e.admin},et=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=h^u&(c^h),s=1518500249):(o=u^c^h,s=1859775393):r<60?(o=u&c|h&(u|c),s=2400959708):(o=u^c^h,s=3395469782);var i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295;l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),nt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=O(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=P),void 0===r.error&&(r.error=P),void 0===r.complete&&(r.complete=P);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),rt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},it=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,j(r<t.length,"Surrogate pair missing trail surrogate.");i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ot=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.CONSTANTS=F,e.Deferred=H,e.ErrorFactory=z,e.FirebaseError=K,e.Sha1=et,e.areCookiesEnabled=m,e.assert=j,e.assertionError=U,e.async=k,e.base64=B,e.base64Decode=$,e.base64Encode=W,e.contains=E,e.createSubscribe=A,e.decode=X,e.deepCopy=r,e.deepExtend=i,e.errorPrefix=R,e.getUA=o,e.isAdmin=tt,e.isBrowser=u,e.isBrowserExtension=c,e.isElectron=l,e.isEmpty=T,e.isIE=f,e.isIndexedDBAvailable=g,e.isMobileCordova=s,e.isNode=a,e.isNodeSdk=d,e.isReactNative=h,e.isSafari=v,e.isUWP=p,e.isValidFormat=Z,e.isValidTimestamp=Y,e.issuedAtTime=J,e.jsonEval=b,e.map=C,e.querystring=S,e.querystringDecode=N,e.safeGet=I,e.stringLength=ot,e.stringToByteArray=it,e.stringify=w,e.validateArgCount=rt,e.validateCallback=D,e.validateContextObject=L,e.validateIndexedDBOpenable=y,e.validateNamespace=x}).call(e,n(4))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function i(t){u.forEach(function(e){e.setLogLevel(t)})}function o(t,e){for(var n=0,r=u;n<r.length;n++){var i=r[n];!function(n){var r=null;e&&e.level&&(r=c[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}}(i)}}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"LogLevel",function(){return a}),n.d(e,"Logger",function(){return p}),n.d(e,"setLogLevel",function(){return i}),n.d(e,"setUserLogHandler",function(){return o});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var s,a,u=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(a||(a={}));var c={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},h=a.INFO,l=(s={},s[a.DEBUG]="log",s[a.VERBOSE]="log",s[a.INFO]="info",s[a.WARN]="warn",s[a.ERROR]="error",s),f=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},p=function(){function t(t){this.name=t,this._logLevel=h,this._logHandler=f,this._userLogHandler=null,u.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?c[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}()},function(t,e,n){"use strict";function r(t){return t instanceof ct.FirebaseError&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(t){var e=t.projectId;return gt+"/projects/"+e+"/installations"}function o(t){return{token:t.token,requestStatus:2,expiresIn:h(t.expiresIn),creationTime:Date.now()}}function s(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(ut.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,_t.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function a(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function u(t,e){var n=e.refreshToken,r=a(t);return r.append("Authorization",l(n)),r}function c(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e;return Object(ut.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function h(t){return Number(t.replace("s","000"))}function l(t){return vt+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function f(t,e){var n=e.fid;return Object(ut.__awaiter)(this,void 0,void 0,function(){var e,r,u,h,l,f,p;return Object(ut.__generator)(this,function(d){switch(d.label){case 0:return e=i(t),r=a(t),u={fid:n,authVersion:vt,appId:t.appId,sdkVersion:dt},h={method:"POST",headers:r,body:JSON.stringify(u)},[4,c(function(){return fetch(e,h)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return f=d.sent(),p={fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:o(f.authToken)},[2,p];case 3:return[4,s("Create Installation",l)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(t){return btoa(String.fromCharCode.apply(String,Object(ut.__spread)(t))).replace(/\+/g,"-").replace(/\//g,"_")}function v(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=g(t);return bt.test(e)?e:wt}catch(t){return wt}}function g(t){return d(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function y(t){return t.appName+"!"+t.appId}function m(t,e){var n=y(t);w(n,e),E(n,e)}function _(t,e){I();var n=y(t),r=Et.get(n);r||(r=new Set,Et.set(n,r)),r.add(e)}function b(t,e){var n=y(t),r=Et.get(n);r&&(r.delete(e),0===r.size&&Et.delete(n),T())}function w(t,e){var n,r,i=Et.get(t);if(i)try{for(var o=Object(ut.__values)(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function E(t,e){var n=I();n&&n.postMessage({key:t,fid:e}),T()}function I(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=function(t){w(t.data.key,t.data.fid)}),It}function T(){0===Et.size&&It&&(It.close(),It=null)}function C(){return Nt||(Nt=Object(ht.openDb)(Tt,Ct,function(t){switch(t.oldVersion){case 0:t.createObjectStore(St)}})),Nt}function S(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ut.__generator)(this,function(a){switch(a.label){case 0:return n=y(t),[4,C()];case 1:return r=a.sent(),i=r.transaction(St,"readwrite"),o=i.objectStore(St),[4,o.get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||m(t,e.fid),[2,e]}})})}function N(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(ut.__generator)(this,function(i){switch(i.label){case 0:return e=y(t),[4,C()];case 1:return n=i.sent(),r=n.transaction(St,"readwrite"),[4,r.objectStore(St).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function A(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(ut.__generator)(this,function(u){switch(u.label){case 0:return n=y(t),[4,C()];case 1:return r=u.sent(),i=r.transaction(St,"readwrite"),o=i.objectStore(St),[4,o.get(n)];case 2:return s=u.sent(),a=e(s),void 0!==a?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||m(t,a.fid),[2,a]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function k(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(ut.__generator)(this,function(i){switch(i.label){case 0:return[4,A(t,function(n){var r=O(n),i=P(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return n=i.sent(),n.fid!==wt?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function O(t){return L(t||{fid:v(),registrationStatus:0})}function P(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(_t.create("app-offline"))}}var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:R(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:x(t)}:{installationEntry:e}}function R(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,i;return Object(ut.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,7]),[4,f(t,e)];case 1:return n=o.sent(),[2,S(t,n)];case 2:return i=o.sent(),r(i)&&409===i.serverCode?[4,N(t)]:[3,4];case 3:return o.sent(),[3,6];case 4:return[4,S(t,{fid:e.fid,registrationStatus:0})];case 5:o.sent(),o.label=6;case 6:throw i;case 7:return[2]}})})}function x(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(ut.__generator)(this,function(o){switch(o.label){case 0:return[4,D(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,p(100)];case 3:return o.sent(),[4,D(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,k(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function D(t){return A(t,function(t){if(!t)throw _t.create("installation-not-found");return L(t)})}function L(t){return M(t)?{fid:t.fid,registrationStatus:0}:t}function M(t){return 1===t.registrationStatus&&t.registrationTime+pt<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function F(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(ut.__awaiter)(this,void 0,void 0,function(){var t,i,a,h,l,f,p,d;return Object(ut.__generator)(this,function(v){switch(v.label){case 0:return t=j(n,e),i=u(n,e),a=r.getImmediate({optional:!0}),a&&i.append("x-firebase-client",a.getPlatformInfoString()),h={installation:{sdkVersion:dt}},l={method:"POST",headers:i,body:JSON.stringify(h)},[4,c(function(){return fetch(t,l)})];case 1:return f=v.sent(),f.ok?[4,f.json()]:[3,3];case 2:return p=v.sent(),d=o(p),[2,d];case 3:return[4,s("Generate Auth Token",f)];case 4:throw v.sent()}})})}function j(t,e){var n=e.fid;return i(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function U(t,e){return void 0===e&&(e=!1),Object(ut.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(ut.__generator)(this,function(s){switch(s.label){case 0:return[4,A(t.appConfig,function(r){if(!W(r))throw _t.create("not-registered");var i=r.authToken;if(!e&&$(i))return r;if(1===i.requestStatus)return n=V(t,e),r;if(!navigator.onLine)throw _t.create("app-offline");var o=G(r);return n=B(t,o),o})];case 1:return r=s.sent(),n?[4,n]:[3,3];case 2:return o=s.sent(),[3,4];case 3:o=r.authToken,s.label=4;case 4:return i=o,[2,i]}})})}function V(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(ut.__generator)(this,function(i){switch(i.label){case 0:return[4,q(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,p(100)];case 3:return i.sent(),[4,q(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,U(t,e)]:[2,r]}})})}function q(t){return A(t,function(t){if(!W(t))throw _t.create("not-registered");return K(t.authToken)?Object(ut.__assign)(Object(ut.__assign)({},t),{authToken:{requestStatus:0}}):t})}function B(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,i,o,i;return Object(ut.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,F(t,e)];case 1:return n=s.sent(),i=Object(ut.__assign)(Object(ut.__assign)({},e),{authToken:n}),[4,S(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return o=s.sent(),!r(o)||401!==o.serverCode&&404!==o.serverCode?[3,5]:[4,N(t.appConfig)];case 4:return s.sent(),[3,7];case 5:return i=Object(ut.__assign)(Object(ut.__assign)({},e),{authToken:{requestStatus:0}}),[4,S(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw o;case 8:return[2]}})})}function W(t){return void 0!==t&&2===t.registrationStatus}function $(t){return 2===t.requestStatus&&!H(t)}function H(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+yt}function G(t){var e={requestStatus:1,requestTime:Date.now()};return Object(ut.__assign)(Object(ut.__assign)({},t),{authToken:e})}function K(t){return 1===t.requestStatus&&t.requestTime+pt<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function z(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(ut.__generator)(this,function(i){switch(i.label){case 0:return[4,k(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):U(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(t,e){return void 0===e&&(e=!1),Object(ut.__awaiter)(this,void 0,void 0,function(){var n;return Object(ut.__generator)(this,function(r){switch(r.label){case 0:return[4,X(t.appConfig)];case 1:return r.sent(),[4,U(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function X(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e;return Object(ut.__generator)(this,function(n){switch(n.label){case 0:return[4,k(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Y(t,e){return Object(ut.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(ut.__generator)(this,function(a){switch(a.label){case 0:return n=J(t,e),r=u(t,e),i={method:"DELETE",headers:r},[4,c(function(){return fetch(n,i)})];case 1:return o=a.sent(),o.ok?[3,3]:[4,s("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function J(t,e){var n=e.fid;return i(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Z(t){return Object(ut.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(ut.__generator)(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,A(e,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw _t.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw _t.create("app-offline");case 3:return[4,Y(e,n)];case 4:return r.sent(),[4,N(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tt(t,e){var n=t.appConfig;return _(n,e),function(){b(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function et(t){var e,n;if(!t||!t.options)throw nt("App Configuration");if(!t.name)throw nt("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Object(ut.__values)(r),o=i.next();!o.done;o=i.next()){var s=o.value;if(!t.options[s])throw nt(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nt(t){return _t.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rt(t){t.INTERNAL.registerComponent(new at.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n=et(e),r=t.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r};return{app:e,getId:function(){return z(i)},getToken:function(t){return Q(i,t)},delete:function(){return Z(i)},onIdChange:function(t){return tt(i,t)}}},"PUBLIC")),t.registerVersion(lt,ft)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerInstallations",function(){return rt});var it,ot=n(1),st=n.n(ot),at=n(2),ut=(n.n(at),n(0)),ct=n(3),ht=(n.n(ct),n(10)),lt=(n.n(ht),"@firebase/installations"),ft="0.4.15",pt=1e4,dt="w:"+ft,vt="FIS_v2",gt="https://firebaseinstallations.googleapis.com/v1",yt=36e5,mt=(it={},it["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',it["not-registered"]="Firebase Installation is not registered.",it["installation-not-found"]="Firebase Installation not found.",it["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',it["app-offline"]="Could not process request. Application offline.",it["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",it),_t=new ct.ErrorFactory("installations","Installations",mt),bt=/^[cdef][\w-]{21}$/,wt="",Et=new Map,It=null,Tt="firebase-installations-database",Ct=1,St="firebase-installations-store",Nt=null;rt(st.a)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):g=-1,d.length&&a())}function a(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,l,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,d=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var r=n(22),i=(n.n(r),Object(r.initializeApp)({apiKey:"AIzaSyBBlIbFahLZUQwkFOZXw0v34C8L96Sje9w",authDomain:"task-a7708.firebaseapp.com",databaseURL:"https://task-a7708.firebaseio.com",projectId:"task-a7708",storageBucket:"task-a7708.appspot.com",messagingSenderId:"1025271576255",appId:"1:1025271576255:web:0651870242d9a59397380a"})),o=i.database(),s=(o.ref(),o.ref("names"))},function(t,e,n){"use strict";var r=n(8);e.a={name:"app",data:function(){return{name:null,names:{},editForm:[]}},created:function(){var t=this;r.b.on("value",function(e){console.log(e.val()),t.names=e.val()})},methods:{addName:function(){r.b.push({name:this.name})},editName:function(t){r.a.ref("names/"+t).set({name:this.editForm[t]})},delName:function(t){r.b.child(t).remove()}}}},function(t,e,n){!function(t,n){n(e)}(0,function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){i=t[e].apply(t,r),n(i).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new h(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function h(t,e){this._cursor=t,this._request=e}function l(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new d(t)})}function g(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(h,"_cursor",["direction","key","primaryKey","value"]),s(h,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(h.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new h(t,e._request)})})})}),l.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(l,"_store",["name","keyPath","indexNames","autoIncrement"]),s(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(l,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[l,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,l].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){return t?(r.push(t.value),void 0!==e&&r.length==e?void i(r):void t.continue()):void i(r)})})})}),t.openDb=v,t.deleteDb=g,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),i=n(15),o=(n(8),n(34));r.a.use(o.a),new r.a({el:"#app",render:function(t){return t(i.a)}})},function(t,e,n){"use strict";(function(t,n){function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function s(t){return!1===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}function c(t){return"[object Object]"===Co.call(t)}function h(t){return"[object RegExp]"===Co.call(t)}function l(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===Co?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function g(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function y(t,e){return Ao.call(t,e)}function m(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}function _(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function b(t,e){return t.bind(e)}function w(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function E(t,e){for(var n in e)t[n]=e[n];return t}function I(t){for(var e={},n=0;n<t.length;n++)t[n]&&E(e,t[n]);return e}function T(t,e,n){}function C(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return C(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every(function(n){return C(t[n],e[n])})}catch(t){return!1}}function S(t,e){for(var n=0;n<t.length;n++)if(C(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function A(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function k(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function O(t){if(!Bo.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function P(t){return"function"==typeof t&&/native code/.test(t.toString())}function R(t){hs.push(t),cs.target=t}function x(){hs.pop(),cs.target=hs[hs.length-1]}function D(t){return new ls(void 0,void 0,void 0,String(t))}function L(t){var e=new ls(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}function M(t){ys=t}function F(t,e){t.__proto__=e}function j(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];k(t,o,e[o])}}function U(t,e){if(u(t)&&!(t instanceof ls)){var n;return y(t,"__ob__")&&t.__ob__ instanceof ms?n=t.__ob__:ys&&!is()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new ms(t)),e&&n&&n.vmCount++,n}}function V(t,e,n,r,i){var o=new cs,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,u=s&&s.set;a&&!u||2!==arguments.length||(n=t[e]);var c=!i&&U(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return cs.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&W(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!==e&&r!==r||a&&!u||(u?u.call(t,e):n=e,c=!i&&U(e),o.notify())}})}}function q(t,e,n){if(Array.isArray(t)&&l(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(V(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function B(t,e){if(Array.isArray(t)&&l(e))return void t.splice(e,1);var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}function W(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&W(e)}function $(t,e){if(!e)return t;for(var n,r,i,o=ss?Reflect.ownKeys(e):Object.keys(e),s=0;s<o.length;s++)"__ob__"!==(n=o[s])&&(r=t[n],i=e[n],y(t,n)?r!==i&&c(r)&&c(i)&&$(r,i):q(t,n,i));return t}function H(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?$(r,i):i}:e?t?function(){return $("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function G(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?K(n):n}function K(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function z(t,e,n,r){var i=Object.create(t||null);return e?E(i,e):i}function Q(t,e){var n=t.props;if(n){var r,i,o,s={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o=Oo(i),s[o]={type:null});else if(c(n))for(var a in n)i=n[a],o=Oo(a),s[o]=c(i)?i:{type:i};t.props=s}}function X(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var s=n[o];r[o]=c(s)?E({from:o},s):{from:s}}}}function Y(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}function J(t,e,n){function r(r){var i=_s[r]||ws;a[r]=i(t[r],e[r],n,r)}if("function"==typeof e&&(e=e.options),Q(e,n),X(e,n),Y(e),!e._base&&(e.extends&&(t=J(t,e.extends,n)),e.mixins))for(var i=0,o=e.mixins.length;i<o;i++)t=J(t,e.mixins[i],n);var s,a={};for(s in t)r(s);for(s in e)y(t,s)||r(s);return a}function Z(t,e,n,r){if("string"==typeof n){var i=t[e];if(y(i,n))return i[n];var o=Oo(n);if(y(i,o))return i[o];var s=Po(o);if(y(i,s))return i[s];return i[n]||i[o]||i[s]}}function tt(t,e,n,r){var i=e[t],o=!y(n,t),s=n[t],a=it(Boolean,i.type);if(a>-1)if(o&&!y(i,"default"))s=!1;else if(""===s||s===xo(t)){var u=it(String,i.type);(u<0||a<u)&&(s=!0)}if(void 0===s){s=et(r,i,t);var c=ys;M(!0),U(s),M(c)}return s}function et(t,e,n){if(y(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==nt(e.type)?r.call(t):r}}function nt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function rt(t,e){return nt(t)===nt(e)}function it(t,e){if(!Array.isArray(e))return rt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(rt(e[n],t))return n;return-1}function ot(t,e,n){R();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var s=!1===i[o].call(r,t,e,n);if(s)return}catch(t){at(t,r,"errorCaptured hook")}}at(t,e,n)}finally{x()}}function st(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(t){return ot(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(t){ot(t,r,i)}return o}function at(t,e,n){if(Vo.errorHandler)try{return Vo.errorHandler.call(null,t,e,n)}catch(e){e!==t&&ut(e,null,"config.errorHandler")}ut(t,e,n)}function ut(t,e,n){if(!$o&&!Ho||"undefined"==typeof console)throw t;console.error(t)}function ct(){Ts=!1;var t=Is.slice(0);Is.length=0;for(var e=0;e<t.length;e++)t[e]()}function ht(t,e){var n;if(Is.push(function(){if(t)try{t.call(e)}catch(t){ot(t,e,"nextTick")}else n&&n(e)}),Ts||(Ts=!0,bs()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}function lt(t){ft(t,ks),ks.clear()}function ft(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof ls)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)ft(t[n],e);else for(r=Object.keys(t),n=r.length;n--;)ft(t[r[n]],e)}}function pt(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return st(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)st(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function dt(t,e,n,i,s,a){var u,c,h,l;for(u in t)c=t[u],h=e[u],l=Os(u),r(c)||(r(h)?(r(c.fns)&&(c=t[u]=pt(c,a)),o(l.once)&&(c=t[u]=s(l.name,c,l.capture)),n(l.name,c,l.capture,l.passive,l.params)):c!==h&&(h.fns=c,t[u]=h));for(u in e)r(t[u])&&(l=Os(u),i(l.name,e[u],l.capture))}function vt(t,e,n){function s(){n.apply(this,arguments),g(a.fns,s)}t instanceof ls&&(t=t.data.hook||(t.data.hook={}));var a,u=t[e];r(u)?a=pt([s]):i(u.fns)&&o(u.merged)?(a=u,a.fns.push(s)):a=pt([u,s]),a.merged=!0,t[e]=a}function gt(t,e,n){var o=e.options.props;if(!r(o)){var s={},a=t.attrs,u=t.props;if(i(a)||i(u))for(var c in o){var h=xo(c);yt(s,u,c,h,!0)||yt(s,a,c,h,!1)}return s}}function yt(t,e,n,r,o){if(i(e)){if(y(e,n))return t[n]=e[n],o||delete e[n],!0;if(y(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function mt(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function _t(t){return a(t)?[D(t)]:Array.isArray(t)?wt(t):void 0}function bt(t){return i(t)&&i(t.text)&&s(t.isComment)}function wt(t,e){var n,s,u,c,h=[];for(n=0;n<t.length;n++)s=t[n],r(s)||"boolean"==typeof s||(u=h.length-1,c=h[u],Array.isArray(s)?s.length>0&&(s=wt(s,(e||"")+"_"+n),bt(s[0])&&bt(c)&&(h[u]=D(c.text+s[0].text),s.shift()),h.push.apply(h,s)):a(s)?bt(c)?h[u]=D(c.text+s):""!==s&&h.push(D(s)):bt(s)&&bt(c)?h[u]=D(c.text+s.text):(o(t._isVList)&&i(s.tag)&&r(s.key)&&i(e)&&(s.key="__vlist"+e+"_"+n+"__"),h.push(s)));return h}function Et(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function It(t){var e=Tt(t.$options.inject,t);e&&(M(!1),Object.keys(e).forEach(function(n){V(t,n,e[n])}),M(!0))}function Tt(t,e){if(t){for(var n=Object.create(null),r=ss?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var s=t[o].from,a=e;a;){if(a._provided&&y(a._provided,s)){n[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}}}return n}}function Ct(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=s.slot,u=n[a]||(n[a]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(St)&&delete n[c];return n}function St(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Nt(t,e,n){var r,i=Object.keys(e).length>0,o=t?!!t.$stable:!i,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&n&&n!==To&&s===n.$key&&!i&&!n.$hasNormal)return n;r={};for(var a in t)t[a]&&"$"!==a[0]&&(r[a]=At(e,a,t[a]))}else r={};for(var u in e)u in r||(r[u]=kt(e,u));return t&&Object.isExtensible(t)&&(t._normalized=r),k(r,"$stable",o),k(r,"$key",s),k(r,"$hasNormal",i),r}function At(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:_t(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function kt(t,e){return function(){return t[e]}}function Ot(t,e){var n,r,o,s,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ss&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),h=c.next();!h.done;)n.push(e(h.value,n.length)),h=c.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=e(t[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function Pt(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=E(E({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var s=n&&n.slot;return s?this.$createElement("template",{slot:s},i):i}function Rt(t){return Z(this.$options,"filters",t,!0)||Mo}function xt(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Dt(t,e,n,r,i){var o=Vo.keyCodes[e]||n;return i&&r&&!Vo.keyCodes[e]?xt(i,r):o?xt(o,t):r?xo(r)!==e:void 0}function Lt(t,e,n,r,i){if(n)if(u(n)){Array.isArray(n)&&(n=I(n));var o;for(var s in n)!function(s){if("class"===s||"style"===s||No(s))o=t;else{var a=t.attrs&&t.attrs.type;o=r||Vo.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=Oo(s),c=xo(s);if(!(u in o||c in o)&&(o[s]=n[s],i)){(t.on||(t.on={}))["update:"+s]=function(t){n[s]=t}}}(s)}else;return t}function Mt(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),jt(r,"__static__"+t,!1),r)}function Ft(t,e,n){return jt(t,"__once__"+e+(n?"_"+n:""),!0),t}function jt(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ut(t[r],e+"_"+r,n);else Ut(t,e,n)}function Ut(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Vt(t,e){if(e)if(c(e)){var n=t.on=t.on?E({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function qt(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?qt(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Bt(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Wt(t,e){return"string"==typeof t?e+t:t}function $t(t){t._o=Ft,t._n=d,t._s=p,t._l=Ot,t._t=Pt,t._q=C,t._i=S,t._m=Mt,t._f=Rt,t._k=Dt,t._b=Lt,t._v=D,t._e=ps,t._u=qt,t._g=Vt,t._d=Bt,t._p=Wt}function Ht(t,e,n,r,i){var s,a=this,u=i.options;y(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var c=o(u._compiled),h=!c;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||To,this.injections=Tt(u.inject,r),this.slots=function(){return a.$slots||Nt(t.scopedSlots,a.$slots=Ct(n,r)),a.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Nt(t.scopedSlots,this.slots())}}),c&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Nt(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var o=te(s,t,e,n,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,r){return te(s,t,e,n,r,h)}}function Gt(t,e,n,r,o){var s=t.options,a={},u=s.props;if(i(u))for(var c in u)a[c]=tt(c,u,e||To);else i(n.attrs)&&zt(a,n.attrs),i(n.props)&&zt(a,n.props);var h=new Ht(n,a,o,r,t),l=s.render.call(null,h._c,h);if(l instanceof ls)return Kt(l,n,h.parent,s,h);if(Array.isArray(l)){for(var f=_t(l)||[],p=new Array(f.length),d=0;d<f.length;d++)p[d]=Kt(f[d],n,h.parent,s,h);return p}}function Kt(t,e,n,r,i){var o=L(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function zt(t,e){for(var n in e)t[Oo(n)]=e[n]}function Qt(t,e,n,s,a){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"==typeof t){var h;if(r(t.cid)&&(h=t,void 0===(t=ae(h,c))))return se(h,e,n,s,a);e=e||{},Be(t),i(e.model)&&Zt(t.options,e);var l=gt(e,t,a);if(o(t.options.functional))return Gt(t,l,e,n,s);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}Yt(e);var d=t.options.name||a;return new ls("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:l,listeners:f,tag:a,children:s},h)}}}function Xt(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function Yt(t){for(var e=t.hook||(t.hook={}),n=0;n<xs.length;n++){var r=xs[n],i=e[r],o=Rs[r];i===o||i&&i._merged||(e[r]=i?Jt(o,i):o)}}function Jt(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Zt(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[r],a=e.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}function te(t,e,n,r,i,s){return(Array.isArray(n)||a(n))&&(i=r,r=n,n=void 0),o(s)&&(i=Ls),ee(t,e,n,r,i)}function ee(t,e,n,r,o){if(i(n)&&i(n.__ob__))return ps();if(i(n)&&i(n.is)&&(e=n.is),!e)return ps();Array.isArray(r)&&"function"==typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===Ls?r=_t(r):o===Ds&&(r=mt(r));var s,a;if("string"==typeof e){var u;a=t.$vnode&&t.$vnode.ns||Vo.getTagNamespace(e),s=Vo.isReservedTag(e)?new ls(Vo.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=Z(t.$options,"components",e))?new ls(e,n,r,void 0,void 0,t):Qt(u,n,t,r,e)}else s=Qt(e,n,t,r);return Array.isArray(s)?s:i(s)?(i(a)&&ne(s,a),i(n)&&re(n),s):ps()}function ne(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var s=0,a=t.children.length;s<a;s++){var u=t.children[s];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&ne(u,e,n)}}function re(t){u(t.style)&&lt(t.style),u(t.class)&&lt(t.class)}function ie(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=Ct(e._renderChildren,r),t.$scopedSlots=To,t._c=function(e,n,r,i){return te(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return te(t,e,n,r,i,!0)};var i=n&&n.data;V(t,"$attrs",i&&i.attrs||To,null,!0),V(t,"$listeners",e._parentListeners||To,null,!0)}function oe(t,e){return(t.__esModule||ss&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function se(t,e,n,r,i){var o=ps();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function ae(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=Ms;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var s=t.owners=[n],a=!0,c=null,h=null;n.$on("hook:destroyed",function(){return g(s,n)});var l=function(t){for(var e=0,n=s.length;e<n;e++)s[e].$forceUpdate();t&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==h&&(clearTimeout(h),h=null))},p=N(function(n){t.resolved=oe(n,e),a?s.length=0:l(!0)}),d=N(function(e){i(t.errorComp)&&(t.error=!0,l(!0))}),v=t(p,d);return u(v)&&(f(v)?r(t.resolved)&&v.then(p,d):f(v.component)&&(v.component.then(p,d),i(v.error)&&(t.errorComp=oe(v.error,e)),i(v.loading)&&(t.loadingComp=oe(v.loading,e),0===v.delay?t.loading=!0:c=setTimeout(function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,l(!1))},v.delay||200)),i(v.timeout)&&(h=setTimeout(function(){h=null,r(t.resolved)&&d(null)},v.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}function ue(t){return t.isComment&&t.asyncFactory}function ce(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||ue(n)))return n}}function he(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&de(t,e)}function le(t,e){Ps.$on(t,e)}function fe(t,e){Ps.$off(t,e)}function pe(t,e){var n=Ps;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function de(t,e,n){Ps=t,dt(e,n||{},le,fe,pe,t),Ps=void 0}function ve(t){var e=Fs;return Fs=t,function(){Fs=e}}function ge(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function ye(t,e,n){t.$el=e,t.$options.render||(t.$options.render=ps),Ee(t,"beforeMount");var r;return r=function(){t._update(t._render(),n)},new zs(t,r,T,{before:function(){t._isMounted&&!t._isDestroyed&&Ee(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Ee(t,"mounted")),t}function me(t,e,n,r,i){var o=r.data.scopedSlots,s=t.$scopedSlots,a=!!(o&&!o.$stable||s!==To&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),u=!!(i||t.$options._renderChildren||a);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data.attrs||To,t.$listeners=n||To,e&&t.$options.props){M(!1);for(var c=t._props,h=t.$options._propKeys||[],l=0;l<h.length;l++){var f=h[l],p=t.$options.props;c[f]=tt(f,p,e,t)}M(!0),t.$options.propsData=e}n=n||To;var d=t.$options._parentListeners;t.$options._parentListeners=n,de(t,n,d),u&&(t.$slots=Ct(i,r.context),t.$forceUpdate())}function _e(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function be(t,e){if(e){if(t._directInactive=!1,_e(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)be(t.$children[n]);Ee(t,"activated")}}function we(t,e){if(!(e&&(t._directInactive=!0,_e(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)we(t.$children[n]);Ee(t,"deactivated")}}function Ee(t,e){R();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)st(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),x()}function Ie(){Ws=js.length=Us.length=0,Vs={},qs=Bs=!1}function Te(){$s=Hs(),Bs=!0;var t,e;for(js.sort(function(t,e){return t.id-e.id}),Ws=0;Ws<js.length;Ws++)t=js[Ws],t.before&&t.before(),e=t.id,Vs[e]=null,t.run();var n=Us.slice(),r=js.slice();Ie(),Ne(n),Ce(r),os&&Vo.devtools&&os.emit("flush")}function Ce(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Ee(r,"updated")}}function Se(t){t._inactive=!1,Us.push(t)}function Ne(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,be(t[e],!0)}function Ae(t){var e=t.id;if(null==Vs[e]){if(Vs[e]=!0,Bs){for(var n=js.length-1;n>Ws&&js[n].id>t.id;)n--;js.splice(n+1,0,t)}else js.push(t);qs||(qs=!0,ht(Te))}}function ke(t,e,n){Qs.get=function(){return this[e][n]},Qs.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Qs)}function Oe(t){t._watchers=[];var e=t.$options;e.props&&Pe(t,e.props),e.methods&&je(t,e.methods),e.data?Re(t):U(t._data={},!0),e.computed&&De(t,e.computed),e.watch&&e.watch!==Zo&&Ue(t,e.watch)}function Pe(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||M(!1);for(var s in e)!function(o){i.push(o);var s=tt(o,e,n,t);V(r,o,s),o in t||ke(t,"_props",o)}(s);M(!0)}function Re(t){var e=t.$options.data;e=t._data="function"==typeof e?xe(e,t):e||{},c(e)||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&y(r,o)||A(o)||ke(t,"_data",o)}U(e,!0)}function xe(t,e){R();try{return t.call(e,e)}catch(t){return ot(t,e,"data()"),{}}finally{x()}}function De(t,e){var n=t._computedWatchers=Object.create(null),r=is();for(var i in e){var o=e[i],s="function"==typeof o?o:o.get;r||(n[i]=new zs(t,s||T,T,Xs)),i in t||Le(t,i,o)}}function Le(t,e,n){var r=!is();"function"==typeof n?(Qs.get=r?Me(e):Fe(n),Qs.set=T):(Qs.get=n.get?r&&!1!==n.cache?Me(e):Fe(n.get):T,Qs.set=n.set||T),Object.defineProperty(t,e,Qs)}function Me(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),cs.target&&e.depend(),e.value}}function Fe(t){return function(){return t.call(this,this)}}function je(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?T:Do(e[n],t)}function Ue(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Ve(t,n,r[i]);else Ve(t,n,r)}}function Ve(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}function qe(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Be(t){var e=t.options;if(t.super){var n=Be(t.super);if(n!==t.superOptions){t.superOptions=n;var r=We(t);r&&E(t.extendOptions,r),e=t.options=J(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function We(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function $e(t){this._init(t)}function He(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=w(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}function Ge(t){t.mixin=function(t){return this.options=J(this.options,t),this}}function Ke(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,s=function(t){this._init(t)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=e++,s.options=J(n.options,t),s.super=n,s.options.props&&ze(s),s.options.computed&&Qe(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,jo.forEach(function(t){s[t]=n[t]}),o&&(s.options.components[o]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=E({},s.options),i[r]=s,s}}function ze(t){var e=t.options.props;for(var n in e)ke(t.prototype,"_props",n)}function Qe(t){var e=t.options.computed;for(var n in e)Le(t.prototype,n,e[n])}function Xe(t){jo.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Ye(t){return t&&(t.Ctor.options.name||t.tag)}function Je(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ze(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var s=n[o];if(s){var a=Ye(s.componentOptions);a&&!e(a)&&tn(n,o,r,i)}}}function tn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,g(n,e)}function en(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=nn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=nn(e,n.data));return rn(e.staticClass,e.class)}function nn(t,e){return{staticClass:on(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function rn(t,e){return i(t)||i(e)?on(t,sn(e)):""}function on(t,e){return t?e?t+" "+e:t:e||""}function sn(t){return Array.isArray(t)?an(t):u(t)?un(t):"string"==typeof t?t:""}function an(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=sn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function un(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function cn(t){return Ta(t)?"svg":"math"===t?"math":void 0}function hn(t){if(!$o)return!0;if(Sa(t))return!1;if(t=t.toLowerCase(),null!=Na[t])return Na[t];var e=document.createElement(t);return t.indexOf("-")>-1?Na[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Na[t]=/HTMLUnknownElement/.test(e.toString())}function ln(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function fn(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function pn(t,e){return document.createElementNS(Ea[t],e)}function dn(t){return document.createTextNode(t)}function vn(t){return document.createComment(t)}function gn(t,e,n){t.insertBefore(e,n)}function yn(t,e){t.removeChild(e)}function mn(t,e){t.appendChild(e)}function _n(t){return t.parentNode}function bn(t){return t.nextSibling}function wn(t){return t.tagName}function En(t,e){t.textContent=e}function In(t,e){t.setAttribute(e,"")}function Tn(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,s=r.$refs;e?Array.isArray(s[n])?g(s[n],o):s[n]===o&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}function Cn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Sn(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Sn(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Aa(r)&&Aa(o)}function Nn(t,e,n){var r,o,s={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(s[o]=r);return s}function An(t,e){(t.data.directives||e.data.directives)&&kn(t,e)}function kn(t,e){var n,r,i,o=t===Pa,s=e===Pa,a=On(t.data.directives,t.context),u=On(e.data.directives,e.context),c=[],h=[];for(n in u)r=a[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Rn(i,"update",e,t),i.def&&i.def.componentUpdated&&h.push(i)):(Rn(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var l=function(){for(var n=0;n<c.length;n++)Rn(c[n],"inserted",e,t)};o?vt(e,"insert",l):l()}if(h.length&&vt(e,"postpatch",function(){for(var n=0;n<h.length;n++)Rn(h[n],"componentUpdated",e,t)}),!o)for(n in a)u[n]||Rn(a[n],"unbind",t,t,s)}function On(t,e){var n=Object.create(null);if(!t)return n;var r,i;for(r=0;r<t.length;r++)i=t[r],i.modifiers||(i.modifiers=Da),n[Pn(i)]=i,i.def=Z(e.$options,"directives",i.name,!0);return n}function Pn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Rn(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){ot(r,n.context,"directive "+t.name+" "+e+" hook")}}function xn(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var o,s,a=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};i(c.__ob__)&&(c=e.data.attrs=E({},c));for(o in c)s=c[o],u[o]!==s&&Dn(a,o,s);(zo||Xo)&&c.value!==u.value&&Dn(a,"value",c.value);for(o in u)r(c[o])&&(_a(o)?a.removeAttributeNS(ma,ba(o)):da(o)||a.removeAttribute(o))}}function Dn(t,e,n){t.tagName.indexOf("-")>-1?Ln(t,e,n):ya(e)?wa(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):da(e)?t.setAttribute(e,ga(e,n)):_a(e)?wa(n)?t.removeAttributeNS(ma,ba(e)):t.setAttributeNS(ma,e,n):Ln(t,e,n)}function Ln(t,e,n){if(wa(n))t.removeAttribute(e);else{if(zo&&!Qo&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}function Mn(t,e){var n=e.elm,o=e.data,s=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(s)||r(s.staticClass)&&r(s.class)))){var a=en(e),u=n._transitionClasses;i(u)&&(a=on(a,sn(u))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}function Fn(t){function e(){(s||(s=[])).push(t.slice(d,i).trim()),d=i+1}var n,r,i,o,s,a=!1,u=!1,c=!1,h=!1,l=0,f=0,p=0,d=0;for(i=0;i<t.length;i++)if(r=n,n=t.charCodeAt(i),a)39===n&&92!==r&&(a=!1);else if(u)34===n&&92!==r&&(u=!1);else if(c)96===n&&92!==r&&(c=!1);else if(h)47===n&&92!==r&&(h=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||l||f||p){switch(n){case 34:u=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===n){for(var v=i-1,g=void 0;v>=0&&" "===(g=t.charAt(v));v--);g&&ja.test(g)||(h=!0)}}else void 0===o?(d=i+1,o=t.slice(0,i).trim()):e();if(void 0===o?o=t.slice(0,i).trim():0!==d&&e(),s)for(i=0;i<s.length;i++)o=jn(o,s[i]);return o}function jn(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function Un(t,e){console.error("[Vue compiler]: "+t)}function Vn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function qn(t,e,n,r,i){(t.props||(t.props=[])).push(Yn({name:e,value:n,dynamic:i},r)),t.plain=!1}function Bn(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Yn({name:e,value:n,dynamic:i},r)),t.plain=!1}function Wn(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Yn({name:e,value:n},r))}function $n(t,e,n,r,i,o,s,a){(t.directives||(t.directives=[])).push(Yn({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:s},a)),t.plain=!1}function Hn(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Gn(t,e,n,r,i,o,s,a){r=r||To,r.right?a?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete r.right):r.middle&&(a?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=Hn("!",e,a)),r.once&&(delete r.once,e=Hn("~",e,a)),r.passive&&(delete r.passive,e=Hn("&",e,a));var u;r.native?(delete r.native,u=t.nativeEvents||(t.nativeEvents={})):u=t.events||(t.events={});var c=Yn({value:n.trim(),dynamic:a},s);r!==To&&(c.modifiers=r);var h=u[e];Array.isArray(h)?i?h.unshift(c):h.push(c):u[e]=h?i?[c,h]:[h,c]:c,t.plain=!1}function Kn(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}function zn(t,e,n){var r=Qn(t,":"+e)||Qn(t,"v-bind:"+e);if(null!=r)return Fn(r);if(!1!==n){var i=Qn(t,e);if(null!=i)return JSON.stringify(i)}}function Qn(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,s=i.length;o<s;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function Xn(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Yn(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Jn(t,e,n){var r=n||{},i=r.number,o=r.trim,s="$$v";o&&(s="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(s="_n("+s+")");var a=Zn(e,s);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function Zn(t,e){var n=tr(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function tr(t){if(t=t.trim(),ea=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<ea-1)return ia=t.lastIndexOf("."),ia>-1?{exp:t.slice(0,ia),key:'"'+t.slice(ia+1)+'"'}:{exp:t,key:null};for(na=t,ia=oa=sa=0;!nr();)ra=er(),rr(ra)?or(ra):91===ra&&ir(ra);return{exp:t.slice(0,oa),key:t.slice(oa+1,sa)}}function er(){return na.charCodeAt(++ia)}function nr(){return ia>=ea}function rr(t){return 34===t||39===t}function ir(t){var e=1;for(oa=ia;!nr();)if(t=er(),rr(t))or(t);else if(91===t&&e++,93===t&&e--,0===e){sa=ia;break}}function or(t){for(var e=t;!nr()&&(t=er())!==e;);}function sr(t,e,n){aa=n;var r=e.value,i=e.modifiers,o=t.tag,s=t.attrsMap.type;if(t.component)return Jn(t,r,i),!1;if("select"===o)cr(t,r,i);else if("input"===o&&"checkbox"===s)ar(t,r,i);else if("input"===o&&"radio"===s)ur(t,r,i);else if("input"===o||"textarea"===o)hr(t,r,i);else if(!Vo.isReservedTag(o))return Jn(t,r,i),!1;return!0}function ar(t,e,n){var r=n&&n.number,i=zn(t,"value")||"null",o=zn(t,"true-value")||"true",s=zn(t,"false-value")||"false";qn(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Gn(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Zn(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Zn(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Zn(e,"$$c")+"}",null,!0)}function ur(t,e,n){var r=n&&n.number,i=zn(t,"value")||"null";i=r?"_n("+i+")":i,qn(t,"checked","_q("+e+","+i+")"),Gn(t,"change",Zn(e,i),null,!0)}function cr(t,e,n){var r=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(r?"_n(val)":"val")+"})",o="var $$selectedVal = "+i+";";o=o+" "+Zn(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Gn(t,"change",o,null,!0)}function hr(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,s=i.number,a=i.trim,u=!o&&"range"!==r,c=o?"change":"range"===r?Ua:"input",h="$event.target.value";a&&(h="$event.target.value.trim()"),s&&(h="_n("+h+")");var l=Zn(e,h);u&&(l="if($event.target.composing)return;"+l),qn(t,"value","("+e+")"),Gn(t,c,l,null,!0),(a||s)&&Gn(t,"blur","$forceUpdate()")}function lr(t){if(i(t[Ua])){var e=zo?"change":"input";t[e]=[].concat(t[Ua],t[e]||[]),delete t[Ua]}i(t[Va])&&(t.change=[].concat(t[Va],t.change||[]),delete t[Va])}function fr(t,e,n){var r=ua;return function i(){null!==e.apply(null,arguments)&&dr(t,i,n,r)}}function pr(t,e,n,r){if(qa){var i=$s,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}ua.addEventListener(t,e,ts?{capture:n,passive:r}:n)}function dr(t,e,n,r){(r||ua).removeEventListener(t,e._wrapper||e,n)}function vr(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};ua=e.elm,lr(n),dt(n,i,pr,dr,fr,e.context),ua=void 0}}function gr(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,s=e.elm,a=t.data.domProps||{},u=e.data.domProps||{};i(u.__ob__)&&(u=e.data.domProps=E({},u));for(n in a)n in u||(s[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=o;var c=r(o)?"":String(o);yr(s,c)&&(s.value=c)}else if("innerHTML"===n&&Ta(s.tagName)&&r(s.innerHTML)){ca=ca||document.createElement("div"),ca.innerHTML="<svg>"+o+"</svg>";for(var h=ca.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;h.firstChild;)s.appendChild(h.firstChild)}else if(o!==a[n])try{s[n]=o}catch(t){}}}}function yr(t,e){return!t.composing&&("OPTION"===t.tagName||mr(t,e)||_r(t,e))}function mr(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function _r(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return d(n)!==d(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}function br(t){var e=wr(t.style);return t.staticStyle?E(t.staticStyle,e):e}function wr(t){return Array.isArray(t)?I(t):"string"==typeof t?$a(t):t}function Er(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=br(i.data))&&E(r,n);(n=br(t.data))&&E(r,n);for(var o=t;o=o.parent;)o.data&&(n=br(o.data))&&E(r,n);return r}function Ir(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var s,a,u=e.elm,c=o.staticStyle,h=o.normalizedStyle||o.style||{},l=c||h,f=wr(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?E({},f):f;var p=Er(e,!0);for(a in l)r(p[a])&&Ka(u,a,"");for(a in p)(s=p[a])!==l[a]&&Ka(u,a,null==s?"":s)}}function Tr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ya).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Cr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ya).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Sr(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&E(e,Ja(t.name||"v")),E(e,t),e}return"string"==typeof t?Ja(t):void 0}}function Nr(t){su(function(){su(t)})}function Ar(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Tr(t,e))}function kr(t,e){t._transitionClasses&&g(t._transitionClasses,e),Cr(t,e)}function Or(t,e,n){var r=Pr(t,e),i=r.type,o=r.timeout,s=r.propCount;if(!i)return n();var a=i===tu?ru:ou,u=0,c=function(){t.removeEventListener(a,h),n()},h=function(e){e.target===t&&++u>=s&&c()};setTimeout(function(){u<s&&c()},o+1),t.addEventListener(a,h)}function Pr(t,e){var n,r=window.getComputedStyle(t),i=(r[nu+"Delay"]||"").split(", "),o=(r[nu+"Duration"]||"").split(", "),s=Rr(i,o),a=(r[iu+"Delay"]||"").split(", "),u=(r[iu+"Duration"]||"").split(", "),c=Rr(a,u),h=0,l=0;return e===tu?s>0&&(n=tu,h=s,l=o.length):e===eu?c>0&&(n=eu,h=c,l=u.length):(h=Math.max(s,c),n=h>0?s>c?tu:eu:null,l=n?n===tu?o.length:u.length:0),{type:n,timeout:h,propCount:l,hasTransform:n===tu&&au.test(r[nu+"Property"])}}function Rr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return xr(e)+xr(t[n])}))}function xr(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Dr(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Sr(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var s=o.css,a=o.type,c=o.enterClass,h=o.enterToClass,l=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,v=o.appearActiveClass,g=o.beforeEnter,y=o.enter,m=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,E=o.afterAppear,I=o.appearCancelled,T=o.duration,C=Fs,S=Fs.$vnode;S&&S.parent;)C=S.context,S=S.parent;var A=!C._isMounted||!t.isRootInsert;if(!A||w||""===w){var k=A&&f?f:c,O=A&&v?v:l,P=A&&p?p:h,R=A?b||g:g,x=A&&"function"==typeof w?w:y,D=A?E||m:m,L=A?I||_:_,M=d(u(T)?T.enter:T),F=!1!==s&&!Qo,j=Fr(x),U=n._enterCb=N(function(){F&&(kr(n,P),kr(n,O)),U.cancelled?(F&&kr(n,k),L&&L(n)):D&&D(n),n._enterCb=null});t.data.show||vt(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),x&&x(n,U)}),R&&R(n),F&&(Ar(n,k),Ar(n,O),Nr(function(){kr(n,k),U.cancelled||(Ar(n,P),j||(Mr(M)?setTimeout(U,M):Or(n,a,U)))})),t.data.show&&(e&&e(),x&&x(n,U)),F||j||U()}}}function Lr(t,e){function n(){I.cancelled||(!t.data.show&&o.parentNode&&((o.parentNode._pending||(o.parentNode._pending={}))[t.key]=t),p&&p(o),b&&(Ar(o,h),Ar(o,f),Nr(function(){kr(o,h),I.cancelled||(Ar(o,l),w||(Mr(E)?setTimeout(I,E):Or(o,c,I)))})),v&&v(o,I),b||w||I())}var o=t.elm;i(o._enterCb)&&(o._enterCb.cancelled=!0,o._enterCb());var s=Sr(t.data.transition);if(r(s)||1!==o.nodeType)return e();if(!i(o._leaveCb)){var a=s.css,c=s.type,h=s.leaveClass,l=s.leaveToClass,f=s.leaveActiveClass,p=s.beforeLeave,v=s.leave,g=s.afterLeave,y=s.leaveCancelled,m=s.delayLeave,_=s.duration,b=!1!==a&&!Qo,w=Fr(v),E=d(u(_)?_.leave:_),I=o._leaveCb=N(function(){o.parentNode&&o.parentNode._pending&&(o.parentNode._pending[t.key]=null),b&&(kr(o,l),kr(o,f)),I.cancelled?(b&&kr(o,h),y&&y(o)):(e(),g&&g(o)),o._leaveCb=null});m?m(n):n()}}function Mr(t){return"number"==typeof t&&!isNaN(t)}function Fr(t){if(r(t))return!1;var e=t.fns;return i(e)?Fr(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function jr(t,e){!0!==e.data.show&&Dr(e)}function Ur(t,e,n){Vr(t,e,n),(zo||Xo)&&setTimeout(function(){Vr(t,e,n)},0)}function Vr(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,s,a=0,u=t.options.length;a<u;a++)if(s=t.options[a],i)o=S(r,Br(s))>-1,s.selected!==o&&(s.selected=o);else if(C(Br(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));i||(t.selectedIndex=-1)}}function qr(t,e){return e.every(function(e){return!C(e,t)})}function Br(t){return"_value"in t?t._value:t.value}function Wr(t){t.target.composing=!0}function $r(t){t.target.composing&&(t.target.composing=!1,Hr(t.target,"input"))}function Hr(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Gr(t){return!t.componentInstance||t.data&&t.data.transition?t:Gr(t.componentInstance._vnode)}function Kr(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Kr(ce(e.children)):t}function zr(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[Oo(o)]=i[o];return e}function Qr(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Xr(t){for(;t=t.parent;)if(t.data.transition)return!0}function Yr(t,e){return e.key===t.key&&e.tag===t.tag}function Jr(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Zr(t){t.data.newPos=t.elm.getBoundingClientRect()}function ti(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}function ei(t,e){var n=e?Fu(e):Lu;if(n.test(t)){for(var r,i,o,s=[],a=[],u=n.lastIndex=0;r=n.exec(t);){i=r.index,i>u&&(a.push(o=t.slice(u,i)),s.push(JSON.stringify(o)));var c=Fn(r[1].trim());s.push("_s("+c+")"),a.push({"@binding":c}),u=i+r[0].length}return u<t.length&&(a.push(o=t.slice(u)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}function ni(t,e){var n=(e.warn,Qn(t,"class"));n&&(t.staticClass=JSON.stringify(n));var r=zn(t,"class",!1);r&&(t.classBinding=r)}function ri(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function ii(t,e){var n=(e.warn,Qn(t,"style"));if(n){t.staticStyle=JSON.stringify($a(n))}var r=zn(t,"style",!1);r&&(t.styleBinding=r)}function oi(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function si(t,e){var n=e?ic:rc;return t.replace(n,function(t){return nc[t]})}function ai(t,e){function n(e){h+=e,t=t.substring(e)}function r(t,n,r){var i,a;if(null==n&&(n=h),null==r&&(r=h),t)for(a=t.toLowerCase(),i=s.length-1;i>=0&&s[i].lowerCasedTag!==a;i--);else i=0;if(i>=0){for(var u=s.length-1;u>=i;u--)e.end&&e.end(s[u].tag,n,r);s.length=i,o=i&&s[i-1].tag}else"br"===a?e.start&&e.start(t,[],!0,n,r):"p"===a&&(e.start&&e.start(t,[],!1,n,r),e.end&&e.end(t,n,r))}for(var i,o,s=[],a=e.expectHTML,u=e.isUnaryTag||Lo,c=e.canBeLeftOpenTag||Lo,h=0;t;){if(i=t,o&&tc(o)){var l=0,f=o.toLowerCase(),p=ec[f]||(ec[f]=new RegExp("([\\s\\S]*?)(</"+f+"[^>]*>)","i")),d=t.replace(p,function(t,n,r){return l=r.length,tc(f)||"noscript"===f||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),sc(f,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});h+=t.length-d.length,t=d,r(f,h-l,h)}else{var v=t.indexOf("<");if(0===v){if(Ju.test(t)){var g=t.indexOf("--\x3e");if(g>=0){e.shouldKeepComment&&e.comment(t.substring(4,g),h,h+g+3),n(g+3);continue}}if(Zu.test(t)){var y=t.indexOf("]>");if(y>=0){n(y+2);continue}}var m=t.match(Yu);if(m){n(m[0].length);continue}var _=t.match(Xu);if(_){var b=h;n(_[0].length),r(_[1],b,h);continue}var w=function(){var e=t.match(zu);if(e){var r={tagName:e[1],attrs:[],start:h};n(e[0].length);for(var i,o;!(i=t.match(Qu))&&(o=t.match(Hu)||t.match($u));)o.start=h,n(o[0].length),o.end=h,r.attrs.push(o);if(i)return r.unarySlash=i[1],n(i[0].length),r.end=h,r}}();if(w){!function(t){var n=t.tagName,i=t.unarySlash;a&&("p"===o&&Wu(n)&&r(o),c(n)&&o===n&&r(n));for(var h=u(n)||!!i,l=t.attrs.length,f=new Array(l),p=0;p<l;p++){var d=t.attrs[p],v=d[3]||d[4]||d[5]||"",g="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;f[p]={name:d[1],value:si(v,g)}}h||(s.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f,start:t.start,end:t.end}),o=n),e.start&&e.start(n,f,h,t.start,t.end)}(w),sc(w.tagName,t)&&n(1);continue}}var E=void 0,I=void 0,T=void 0;if(v>=0){for(I=t.slice(v);!(Xu.test(I)||zu.test(I)||Ju.test(I)||Zu.test(I)||(T=I.indexOf("<",1))<0);)v+=T,I=t.slice(v);E=t.substring(0,v)}v<0&&(E=t),E&&n(E.length),e.chars&&E&&e.chars(E,h-E.length,h)}if(t===i){e.chars&&e.chars(t);break}}r()}function ui(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ki(e),rawAttrsMap:{},parent:n,children:[]}}function ci(t,e){function n(t){if(r(t),h||t.processed||(t=fi(t,e)),a.length||t===o||o.if&&(t.elseif||t.else)&&bi(o,{exp:t.elseif,block:t}),s&&!t.forbidden)if(t.elseif||t.else)mi(t,s);else{if(t.slotScope){var n=t.slotTarget||'"default"';(s.scopedSlots||(s.scopedSlots={}))[n]=t}s.children.push(t),t.parent=s}t.children=t.children.filter(function(t){return!t.slotScope}),r(t),t.pre&&(h=!1),Au(t.tag)&&(l=!1);for(var i=0;i<Nu.length;i++)Nu[i](t,e)}function r(t){if(!l)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}Iu=e.warn||Un,Au=e.isPreTag||Lo,ku=e.mustUseProp||Lo,Ou=e.getTagNamespace||Lo;var i=e.isReservedTag||Lo;Pu=function(t){return!!t.component||!i(t.tag)},Cu=Vn(e.modules,"transformNode"),Su=Vn(e.modules,"preTransformNode"),Nu=Vn(e.modules,"postTransformNode"),Tu=e.delimiters;var o,s,a=[],u=!1!==e.preserveWhitespace,c=e.whitespace,h=!1,l=!1;return ai(t,{warn:Iu,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,r,i,u,c){var f=s&&s.ns||Ou(t);zo&&"svg"===f&&(r=Ri(r));var p=ui(t,r,s);f&&(p.ns=f),Pi(p)&&!is()&&(p.forbidden=!0);for(var d=0;d<Su.length;d++)p=Su[d](p,e)||p;h||(hi(p),p.pre&&(h=!0)),Au(p.tag)&&(l=!0),h?li(p):p.processed||(vi(p),yi(p),wi(p)),o||(o=p),i?n(p):(s=p,a.push(p))},end:function(t,e,r){var i=a[a.length-1];a.length-=1,s=a[a.length-1],n(i)},chars:function(t,e,n){if(s&&(!zo||"textarea"!==s.tag||s.attrsMap.placeholder!==t)){var r=s.children;if(t=l||t.trim()?Oi(s)?t:_c(t):r.length?c?"condense"===c&&yc.test(t)?"":" ":u?" ":"":""){l||"condense"!==c||(t=t.replace(mc," "));var i,o;!h&&" "!==t&&(i=ei(t,Tu))?o={type:2,expression:i.expression,tokens:i.tokens,text:t}:" "===t&&r.length&&" "===r[r.length-1].text||(o={type:3,text:t}),o&&r.push(o)}}},comment:function(t,e,n){if(s){var r={type:3,text:t,isComment:!0};s.children.push(r)}}}),o}function hi(t){null!=Qn(t,"v-pre")&&(t.pre=!0)}function li(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}function fi(t,e){pi(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,di(t),Ei(t),Ti(t),Ci(t);for(var n=0;n<Cu.length;n++)t=Cu[n](t,e)||t;return Si(t),t}function pi(t){var e=zn(t,"key");if(e){t.key=e}}function di(t){var e=zn(t,"ref");e&&(t.ref=e,t.refInFor=Ni(t))}function vi(t){var e;if(e=Qn(t,"v-for")){var n=gi(e);n&&E(t,n)}}function gi(t){var e=t.match(cc);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(lc,""),i=r.match(hc);return i?(n.alias=r.replace(hc,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}function yi(t){var e=Qn(t,"v-if");if(e)t.if=e,bi(t,{exp:e,block:t});else{null!=Qn(t,"v-else")&&(t.else=!0);var n=Qn(t,"v-else-if");n&&(t.elseif=n)}}function mi(t,e){var n=_i(e.children);n&&n.if&&bi(n,{exp:t.elseif,block:t})}function _i(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function bi(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function wi(t){null!=Qn(t,"v-once")&&(t.once=!0)}function Ei(t){var e;"template"===t.tag?(e=Qn(t,"scope"),t.slotScope=e||Qn(t,"slot-scope")):(e=Qn(t,"slot-scope"))&&(t.slotScope=e);var n=zn(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Bn(t,"slot",n,Kn(t,"slot"))),"template"===t.tag){var r=Xn(t,gc);if(r){var i=Ii(r),o=i.name,s=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=s,t.slotScope=r.value||bc}}else{var a=Xn(t,gc);if(a){var u=t.scopedSlots||(t.scopedSlots={}),c=Ii(a),h=c.name,l=c.dynamic,f=u[h]=ui("template",[],t);f.slotTarget=h,f.slotTargetDynamic=l,f.children=t.children.filter(function(t){if(!t.slotScope)return t.parent=f,!0}),f.slotScope=a.value||bc,t.children=[],t.plain=!1}}}function Ii(t){var e=t.name.replace(gc,"");return e||"#"!==t.name[0]&&(e="default"),fc.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function Ti(t){"slot"===t.tag&&(t.slotName=zn(t,"name"))}function Ci(t){var e;(e=zn(t,"is"))&&(t.component=e),null!=Qn(t,"inline-template")&&(t.inlineTemplate=!0)}function Si(t){var e,n,r,i,o,s,a,u,c=t.attrsList;for(e=0,n=c.length;e<n;e++)if(r=i=c[e].name,o=c[e].value,uc.test(r))if(t.hasBindings=!0,s=Ai(r.replace(uc,"")),s&&(r=r.replace(vc,"")),dc.test(r))r=r.replace(dc,""),o=Fn(o),u=fc.test(r),u&&(r=r.slice(1,-1)),s&&(s.prop&&!u&&"innerHtml"===(r=Oo(r))&&(r="innerHTML"),s.camel&&!u&&(r=Oo(r)),s.sync&&(a=Zn(o,"$event"),u?Gn(t,'"update:"+('+r+")",a,null,!1,Iu,c[e],!0):(Gn(t,"update:"+Oo(r),a,null,!1,Iu,c[e]),xo(r)!==Oo(r)&&Gn(t,"update:"+xo(r),a,null,!1,Iu,c[e])))),s&&s.prop||!t.component&&ku(t.tag,t.attrsMap.type,r)?qn(t,r,o,c[e],u):Bn(t,r,o,c[e],u);else if(ac.test(r))r=r.replace(ac,""),u=fc.test(r),u&&(r=r.slice(1,-1)),Gn(t,r,o,s,!1,Iu,c[e],u);else{r=r.replace(uc,"");var h=r.match(pc),l=h&&h[1];u=!1,l&&(r=r.slice(0,-(l.length+1)),fc.test(l)&&(l=l.slice(1,-1),u=!0)),$n(t,r,i,o,l,u,s,c[e])}else{Bn(t,r,JSON.stringify(o),c[e]),!t.component&&"muted"===r&&ku(t.tag,t.attrsMap.type,r)&&qn(t,r,"true",c[e])}}function Ni(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function Ai(t){var e=t.match(vc);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function ki(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}function Oi(t){return"script"===t.tag||"style"===t.tag}function Pi(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function Ri(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];wc.test(r.name)||(r.name=r.name.replace(Ec,""),e.push(r))}return e}function xi(t,e){if("input"===t.tag){var n=t.attrsMap;if(!n["v-model"])return;var r;if((n[":type"]||n["v-bind:type"])&&(r=zn(t,"type")),n.type||r||!n["v-bind"]||(r="("+n["v-bind"]+").type"),r){var i=Qn(t,"v-if",!0),o=i?"&&("+i+")":"",s=null!=Qn(t,"v-else",!0),a=Qn(t,"v-else-if",!0),u=Di(t);vi(u),Wn(u,"type","checkbox"),fi(u,e),u.processed=!0,u.if="("+r+")==='checkbox'"+o,bi(u,{exp:u.if,block:u});var c=Di(t);Qn(c,"v-for",!0),Wn(c,"type","radio"),fi(c,e),bi(u,{exp:"("+r+")==='radio'"+o,block:c});var h=Di(t);return Qn(h,"v-for",!0),Wn(h,":type",r),fi(h,e),bi(u,{exp:i,block:h}),s?u.else=!0:a&&(u.elseif=a),u}}}function Di(t){return ui(t.tag,t.attrsList.slice(),t.parent)}function Li(t,e){e.value&&qn(t,"textContent","_s("+e.value+")",e)}function Mi(t,e){e.value&&qn(t,"innerHTML","_s("+e.value+")",e)}function Fi(t,e){t&&(Ru=Nc(e.staticKeys||""),xu=e.isReservedTag||Lo,Ui(t),Vi(t,!1))}function ji(t){return v("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}function Ui(t){if(t.static=qi(t),1===t.type){if(!xu(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Ui(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var s=t.ifConditions[i].block;Ui(s),s.static||(t.static=!1)}}}function Vi(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)Vi(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)Vi(t.ifConditions[i].block,e)}}function qi(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||So(t.tag)||!xu(t.tag)||Bi(t)||!Object.keys(t).every(Ru))))}function Bi(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function Wi(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var s=$i(t[o]);t[o]&&t[o].dynamic?i+=o+","+s+",":r+='"'+o+'":'+s+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function $i(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return $i(t)}).join(",")+"]";var e=Oc.test(t.value),n=Ac.test(t.value),r=Oc.test(t.value.replace(kc,""));if(t.modifiers){var i="",o="",s=[];for(var a in t.modifiers)if(Dc[a])o+=Dc[a],Pc[a]&&s.push(a);else if("exact"===a){var u=t.modifiers;o+=xc(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else s.push(a);s.length&&(i+=Hi(s)),o&&(i+=o);return"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Hi(t){return"if(!$event.type.indexOf('key')&&"+t.map(Gi).join("&&")+")return null;"}function Gi(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Pc[t],r=Rc[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}function Ki(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function zi(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}function Qi(t,e){var n=new Mc(e);return{render:"with(this){return "+(t?Xi(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Xi(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Yi(t,e);if(t.once&&!t.onceProcessed)return Ji(t,e);if(t.for&&!t.forProcessed)return eo(t,e);if(t.if&&!t.ifProcessed)return Zi(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return go(t,e);var n;if(t.component)n=yo(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=no(t,e));var i=t.inlineTemplate?null:co(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return co(t,e)||"void 0"}function Yi(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Xi(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Ji(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Zi(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Xi(t,e)+","+e.onceId+++","+n+")":Xi(t,e)}return Yi(t,e)}function Zi(t,e,n,r){return t.ifProcessed=!0,to(t.ifConditions.slice(),e,n,r)}function to(t,e,n,r){function i(t){return n?n(t,e):t.once?Ji(t,e):Xi(t,e)}if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+i(o.block)+":"+to(t,e,n,r):""+i(o.block)}function eo(t,e,n,r){var i=t.for,o=t.alias,s=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+s+a+"){return "+(n||Xi)(t,e)+"})"}function no(t,e){var n="{",r=ro(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+mo(t.attrs)+","),t.props&&(n+="domProps:"+mo(t.props)+","),t.events&&(n+=Wi(t.events,!1)+","),t.nativeEvents&&(n+=Wi(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=oo(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=io(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+mo(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function ro(t,e){var n=t.directives;if(n){var r,i,o,s,a="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],s=!0;var c=e.directives[o.name];c&&(s=!!c(t,o,e.warn)),s&&(u=!0,a+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return u?a.slice(0,-1)+"]":void 0}}function io(t,e){var n=t.children[0];if(n&&1===n.type){var r=Qi(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function oo(t,e,n){var r=t.for||Object.keys(e).some(function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||ao(n)}),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==bc||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var s=Object.keys(e).map(function(t){return uo(e[t],n)}).join(",");return"scopedSlots:_u(["+s+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+so(s):"")+")"}function so(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}function ao(t){return 1===t.type&&("slot"===t.tag||t.children.some(ao))}function uo(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Zi(t,e,uo,"null");if(t.for&&!t.forProcessed)return eo(t,e,uo);var r=t.slotScope===bc?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(co(t,e)||"undefined")+":undefined":co(t,e)||"undefined":Xi(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+o+"}"}function co(t,e,n,r,i){var o=t.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=n?e.maybeComponent(s)?",1":",0":"";return""+(r||Xi)(s,e)+a}var u=n?ho(o,e.maybeComponent):0,c=i||fo;return"["+o.map(function(t){return c(t,e)}).join(",")+"]"+(u?","+u:"")}}function ho(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(lo(i)||i.ifConditions&&i.ifConditions.some(function(t){return lo(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}function lo(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function fo(t,e){return 1===t.type?Xi(t,e):3===t.type&&t.isComment?vo(t):po(t)}function po(t){return"_v("+(2===t.type?t.expression:_o(JSON.stringify(t.text)))+")"}function vo(t){return"_e("+JSON.stringify(t.text)+")"}function go(t,e){var n=t.slotName||'"default"',r=co(t,e),i="_t("+n+(r?","+r:""),o=t.attrs||t.dynamicAttrs?mo((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(t){return{name:Oo(t.name),value:t.value,dynamic:t.dynamic}})):null,s=t.attrsMap["v-bind"];return!o&&!s||r||(i+=",null"),o&&(i+=","+o),s&&(i+=(o?"":",null")+","+s),i+")"}function yo(t,e,n){var r=e.inlineTemplate?null:co(e,n,!0);return"_c("+t+","+no(e,n)+(r?","+r:"")+")"}function mo(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=_o(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function _o(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function bo(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),T}}function wo(t){var e=Object.create(null);return function(n,r,i){r=E({},r);r.warn;delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var s=t(n,r),a={},u=[];return a.render=bo(s.render,u),a.staticRenderFns=s.staticRenderFns.map(function(t){return bo(t,u)}),e[o]=a}}function Eo(t){return Du=Du||document.createElement("div"),Du.innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Du.innerHTML.indexOf("&#10;")>0}function Io(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var To=Object.freeze({}),Co=Object.prototype.toString,So=v("slot,component",!0),No=v("key,ref,slot,slot-scope,is"),Ao=Object.prototype.hasOwnProperty,ko=/-(\w)/g,Oo=m(function(t){return t.replace(ko,function(t,e){return e?e.toUpperCase():""})}),Po=m(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Ro=/\B([A-Z])/g,xo=m(function(t){return t.replace(Ro,"-$1").toLowerCase()}),Do=Function.prototype.bind?b:_,Lo=function(t,e,n){return!1},Mo=function(t){return t},Fo="data-server-rendered",jo=["component","directive","filter"],Uo=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],Vo={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Lo,isReservedAttr:Lo,isUnknownElement:Lo,getTagNamespace:T,parsePlatformTagName:Mo,mustUseProp:Lo,async:!0,_lifecycleHooks:Uo},qo=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/,Bo=new RegExp("[^"+qo.source+".$_\\d]"),Wo="__proto__"in{},$o="undefined"!=typeof window,Ho="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Go=Ho&&WXEnvironment.platform.toLowerCase(),Ko=$o&&window.navigator.userAgent.toLowerCase(),zo=Ko&&/msie|trident/.test(Ko),Qo=Ko&&Ko.indexOf("msie 9.0")>0,Xo=Ko&&Ko.indexOf("edge/")>0,Yo=(Ko&&Ko.indexOf("android"),Ko&&/iphone|ipad|ipod|ios/.test(Ko)||"ios"===Go),Jo=(Ko&&/chrome\/\d+/.test(Ko),Ko&&/phantomjs/.test(Ko),Ko&&Ko.match(/firefox\/(\d+)/)),Zo={}.watch,ts=!1;if($o)try{var es={};Object.defineProperty(es,"passive",{get:function(){ts=!0}}),window.addEventListener("test-passive",null,es)}catch(t){}var ns,rs,is=function(){return void 0===ns&&(ns=!$o&&!Ho&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),ns},os=$o&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,ss="undefined"!=typeof Symbol&&P(Symbol)&&"undefined"!=typeof Reflect&&P(Reflect.ownKeys);rs="undefined"!=typeof Set&&P(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var as=T,us=0,cs=function(){this.id=us++,this.subs=[]};cs.prototype.addSub=function(t){this.subs.push(t)},cs.prototype.removeSub=function(t){g(this.subs,t)},cs.prototype.depend=function(){cs.target&&cs.target.addDep(this)},cs.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},cs.target=null;var hs=[],ls=function(t,e,n,r,i,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},fs={child:{configurable:!0}};fs.child.get=function(){return this.componentInstance},Object.defineProperties(ls.prototype,fs);var ps=function(t){void 0===t&&(t="");var e=new ls;return e.text=t,e.isComment=!0,e},ds=Array.prototype,vs=Object.create(ds);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=ds[t];k(vs,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&s.observeArray(i),s.dep.notify(),o})});var gs=Object.getOwnPropertyNames(vs),ys=!0,ms=function(t){this.value=t,this.dep=new cs,this.vmCount=0,k(t,"__ob__",this),Array.isArray(t)?(Wo?F(t,vs):j(t,vs,gs),this.observeArray(t)):this.walk(t)};ms.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)V(t,e[n])},ms.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)U(t[e])};var _s=Vo.optionMergeStrategies;_s.data=function(t,e,n){return n?H(t,e,n):e&&"function"!=typeof e?t:H(t,e)},Uo.forEach(function(t){_s[t]=G}),jo.forEach(function(t){_s[t+"s"]=z}),_s.watch=function(t,e,n,r){if(t===Zo&&(t=void 0),e===Zo&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};E(i,t);for(var o in e){var s=i[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),i[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return i},_s.props=_s.methods=_s.inject=_s.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return E(i,t),e&&E(i,e),i},_s.provide=H;var bs,ws=function(t,e){return void 0===e?t:e},Es=!1,Is=[],Ts=!1;if("undefined"!=typeof Promise&&P(Promise)){var Cs=Promise.resolve();bs=function(){Cs.then(ct),Yo&&setTimeout(T)},Es=!0}else if(zo||"undefined"==typeof MutationObserver||!P(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())bs=void 0!==n&&P(n)?function(){n(ct)}:function(){setTimeout(ct,0)};else{var Ss=1,Ns=new MutationObserver(ct),As=document.createTextNode(String(Ss));Ns.observe(As,{characterData:!0}),bs=function(){Ss=(Ss+1)%2,As.data=String(Ss)},Es=!0}var ks=new rs,Os=m(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});$t(Ht.prototype);var Ps,Rs={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Rs.prepatch(n,n)}else{(t.componentInstance=Xt(t,Fs)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions;me(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Ee(n,"mounted")),t.data.keepAlive&&(e._isMounted?Se(n):be(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?we(e,!0):e.$destroy())}},xs=Object.keys(Rs),Ds=1,Ls=2,Ms=null,Fs=null,js=[],Us=[],Vs={},qs=!1,Bs=!1,Ws=0,$s=0,Hs=Date.now;if($o&&!zo){var Gs=window.performance;Gs&&"function"==typeof Gs.now&&Hs()>document.createEvent("Event").timeStamp&&(Hs=function(){return Gs.now()})}var Ks=0,zs=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ks,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new rs,this.newDepIds=new rs,this.expression="","function"==typeof e?this.getter=e:(this.getter=O(e),this.getter||(this.getter=T)),this.value=this.lazy?void 0:this.get()};zs.prototype.get=function(){R(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;ot(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&lt(t),x(),this.cleanupDeps()}return t},zs.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},zs.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},zs.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ae(this)},zs.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){ot(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},zs.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},zs.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},zs.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Qs={enumerable:!0,configurable:!0,get:T,set:T},Xs={lazy:!0},Ys=0;!function(t){t.prototype._init=function(t){var e=this;e._uid=Ys++,e._isVue=!0,t&&t._isComponent?qe(e,t):e.$options=J(Be(e.constructor),t||{},e),e._renderProxy=e,e._self=e,ge(e),he(e),ie(e),Ee(e,"beforeCreate"),It(e),Oe(e),Et(e),Ee(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}($e),function(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=q,t.prototype.$delete=B,t.prototype.$watch=function(t,e,n){var r=this;if(c(e))return Ve(r,t,e,n);n=n||{},n.user=!0;var i=new zs(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(t){ot(t,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}($e),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){function n(){r.$off(t,n),e.apply(r,arguments)}var r=this;return n.fn=e,r.$on(t,n),r},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var s,a=o.length;a--;)if((s=o[a])===e||s.fn===e){o.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?w(n):n;for(var r=w(arguments,1),i='event handler for "'+t+'"',o=0,s=n.length;o<s;o++)st(n[o],e,r,e,i)}return e}}($e),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=ve(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Ee(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||g(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Ee(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}($e),function(t){$t(t.prototype),t.prototype.$nextTick=function(t){return ht(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,r=e._parentVnode;r&&(t.$scopedSlots=Nt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;var i;try{Ms=t,i=n.call(t._renderProxy,t.$createElement)}catch(e){ot(e,t,"render"),i=t._vnode}finally{Ms=null}return Array.isArray(i)&&1===i.length&&(i=i[0]),i instanceof ls||(i=ps()),i.parent=r,i}}($e);var Js=[String,RegExp,Array],Zs={name:"keep-alive",abstract:!0,props:{include:Js,exclude:Js,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)tn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Ze(t,function(t){return Je(e,t)})}),this.$watch("exclude",function(e){Ze(t,function(t){return!Je(e,t)})})},render:function(){var t=this.$slots.default,e=ce(t),n=e&&e.componentOptions;if(n){var r=Ye(n),i=this,o=i.include,s=i.exclude;if(o&&(!r||!Je(o,r))||s&&r&&Je(s,r))return e;var a=this,u=a.cache,c=a.keys,h=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[h]?(e.componentInstance=u[h].componentInstance,g(c,h),c.push(h)):(u[h]=e,c.push(h),this.max&&c.length>parseInt(this.max)&&tn(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},ta={KeepAlive:Zs};!function(t){var e={};e.get=function(){return Vo},Object.defineProperty(t,"config",e),t.util={warn:as,extend:E,mergeOptions:J,defineReactive:V},t.set=q,t.delete=B,t.nextTick=ht,t.observable=function(t){return U(t),t},t.options=Object.create(null),jo.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,E(t.options.components,ta),He(t),Ge(t),Ke(t),Xe(t)}($e),Object.defineProperty($e.prototype,"$isServer",{get:is}),Object.defineProperty($e.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty($e,"FunctionalRenderContext",{value:Ht}),$e.version="2.6.11";var ea,na,ra,ia,oa,sa,aa,ua,ca,ha,la=v("style,class"),fa=v("input,textarea,option,select,progress"),pa=function(t,e,n){return"value"===n&&fa(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},da=v("contenteditable,draggable,spellcheck"),va=v("events,caret,typing,plaintext-only"),ga=function(t,e){return wa(e)||"false"===e?"false":"contenteditable"===t&&va(e)?e:"true"},ya=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ma="http://www.w3.org/1999/xlink",_a=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},ba=function(t){return _a(t)?t.slice(6,t.length):""},wa=function(t){return null==t||!1===t},Ea={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ia=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ta=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ca=function(t){return"pre"===t},Sa=function(t){return Ia(t)||Ta(t)},Na=Object.create(null),Aa=v("text,number,password,search,email,tel,url"),ka=Object.freeze({createElement:fn,createElementNS:pn,createTextNode:dn,createComment:vn,insertBefore:gn,removeChild:yn,appendChild:mn,parentNode:_n,nextSibling:bn,tagName:wn,setTextContent:En,setStyleScope:In}),Oa={create:function(t,e){Tn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Tn(t,!0),Tn(e))},destroy:function(t){Tn(t,!0)}},Pa=new ls("",{},[]),Ra=["create","activate","update","remove","destroy"],xa={create:An,update:An,destroy:function(t){An(t,Pa)}},Da=Object.create(null),La=[Oa,xa],Ma={create:xn,update:xn},Fa={create:Mn,update:Mn},ja=/[\w).+\-_$\]]/,Ua="__r",Va="__c",qa=Es&&!(Jo&&Number(Jo[1])<=53),Ba={create:vr,update:vr},Wa={create:gr,update:gr},$a=m(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),Ha=/^--/,Ga=/\s*!important$/,Ka=function(t,e,n){if(Ha.test(e))t.style.setProperty(e,n);else if(Ga.test(n))t.style.setProperty(xo(e),n.replace(Ga,""),"important");else{var r=Qa(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},za=["Webkit","Moz","ms"],Qa=m(function(t){if(ha=ha||document.createElement("div").style,"filter"!==(t=Oo(t))&&t in ha)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<za.length;n++){var r=za[n]+e;if(r in ha)return r}}),Xa={create:Ir,update:Ir},Ya=/\s+/,Ja=m(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Za=$o&&!Qo,tu="transition",eu="animation",nu="transition",ru="transitionend",iu="animation",ou="animationend";Za&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(nu="WebkitTransition",ru="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(iu="WebkitAnimation",ou="webkitAnimationEnd"));var su=$o?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},au=/\b(transform|all)(,|$)/,uu=$o?{create:jr,activate:jr,remove:function(t,e){!0!==t.data.show?Lr(t,e):e()}}:{},cu=[Ma,Fa,Ba,Wa,Xa,uu],hu=cu.concat(La),lu=function(t){function e(t){return new ls(P.tagName(t).toLowerCase(),{},[],void 0,t)}function n(t,e){function n(){0==--n.listeners&&s(t)}return n.listeners=e,n}function s(t){var e=P.parentNode(t);i(e)&&P.removeChild(e,t)}function u(t,e,n,r,s,a,u){if(i(t.elm)&&i(a)&&(t=a[u]=L(t)),t.isRootInsert=!s,!c(t,e,n,r)){var h=t.data,l=t.children,d=t.tag;i(d)?(t.elm=t.ns?P.createElementNS(t.ns,d):P.createElement(d,t),y(t),p(t,l,e),i(h)&&g(t,e),f(n,t.elm,r)):o(t.isComment)?(t.elm=P.createComment(t.text),f(n,t.elm,r)):(t.elm=P.createTextNode(t.text),f(n,t.elm,r))}}function c(t,e,n,r){var s=t.data;if(i(s)){var a=i(t.componentInstance)&&s.keepAlive;if(i(s=s.hook)&&i(s=s.init)&&s(t,!1),i(t.componentInstance))return h(t,e),f(n,t.elm,r),o(a)&&l(t,e,n,r),!0}}function h(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,d(t)?(g(t,e),y(t)):(Tn(t),e.push(t))}function l(t,e,n,r){for(var o,s=t;s.componentInstance;)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<k.activate.length;++o)k.activate[o](Pa,s);e.push(s);break}f(n,t.elm,r)}function f(t,e,n){i(t)&&(i(n)?P.parentNode(n)===t&&P.insertBefore(t,e,n):P.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)u(e[r],n,t.elm,null,!0,e,r);else a(t.text)&&P.appendChild(t.elm,P.createTextNode(String(t.text)))}function d(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function g(t,e){for(var n=0;n<k.create.length;++n)k.create[n](Pa,t);N=t.data.hook,i(N)&&(i(N.create)&&N.create(Pa,t),i(N.insert)&&e.push(t))}function y(t){var e;if(i(e=t.fnScopeId))P.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&P.setStyleScope(t.elm,e),n=n.parent;i(e=Fs)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&P.setStyleScope(t.elm,e)}function m(t,e,n,r,i,o){for(;r<=i;++r)u(n[r],o,t,e,!1,n,r)}function _(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<k.destroy.length;++e)k.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function b(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(w(r),_(r)):s(r.elm))}}function w(t,e){if(i(e)||i(t.data)){var r,o=k.remove.length+1;for(i(e)?e.listeners+=o:e=n(t.elm,o),i(r=t.componentInstance)&&i(r=r._vnode)&&i(r.data)&&w(r,e),r=0;r<k.remove.length;++r)k.remove[r](t,e);i(r=t.data.hook)&&i(r=r.remove)?r(t,e):e()}else s(t.elm)}function E(t,e,n,o,s){for(var a,c,h,l,f=0,p=0,d=e.length-1,v=e[0],g=e[d],y=n.length-1,_=n[0],w=n[y],E=!s;f<=d&&p<=y;)r(v)?v=e[++f]:r(g)?g=e[--d]:Cn(v,_)?(T(v,_,o,n,p),v=e[++f],_=n[++p]):Cn(g,w)?(T(g,w,o,n,y),g=e[--d],w=n[--y]):Cn(v,w)?(T(v,w,o,n,y),E&&P.insertBefore(t,v.elm,P.nextSibling(g.elm)),v=e[++f],w=n[--y]):Cn(g,_)?(T(g,_,o,n,p),E&&P.insertBefore(t,g.elm,v.elm),g=e[--d],_=n[++p]):(r(a)&&(a=Nn(e,f,d)),c=i(_.key)?a[_.key]:I(_,e,f,d),r(c)?u(_,o,t,v.elm,!1,n,p):(h=e[c],Cn(h,_)?(T(h,_,o,n,p),e[c]=void 0,E&&P.insertBefore(t,h.elm,v.elm)):u(_,o,t,v.elm,!1,n,p)),_=n[++p]);f>d?(l=r(n[y+1])?null:n[y+1].elm,m(t,l,n,p,y,o)):p>y&&b(e,f,d)}function I(t,e,n,r){for(var o=n;o<r;o++){var s=e[o];if(i(s)&&Cn(t,s))return o}}function T(t,e,n,s,a,u){if(t!==e){i(e.elm)&&i(s)&&(e=s[a]=L(e));var c=e.elm=t.elm;if(o(t.isAsyncPlaceholder))return void(i(e.asyncFactory.resolved)?S(t.elm,e,n):e.isAsyncPlaceholder=!0);if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))return void(e.componentInstance=t.componentInstance);var h,l=e.data;i(l)&&i(h=l.hook)&&i(h=h.prepatch)&&h(t,e);var f=t.children,p=e.children;if(i(l)&&d(e)){for(h=0;h<k.update.length;++h)k.update[h](t,e);i(h=l.hook)&&i(h=h.update)&&h(t,e)}r(e.text)?i(f)&&i(p)?f!==p&&E(c,f,p,n,u):i(p)?(i(t.text)&&P.setTextContent(c,""),m(c,null,p,0,p.length-1,n)):i(f)?b(f,0,f.length-1):i(t.text)&&P.setTextContent(c,""):t.text!==e.text&&P.setTextContent(c,e.text),i(l)&&i(h=l.hook)&&i(h=h.postpatch)&&h(t,e)}}function C(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function S(t,e,n,r){var s,a=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(s=u.hook)&&i(s=s.init)&&s(e,!0),i(s=e.componentInstance)))return h(e,n),!0;if(i(a)){if(i(c))if(t.hasChildNodes())if(i(s=u)&&i(s=s.domProps)&&i(s=s.innerHTML)){if(s!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,d=0;d<c.length;d++){if(!f||!S(f,c[d],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else p(e,c,n);if(i(u)){var v=!1;for(var y in u)if(!R(y)){v=!0,g(e,n);break}!v&&u.class&&lt(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var N,A,k={},O=t.modules,P=t.nodeOps;for(N=0;N<Ra.length;++N)for(k[Ra[N]]=[],A=0;A<O.length;++A)i(O[A][Ra[N]])&&k[Ra[N]].push(O[A][Ra[N]]);var R=v("attrs,class,staticClass,staticStyle,key");return function(t,n,s,a){if(r(n))return void(i(t)&&_(t));var c=!1,h=[];if(r(t))c=!0,u(n,h);else{var l=i(t.nodeType);if(!l&&Cn(t,n))T(t,n,h,null,null,a);else{if(l){if(1===t.nodeType&&t.hasAttribute(Fo)&&(t.removeAttribute(Fo),s=!0),o(s)&&S(t,n,h))return C(n,h,!0),t;t=e(t)}var f=t.elm,p=P.parentNode(f);if(u(n,h,f._leaveCb?null:p,P.nextSibling(f)),i(n.parent))for(var v=n.parent,g=d(n);v;){for(var y=0;y<k.destroy.length;++y)k.destroy[y](v);if(v.elm=n.elm,g){for(var m=0;m<k.create.length;++m)k.create[m](Pa,v);var w=v.data.hook.insert;if(w.merged)for(var E=1;E<w.fns.length;E++)w.fns[E]()}else Tn(v);v=v.parent}i(p)?b([t],0,0):i(t.tag)&&_(t)}}return C(n,h,c),n.elm}}({nodeOps:ka,modules:hu});Qo&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&Hr(t,"input")});var fu={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?vt(n,"postpatch",function(){fu.componentUpdated(t,e,n)}):Ur(t,e,n.context),t._vOptions=[].map.call(t.options,Br)):("textarea"===n.tag||Aa(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Wr),t.addEventListener("compositionend",$r),t.addEventListener("change",$r),Qo&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ur(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Br);if(i.some(function(t,e){return!C(t,r[e])})){(t.multiple?e.value.some(function(t){return qr(t,i)}):e.value!==e.oldValue&&qr(e.value,i))&&Hr(t,"change")}}}},pu={bind:function(t,e,n){var r=e.value;n=Gr(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Dr(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&(n=Gr(n),n.data&&n.data.transition?(n.data.show=!0,r?Dr(n,function(){t.style.display=t.__vOriginalDisplay}):Lr(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},du={model:fu,show:pu},vu={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},gu=function(t){return t.tag||ue(t)},yu=function(t){return"show"===t.name},mu={name:"transition",props:vu,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(gu),n.length)){var r=this.mode,i=n[0];if(Xr(this.$vnode))return i;var o=Kr(i);if(!o)return i;if(this._leaving)return Qr(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=zr(this),c=this._vnode,h=Kr(c);if(o.data.directives&&o.data.directives.some(yu)&&(o.data.show=!0),h&&h.data&&!Yr(o,h)&&!ue(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var l=h.data.transition=E({},u);if("out-in"===r)return this._leaving=!0,vt(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Qr(t,i);if("in-out"===r){if(ue(o))return c;var f,p=function(){f()};vt(u,"afterEnter",p),vt(u,"enterCancelled",p),vt(l,"delayLeave",function(t){f=t})}}return i}}},_u=E({tag:String,moveClass:String},vu);delete _u.mode;var bu={props:_u,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=ve(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],s=zr(this),a=0;a<i.length;a++){var u=i[a];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=s;else;}if(r){for(var c=[],h=[],l=0;l<r.length;l++){var f=r[l];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):h.push(f)}this.kept=t(e,null,c),this.removed=h}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Jr),t.forEach(Zr),t.forEach(ti),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Ar(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ru,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ru,t),n._moveCb=null,kr(n,e))})}}))},methods:{hasMove:function(t,e){if(!Za)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Cr(n,t)}),Tr(n,e),n.style.display="none",this.$el.appendChild(n);var r=Pr(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}},wu={Transition:mu,TransitionGroup:bu};$e.config.mustUseProp=pa,$e.config.isReservedTag=Sa,$e.config.isReservedAttr=la,$e.config.getTagNamespace=cn,$e.config.isUnknownElement=hn,E($e.options.directives,du),E($e.options.components,wu),$e.prototype.__patch__=$o?lu:T,$e.prototype.$mount=function(t,e){return t=t&&$o?ln(t):void 0,ye(this,t,e)},$o&&setTimeout(function(){Vo.devtools&&os&&os.emit("init",$e)},0);var Eu,Iu,Tu,Cu,Su,Nu,Au,ku,Ou,Pu,Ru,xu,Du,Lu=/\{\{((?:.|\r?\n)+?)\}\}/g,Mu=/[-.*+?^${}()|[\]\/\\]/g,Fu=m(function(t){var e=t[0].replace(Mu,"\\$&"),n=t[1].replace(Mu,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),ju={staticKeys:["staticClass"],transformNode:ni,genData:ri},Uu={staticKeys:["staticStyle"],transformNode:ii,genData:oi},Vu={decode:function(t){return Eu=Eu||document.createElement("div"),Eu.innerHTML=t,Eu.textContent}},qu=v("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Bu=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Wu=v("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),$u=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Hu=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Gu="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+qo.source+"]*",Ku="((?:"+Gu+"\\:)?"+Gu+")",zu=new RegExp("^<"+Ku),Qu=/^\s*(\/?)>/,Xu=new RegExp("^<\\/"+Ku+"[^>]*>"),Yu=/^<!DOCTYPE [^>]+>/i,Ju=/^<!\--/,Zu=/^<!\[/,tc=v("script,style,textarea",!0),ec={},nc={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},rc=/&(?:lt|gt|quot|amp|#39);/g,ic=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,oc=v("pre,textarea",!0),sc=function(t,e){return t&&oc(t)&&"\n"===e[0]},ac=/^@|^v-on:/,uc=/^v-|^@|^:|^#/,cc=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,hc=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,lc=/^\(|\)$/g,fc=/^\[.*\]$/,pc=/:(.*)$/,dc=/^:|^\.|^v-bind:/,vc=/\.[^.\]]+(?=[^\]]*$)/g,gc=/^v-slot(:|$)|^#/,yc=/[\r\n]/,mc=/\s+/g,_c=m(Vu.decode),bc="_empty_",wc=/^xmlns:NS\d+/,Ec=/^NS\d+:/,Ic={preTransformNode:xi},Tc=[ju,Uu,Ic],Cc={model:sr,text:Li,html:Mi},Sc={expectHTML:!0,modules:Tc,directives:Cc,isPreTag:Ca,isUnaryTag:qu,mustUseProp:pa,canBeLeftOpenTag:Bu,isReservedTag:Sa,getTagNamespace:cn,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Tc)},Nc=m(ji),Ac=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,kc=/\([^)]*?\);*$/,Oc=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Pc={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Rc={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},xc=function(t){return"if("+t+")return null;"},Dc={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:xc("$event.target !== $event.currentTarget"),ctrl:xc("!$event.ctrlKey"),shift:xc("!$event.shiftKey"),alt:xc("!$event.altKey"),meta:xc("!$event.metaKey"),left:xc("'button' in $event && $event.button !== 0"),middle:xc("'button' in $event && $event.button !== 1"),right:xc("'button' in $event && $event.button !== 2")},Lc={on:Ki,bind:zi,cloak:T},Mc=function(t){this.options=t,this.warn=t.warn||Un,this.transforms=Vn(t.modules,"transformCode"),this.dataGenFns=Vn(t.modules,"genData"),this.directives=E(E({},Lc),t.directives);var e=t.isReservedTag||Lo;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1},Fc=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),function(t){return function(e){function n(n,r){var i=Object.create(e),o=[],s=[],a=function(t,e,n){(n?s:o).push(t)};if(r){r.modules&&(i.modules=(e.modules||[]).concat(r.modules)),r.directives&&(i.directives=E(Object.create(e.directives||null),r.directives));for(var u in r)"modules"!==u&&"directives"!==u&&(i[u]=r[u])}i.warn=a;var c=t(n.trim(),i);return c.errors=o,c.tips=s,c}return{compile:n,compileToFunctions:wo(n)}}}(function(t,e){var n=ci(t.trim(),e);!1!==e.optimize&&Fi(n,e);var r=Qi(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}})),jc=Fc(Sc),Uc=(jc.compile,jc.compileToFunctions),Vc=!!$o&&Eo(!1),qc=!!$o&&Eo(!0),Bc=m(function(t){var e=ln(t);return e&&e.innerHTML}),Wc=$e.prototype.$mount;$e.prototype.$mount=function(t,e){if((t=t&&ln(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=Bc(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=Io(t));if(r){var i=Uc(r,{outputSourceRange:!1,shouldDecodeNewlines:Vc,shouldDecodeNewlinesForHref:qc,delimiters:n.delimiters,comments:n.comments},this),o=i.render,s=i.staticRenderFns;n.render=o,n.staticRenderFns=s}}return Wc.call(this,t,e)},$e.compile=Uc,e.a=$e}).call(e,n(4),n(13).setImmediate)},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(14),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(4))},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,a(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function s(t){if(h)setTimeout(s,0,t);else{var e=c[t];if(e){h=!0;try{o(e)}finally{i(t),h=!1}}}}if(!t.setImmediate){var a,u=1,c={},h=!1,l=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),a=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;a=function(e){var n=l.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){a=function(t){setTimeout(s,0,t)}}(),f.setImmediate=r,f.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(4),n(7))},function(t,e,n){"use strict";function r(t){n(16)}var i=n(9),o=n(33),s=n(21),a=r,u=s(i.a,o.a,!1,a,null,null);e.a=u.exports},function(t,e,n){var r=n(17);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n(19)("026dcd13",r,!0,{})},function(t,e,n){e=t.exports=n(18)(!1),e.push([t.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:2em}.lab{right:4em}h1,h2{font-weight:400}.ulmain{display:grid;padding:0}#displayer{margin-right:1em}a{color:#42b983}",""])},function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=h[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(o(n.parts[i]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var s=[],i=0;i<n.parts.length;i++)s.push(o(n.parts[i]));h[n.id]={id:n.id,refs:1,parts:s}}}}function i(){var t=document.createElement("style");return t.type="text/css",l.appendChild(t),t}function o(t){var e,n,r=document.querySelector("style["+y+'~="'+t.id+'"]');if(r){if(d)return v;r.parentNode.removeChild(r)}if(m){var o=p++;r=f||(f=i()),e=s.bind(null,r,o,!1),n=s.bind(null,r,o,!0)}else r=i(),e=a.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}function s(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function a(t,e){var n=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),g.ssrId&&t.setAttribute(y,e.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(20),h={},l=u&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,d=!1,v=function(){},g=null,y="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,i){d=n,g=i||{};var o=c(t,e);return r(o),function(e){for(var n=[],i=0;i<o.length;i++){var s=o[i],a=h[s.id];a.refs--,n.push(a)}e?(o=c(t,e),r(o)):o=[];for(var i=0;i<n.length;i++){var a=n[i];if(0===a.refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete h[a.id]}}}};var _=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],s=o[0],a=o[1],u=o[2],c=o[3],h={id:t+":"+i,css:a,media:u,sourceMap:c};r[s]?r[s].parts.push(h):n.push(r[s]={id:s,parts:[h]})}return n}},function(t,e){t.exports=function(t,e,n,r,i,o){var s,a=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(s=t,a=t.default);var c="function"==typeof a?a.options:a;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=h):r&&(h=r),h){var l=c.functional,f=l?c.render:c.beforeCreate;l?(c._injectStyles=h,c.render=function(t,e){return h.call(e),f(t,e)}):c.beforeCreate=f?[].concat(f,h):[h]}return{esModule:s,exports:a,options:c}}},function(t,e,n){"use strict";var r=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(1));n(23),n(24),n(25),n(27),n(28),n(29),n(30),n(31),n(32);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.registerVersion("firebase","7.17.1","app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.registerVersion("firebase","7.17.1"),t.exports=r},function(t,e,n){(function(t){(function(){function e(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var n="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return n?n.call(t):{next:e(t)}}function i(){}function o(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length}function a(t){return"function"==o(t)}function u(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function c(t){return Object.prototype.hasOwnProperty.call(t,kc)&&t[kc]||(t[kc]=++Oc)}function h(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function f(t,e,n){return f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?h:l,f.apply(null,arguments)}function p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function d(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function v(t,e,n){this.code=xc+t,this.message=e||Dc[t]||"",this.a=n||null}function g(t){var e=t&&t.code;return e?new v(e.substring(xc.length),t.message,t.serverResponse):null}function y(t){for(var e in Lc)if(Lc[e].id===t)return t=Lc[e],{firebaseEndpoint:t.Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function m(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function _(t){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function b(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");_.call(this,n+t[r])}function w(t,e){throw new b("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function E(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function I(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function T(){this.b=this.a=null}function C(){var t=kh,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function S(){this.next=this.b=this.a=null}function N(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}function A(t){t:{for(var e=li,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}function k(t,e){return 0<=jc(t,e)}function O(t,e){e=jc(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function P(t,e){var n=0;N(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function R(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t,e){return-1!=t.indexOf(e)}function L(t,e){return t<e?-1:t>e?1:0}function M(t){return D(Fc,t)}function F(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function j(t){for(var e in t)return!1;return!0}function U(t){var e,n={};for(e in t)n[e]=t[e];return n}function V(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<Zc.length;o++)n=Zc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||Sc,r.Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(u(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;w("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function B(t,e){this.a=t===eh&&e||"",this.b=th}function W(t){return t instanceof B&&t.constructor===B&&t.b===th?t.a:(w("expected object of type Const, got '"+t+"'"),"type_error:Const")}function $(t,e){this.a=t===sh&&e||"",this.b=oh}function H(t){return t instanceof $&&t.constructor===$&&t.b===oh?t.a:(w("expected object of type TrustedResourceUrl, got '"+t+"' of type "+o(t)),"type_error:TrustedResourceUrl")}function G(t,e){var n=W(t);if(!ih.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(rh,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof B?W(t):encodeURIComponent(String(t))}),new $(sh,t)}function K(t,e){this.a=t===ch&&e||"",this.b=uh}function z(t){return t instanceof K&&t.constructor===K&&t.b===uh?t.a:(w("expected object of type SafeUrl, got '"+t+"' of type "+o(t)),"type_error:SafeUrl")}function Q(t){return t instanceof K?t:(t="object"==typeof t&&t.ra?t.qa():String(t),ah.test(t)||(t="about:invalid#zClosurez"),new K(ch,t))}function X(){this.a="",this.b=hh}function Y(t){return t instanceof X&&t.constructor===X&&t.b===hh?t.a:(w("expected object of type SafeHtml, got '"+t+"' of type "+o(t)),"type_error:SafeHtml")}function J(t){var e=new X;return e.a=t,e}function Z(t){var e=new $(sh,W(nh));q(t,"HTMLIFrameElement"),t.src=H(e).toString()}function tt(t,e){q(t,"HTMLScriptElement"),t.src=H(e),null===Ac&&(e=Sc.document,Ac=(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&Nc.test(e)?e:""),(e=Ac)&&t.setAttribute("nonce",e)}function et(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function nt(t){return Xc.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($c,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Hc,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Gc,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Kc,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(zc,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Qc,"&#0;"))),t}function rt(t){return rt[" "](t),t}function it(t,e){var n=Ih;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function ot(){var t=Sc.document;return t?t.documentMode:void 0}function st(t){return it(t,function(){for(var e=0,n=Wc(String(fh)).split("."),r=Wc(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=L(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||L(0==s[2].length,0==a[2].length)||L(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}function at(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ut(t,e){F(e,function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Nh.hasOwnProperty(n)?t.setAttribute(Nh[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function ct(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!Sh&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',nt(s.name),'"'),s.type){o.push(' type="',nt(s.type),'"');var a={};V(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=lt(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ut(o,s)),2<r.length&&ht(i,o,r),o}function ht(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!s(o)||u(o)&&0<o.nodeType?r(o):Uc(ft(o)?x(o):o,r)}}function lt(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ft(t){if(t&&"number"==typeof t.length){if(u(t))return"function"==typeof t.item||"string"==typeof t.item;if(a(t))return"function"==typeof t.item}return!1}function pt(t){Sc.setTimeout(function(){throw t},0)}function dt(){var t=Sc.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!M("Presto")&&(t=function(){var t=lt(document,"IFRAME");t.style.display="none",Z(t),document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(Y(lh)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=f(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!M("Trident")&&!M("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){Sc.setTimeout(t,0)}}function vt(t,e){Ch||gt(),Ah||(Ch(),Ah=!0),kh.add(t,e)}function gt(){if(Sc.Promise&&Sc.Promise.resolve){var t=Sc.Promise.resolve(void 0);Ch=function(){t.then(yt)}}else Ch=function(){var t=yt;!a(Sc.setImmediate)||Sc.Window&&Sc.Window.prototype&&!M("Edge")&&Sc.Window.prototype.setImmediate==Sc.setImmediate?(Th||(Th=dt()),Th(t)):Sc.setImmediate(t)}}function yt(){for(var t;t=C();){try{t.a.call(t.b)}catch(t){pt(t)}I(Mc,t)}Ah=!1}function mt(t,e){if(this.a=Oh,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=i)try{var n=this;t.call(e,function(t){kt(n,Ph,t)},function(t){if(!(t instanceof Ft))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}kt(n,Rh,t)})}catch(t){kt(this,Rh,t)}}function _t(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function bt(t,e,n){var r=xh.get();return r.g=t,r.b=e,r.f=n,r}function wt(t){if(t instanceof mt)return t;var e=new mt(i);return kt(e,Ph,t),e}function Et(t){return new mt(function(e,n){n(t)})}function It(t,e,n){Ot(t,e,n,null)||vt(p(e,t))}function Tt(t){return new mt(function(e,n){var r=t.length,i=[];if(r)for(var o,s=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},u=0;u<t.length;u++)o=t[u],It(o,p(s,u),a);else e(i)})}function Ct(t){return new mt(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},s=0;s<t.length;s++)i=t[s],It(i,p(o,s,!0),p(o,s,!1));else e(r)})}function St(t,e){if(t.a==Oh)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==Oh&&1==r?St(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):xt(n),Dt(n,i,Rh,e)))}t.c=null}else kt(t,Rh,e)}function Nt(t,e){t.b||t.a!=Ph&&t.a!=Rh||Rt(t),t.f?t.f.next=e:t.b=e,t.f=e}function At(t,e,n,r){var i=bt(null,null,null);return i.a=new mt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ft?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,Nt(t,i),i.a}function kt(t,e,n){t.a==Oh&&(t===n&&(e=Rh,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ot(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Rt(t),e!=Rh||n instanceof Ft||Mt(t,n)))}function Ot(t,e,n,r){if(t instanceof mt)return Nt(t,bt(e||i,n||null,r)),!0;if(m(t))return t.then(e,n,r),!0;if(u(t))try{var o=t.then;if(a(o))return Pt(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Pt(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}function s(t){a||(a=!0,n.call(i,t))}var a=!1;try{e.call(t,s,o)}catch(t){o(t)}}function Rt(t){t.h||(t.h=!0,vt(t.ec,t))}function xt(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Dt(t,e,n,r){if(n==Rh&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Lt(e,n,r);else try{e.c?e.g.call(e.f):Lt(e,n,r)}catch(t){Dh.call(null,t)}I(xh,e)}function Lt(t,e,n){e==Ph?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function Mt(t,e){t.g=!0,vt(function(){t.g&&Dh.call(null,e)})}function Ft(t){_.call(this,t)}function jt(){0!=Lh&&(Mh[c(this)]=this),this.wa=this.wa,this.na=this.na}function Ut(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Lh)){var e=c(t);if(0!=Lh&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Mh[e]}}function Vt(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function qt(t,e){if(Vt.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(yh){t:{try{rt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qh[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}function Bt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Wh,this.ua=this.Na=!1}function Wt(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function $t(t){this.src=t,this.a={},this.b=0}function Ht(t,e){var n=e.type;n in t.a&&O(t.a[n],e)&&(Wt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Gt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}function Kt(t,e,n,r,i){if(r&&r.once)Xt(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)Kt(t,e[o],n,r,i);else n=ie(n),t&&t[Bh]?se(t,e,n,u(r)?!!r.capture:!!r,i):zt(t,e,n,!1,r,i)}function zt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=u(i)?!!i.capture:!!i,a=re(t);if(a||(t[$h]=a=new $t(t)),n=a.add(e,n,r,s,o),!n.proxy){if(r=Qt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Vh||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}Gh++}}function Qt(){var t=ne,e=jh?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function Xt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Xt(t,e[o],n,r,i);else n=ie(n),t&&t[Bh]?ae(t,e,n,u(r)?!!r.capture:!!r,i):zt(t,e,n,!0,r,i)}function Yt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Yt(t,e[o],n,r,i);else r=u(r)?!!r.capture:!!r,n=ie(n),t&&t[Bh]?(t=t.u,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=Gt(o,n,r,i))&&(Wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=re(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Gt(e,n,r,i)),(n=-1<t?e[t]:null)&&Jt(n))}function Jt(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Bh])Ht(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),Gh--,(n=re(e))?(Ht(n,t),0==n.b&&(n.src=null,e[$h]=null)):Wt(t)}}}function Zt(t){return t in Hh?Hh[t]:Hh[t]="on"+t}function te(t,e,n,r){var i=!0;if((t=re(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=ee(o,r),i=i&&!1!==o)}return i}function ee(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&Jt(t),n.call(r,e)}function ne(t,e){if(t.ua)return!0;if(!jh){if(!e)t:{e=["window","event"];for(var n=Sc,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new qt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=te(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=te(r[i],t,!1,e),n=n&&o}return n}return ee(t,new qt(e,this))}function re(t){return t=t[$h],t instanceof $t?t:null}function ie(t){return a(t)?t:(t[Kh]||(t[Kh]=function(e){return t.handleEvent(e)}),t[Kh])}function oe(){jt.call(this),this.u=new $t(this),this.Yb=this,this.eb=null}function se(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function ae(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function ue(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&Ht(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function ce(t,e,n){if(a(t))n&&(t=f(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=f(t.handleEvent,t)}return 2147483647<Number(e)?-1:Sc.setTimeout(t,e||0)}function he(t){var e=null;return new mt(function(n,r){-1==(e=ce(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw Sc.clearTimeout(e),t})}function le(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fe(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(s(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(var r in t)e[n++]=r;return e}}function pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)Uc(t,e,void 0);else for(var n=fe(t),r=le(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function de(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof de)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ve(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ge(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],ge(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ye(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function me(t,e){this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1;var n;t instanceof me?(this.h=void 0!==e?e:t.h,_e(this,t.f),this.i=t.i,this.b=t.b,be(this,t.l),this.c=t.c,we(this,Le(t.a)),this.g=t.g):t&&(n=String(t).match(zh))?(this.h=!!e,_e(this,n[1]||"",!0),this.i=Se(n[2]||""),this.b=Se(n[3]||"",!0),be(this,n[4]),this.c=Se(n[5]||"",!0),we(this,n[6]||"",!0),this.g=Se(n[7]||"")):(this.h=!!e,this.a=new ke(null,this.h))}function _e(t,e,n){t.f=n?Se(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function be(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function we(t,e,n){e instanceof ke?(t.a=e,Fe(t.a,t.h)):(n||(e=Ne(e,Jh)),t.a=new ke(e,t.h))}function Ee(t,e,n){t.a.set(e,n)}function Ie(t,e){return t.a.get(e)}function Te(t){return t instanceof me?new me(t):new me(t,void 0)}function Ce(t,e){var n=new me(null,void 0);return _e(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Se(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ne(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ae),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ae(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function ke(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Oe(t){t.a||(t.a=new de,t.b=0,t.c&&ye(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Pe(t){var e=fe(t);if(void 0===e)throw Error("Keys are undefined");var n=new ke(null,void 0);t=le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?De(n,i,o):n.add(i,o)}return n}function Re(t,e){Oe(t),e=Me(t,e),ge(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,ge(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ve(t)))}function xe(t,e){return Oe(t),e=Me(t,e),ge(t.a.b,e)}function De(t,e,n){Re(t,e),0<n.length&&(t.c=null,t.a.set(Me(t,e),x(n)),t.b+=n.length)}function Le(t){var e=new ke;return e.c=t.c,t.a&&(e.a=new de(t.a),e.b=t.b),e}function Me(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Fe(t,e){e&&!t.f&&(Oe(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Re(this,e),De(this,n,t))},t)),t.f=e}function je(t){var e=[];return Ve(new Ue,t,e),e.join("")}function Ue(){}function Ve(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Ve(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),qe(r,n),n.push(":"),Ve(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":qe(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function qe(t,e){e.push('"',t.replace(el,function(t){var e=tl[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),tl[t]=e),e}),'"')}function Be(){var t=un();return dh&&!!Eh&&11==Eh||/Edge\/\d+/.test(t)}function We(){return Sc.window&&Sc.window.location.href||self&&self.location&&self.location.href||""}function $e(t,e){e=e||Sc.window;var n="about:blank";t&&(n=z(Q(t))),e.location.href=n}function He(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<He(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Ge(){var t=un();return!((t=sn(t)!=ol?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!dh||!Eh||9<Eh)}function Ke(t){return t=(t||un()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ze(t){t=t||Sc.window;try{t.close()}catch(t){}}function Qe(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=un().toLowerCase(),r&&(e.target=r,D(n,"crios/")&&(e.target="_blank")),sn(un())==il&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof K?n:Q(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[];for(s in t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((M("iPhone")&&!M("iPod")&&!M("iPad")||M("iPad")||M("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=lt(document,"A"),q(s,"HTMLAnchorElement"),e instanceof K||e instanceof K||(e="object"==typeof e&&e.ra?e.qa():String(e),ah.test(e)||(e="about:invalid#zClosurez"),e=new K(ch,e)),s.href=z(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=z(e),s&&(gh&&D(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=J('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+nt(t)+'">'),r=s.document)&&(r.write(Y(t)),r.close())):(s=r.open(z(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}function Xe(t){return new mt(function(e){function n(){he(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}function Ye(){var t=null;return new mt(function(e){"complete"==Sc.document.readyState?e():(t=function(){e()},Xt(window,"load",t))}).o(function(e){throw Yt(window,"load",t),e})}function Je(){return Ze(void 0)?Ye().then(function(){return new mt(function(t,e){var n=Sc.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Et(Error("Cordova must run in an Android or iOS file scheme."))}function Ze(t){return t=t||un(),!("file:"!==pn()&&"ionic:"!==pn()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function tn(){var t=Sc.window;try{return!(!t||t==t.top)}catch(t){return!1}}function en(){return void 0!==Sc.WorkerGlobalScope&&"function"==typeof Sc.importScripts}function nn(){return Ec.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ec.INTERNAL.hasOwnProperty("node")?"Node":en()?"Worker":"Browser"}function rn(){var t=nn();return"ReactNative"===t||"Node"===t}function on(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function sn(t){var e=t.toLowerCase();return D(e,"opera/")||D(e,"opr/")||D(e,"opios/")?"Opera":D(e,"iemobile")?"IEMobile":D(e,"msie")||D(e,"trident/")?"IE":D(e,"edge/")?"Edge":D(e,"firefox/")?il:D(e,"silk/")?"Silk":D(e,"blackberry")?"Blackberry":D(e,"webos")?"Webos":!D(e,"safari/")||D(e,"chrome/")||D(e,"crios/")||D(e,"android")?!D(e,"chrome/")&&!D(e,"crios/")||D(e,"edge/")?D(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":ol:"Safari"}function an(t,e){e=e||[];var n,r=[],i={};for(n in sl)i[sl[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=nn(),"Browser"===r?(i=un(),r=sn(i)):"Worker"===r&&(i=un(),r=sn(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function un(){return Sc.navigator&&Sc.navigator.userAgent||""}function cn(t,e){t=t.split("."),e=e||Sc;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function hn(){try{var t=Sc.localStorage,e=mn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Be()||!!Sc.indexedDB}catch(t){return en()&&!!Sc.indexedDB}return!1}function ln(){return(fn()||"chrome-extension:"===pn()||Ze())&&!rn()&&hn()&&!en()}function fn(){return"http:"===pn()||"https:"===pn()}function pn(){return Sc.location&&Sc.location.protocol||null}function dn(t){return t=t||un(),!Ke(t)&&sn(t)!=il}function vn(t){return void 0===t?null:je(t)}function gn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function yn(t){if(null!==t)return JSON.parse(t)}function mn(t){return t||Math.floor(1e9*Math.random()).toString()}function _n(t){return t=t||un(),"Safari"!=sn(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function bn(){var t=Sc.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function wn(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=un(),e=nn(),this.b=Ke(t)||"ReactNative"===e}function En(){var t=Sc.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function In(){var t=Sc.document,e=null;return En()||!t?wt():new mt(function(n){e=function(){En()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function Tn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Cn(){return!(!cn("fireauth.oauthhelper",Sc)&&!cn("fireauth.iframe",Sc))}function Sn(){var t=Sc.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function Nn(){var t=Sc.navigator;return t&&t.serviceWorker?wt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):wt(null)}function An(t){ul[t]||(ul[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}function kn(t,e,n){al?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function On(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&kn(t,n,e[n])}function Pn(t){var e={};return On(e,t),e}function Rn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function xn(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Dn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)kn(e,n,Dn(t[n]))}return e}function Ln(t){var e=t&&(t[pl]?"phone":null);if(!(e&&t&&t[fl]))throw new v("internal-error","Internal assert: invalid MultiFactorInfo object");kn(this,"uid",t[fl]),kn(this,"displayName",t[hl]||null);var n=null;t[ll]&&(n=new Date(t[ll]).toUTCString()),kn(this,"enrollmentTime",n),kn(this,"factorId",e)}function Mn(t){try{var e=new Fn(t)}catch(t){e=null}return e}function Fn(t){Ln.call(this,t),kn(this,"phoneNumber",t[pl])}function jn(t){var e={},n=t[yl],r=t[_l],i=t[bl];if(t=Mn(t[ml]),!i||i!=vl&&i!=gl&&!n||i==gl&&!r||i==dl&&!t)throw Error("Invalid checkActionCode response!");i==gl?(e[El]=n||null,e[Tl]=n||null,e[wl]=r):(e[El]=r||null,e[Tl]=r||null,e[wl]=n||null),e[Il]=t||null,kn(this,Sl,i),kn(this,Cl,Dn(e))}function Un(t){t=Te(t);var e=Ie(t,Nl)||null,n=Ie(t,Al)||null,r=Ie(t,Pl)||null;if(r=r?xl[r]||null:null,!e||!n||!r)throw new v("argument-error",Nl+", "+Al+"and "+Pl+" are required in a valid action code URL.");On(this,{apiKey:e,operation:r,code:n,continueUrl:Ie(t,kl)||null,languageCode:Ie(t,Ol)||null,tenantId:Ie(t,Rl)||null})}function Vn(t){try{return new Un(t)}catch(t){return null}}function qn(t){var e=t[jl];if(void 0===e)throw new v("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new v("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Dl];if(n&&"object"==typeof n){e=n[ql];var r=n[Ul];if(n=n[Vl],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new v("argument-error",Ul+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new v("argument-error",Vl+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new v("argument-error",ql+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new v("missing-android-pkg-name")}}else if(void 0!==n)throw new v("argument-error",Dl+" property must be a non null object when specified.");if(this.f=null,(e=t[Fl])&&"object"==typeof e){if("string"==typeof(e=e[Bl])&&e.length)this.f=e;else if(void 0!==e)throw new v("argument-error",Bl+" property must be a non empty string when specified.")}else if(void 0!==e)throw new v("argument-error",Fl+" property must be a non null object when specified.");if(void 0!==(e=t[Ml])&&"boolean"!=typeof e)throw new v("argument-error",Ml+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ll])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new v("argument-error",Ll+" property must be a non empty string when specified.");this.i=t||null}function Bn(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i;for(var n in e)null===e[n]&&delete e[n];return e}function Wn(t){return qc(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function $n(t){var e="";return Hn(t,function(t){e+=String.fromCharCode(t)}),e}function Hn(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Wl[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Gn();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}function Gn(){if(!Wl){Wl={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Wl[o]&&(Wl[o]=i)}}}function Kn(t){var e=Qn(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,Pc(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function zn(t){try{return new Kn(t)}catch(t){return null}}function Qn(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse($n(t))}catch(t){}return null}function Xn(t){for(var e in Gl)if(Gl[e].ea==t)return Gl[e];return null}function Yn(t){var e={};e["facebook.com"]=tr,e["google.com"]=nr,e["github.com"]=er,e["twitter.com"]=rr;var n=t&&t[zl];try{if(n)return e[n]?new e[n](t):new Zn(t);if(void 0!==t[Kl])return new Jn(t)}catch(t){}return null}function Jn(t){var e=t[zl];if(!e&&t[Kl]){var n=zn(t[Kl]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),kn(this,"providerId",e),kn(this,"isNewUser",n)}function Zn(t){Jn.call(this,t),t=yn(t.rawUserInfo||"{}"),kn(this,"profile",Dn(t||{}))}function tr(t){if(Zn.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function er(t){if(Zn.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");kn(this,"username",this.profile&&this.profile.login||null)}function nr(t){if(Zn.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function rr(t){if(Zn.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");kn(this,"username",t.screenName||null)}function ir(t){var e=Te(t),n=Ie(e,"link"),r=Ie(Te(n),"link");return e=Ie(e,"deep_link_id"),Ie(Te(e),"link")||e||r||n||t}function or(t,e){if(!t&&!e)throw new v("internal-error","Internal assert: no raw session string available");if(t&&e)throw new v("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Ql:Xl}function sr(){}function ar(t,e){return t.then(function(t){if(t[vf]){var n=zn(t[vf]);if(!n||e!=n.h)throw new v("user-mismatch");return t}throw new v("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==xc+"user-not-found"?new v("user-mismatch"):t})}function ur(t,e){if(!e)throw new v("internal-error","failed to construct a credential");this.a=e,kn(this,"providerId",t),kn(this,"signInMethod",t)}function cr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function hr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ur(t.providerId,t.pendingToken)}catch(t){}return null}function lr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&kn(this,"idToken",e.idToken),e.accessToken&&kn(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&kn(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new v("internal-error","failed to construct a credential");kn(this,"accessToken",e.oauthToken),kn(this,"secret",e.oauthTokenSecret)}kn(this,"providerId",t),kn(this,"signInMethod",n)}function fr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Pe(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function pr(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lr(t.providerId,e,t.signInMethod)}catch(t){}}return null}function dr(t,e){this.Oc=e||[],On(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Xn(t)||{}).Ha||null,this.kb=null}function vr(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new v("argument-error",'SAML provider IDs must be prefixed with "saml."');dr.call(this,t,[])}function gr(t){dr.call(this,t,Hl),this.a=[]}function yr(){gr.call(this,"facebook.com")}function mr(t){if(!t)throw new v("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return u(t)&&(e=t.accessToken),(new yr).credential({accessToken:e})}function _r(){gr.call(this,"github.com")}function br(t){if(!t)throw new v("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return u(t)&&(e=t.accessToken),(new _r).credential({accessToken:e})}function wr(){gr.call(this,"google.com"),this.Aa("profile")}function Er(t,e){var n=t;return u(t)&&(n=t.idToken,e=t.accessToken),(new wr).credential({idToken:n,accessToken:e})}function Ir(){dr.call(this,"twitter.com",$l)}function Tr(t,e){var n=t;if(u(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new v("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lr("twitter.com",n,"twitter.com")}function Cr(t,e,n){this.a=t,this.f=e,kn(this,"providerId","password"),kn(this,"signInMethod",n===Nr.EMAIL_LINK_SIGN_IN_METHOD?Nr.EMAIL_LINK_SIGN_IN_METHOD:Nr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Sr(t){return t&&t.email&&t.password?new Cr(t.email,t.password,t.signInMethod):null}function Nr(){On(this,{providerId:"password",isOAuthProvider:!1})}function Ar(t,e){if(!(e=kr(e)))throw new v("argument-error","Invalid email link!");return new Cr(t,e.code,Nr.EMAIL_LINK_SIGN_IN_METHOD)}function kr(t){return t=ir(t),(t=Vn(t))&&t.operation===vl?t:null}function Or(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new v("internal-error");this.a=t,kn(this,"providerId","phone"),this.ea="phone",kn(this,"signInMethod","phone")}function Pr(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return Uc(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Or(e)}return null}function Rr(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function xr(t){try{this.a=t||Ec.auth()}catch(t){throw new v("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}On(this,{providerId:"phone",isOAuthProvider:!1})}function Dr(t,e){if(!t)throw new v("missing-verification-id");if(!e)throw new v("missing-verification-code");return new Or({bb:t,ab:e})}function Lr(t){if(t.temporaryProof&&t.phoneNumber)return new Or({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Er(o,n);case"facebook.com":return mr(n);case"github.com":return br(n);case"twitter.com":return Tr(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ur(e,s):new lr(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new gr(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Mr(t){if(!t.isOAuthProvider)throw new v("invalid-oauth-provider")}function Fr(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new v("invalid-auth-event");if(this.g&&this.a)throw new v("invalid-auth-event");if(this.g&&!this.f)throw new v("invalid-auth-event")}function jr(t){return t=t||{},t.type?new Fr(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&g(t.error),t.postBody,t.tenantId):null}function Ur(){this.b=null,this.a=[]}function Vr(t){var e=Yl;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=cn("universalLinks.subscribe",Sc))&&t(null,e.b))}function qr(t){var e="unauthorized-domain",n=void 0,r=Te(t);t=r.b,r=r.f,"chrome-extension"==r?n=et("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=et("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",v.call(this,e,n)}function Br(t,e,n){v.call(this,t,n),t=e||{},t.Gb&&kn(this,"email",t.Gb),t.da&&kn(this,"phoneNumber",t.da),t.credential&&kn(this,"credential",t.credential),t.Wb&&kn(this,"tenantId",t.Wb)}function Wr(t){if(t.code){var e=t.code||"";0==e.indexOf(xc)&&(e=e.substring(xc.length));var n={credential:Lr(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new v(e,t.message||void 0);return new Br(e,n,t.message)}return null}function $r(){}function Hr(t){return t.c||(t.c=t.b())}function Gr(){}function Kr(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function zr(){}function Qr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=f(this.oc,this),this.a.onerror=f(this.Pb,this),this.a.onprogress=f(this.pc,this),this.a.ontimeout=f(this.tc,this)}function Xr(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Yr(t,e,n){this.reset(t,e,n,void 0,void 0)}function Jr(t){this.f=t,this.b=this.c=this.a=null}function Zr(t,e){this.name=t,this.value=e}function ti(t){return t.c?t.c:t.a?ti(t.a):(w("Root logger has no level set."),null)}function ei(t){sf||(sf=new Jr(""),of[""]=sf,sf.c=nf);var e;if(!(e=of[t])){e=new Jr(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=ei(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,of[t]=e}return e}function ni(t,e){t&&t.log(rf,e,void 0)}function ri(t){this.f=t}function ii(t){oe.call(this),this.s=t,this.readyState=af,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ei("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}function oi(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function si(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ai(t)}function ai(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ui(t){oe.call(this),this.headers=new de,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=uf,this.w=this.R=!1}function ci(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Jl.a(),t.B=Hr(t.D?t.D:Jl),t.a.onreadystatechange=f(t.Sb,t);try{ni(t.b,bi(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return ni(t.b,bi(t,"Error opening Xhr: "+e.message)),void fi(t,e)}e=r||"";var o=new de(t.headers);i&&pe(i,function(t,e){o.set(e,t)}),i=A(o.X()),r=Sc.FormData&&e instanceof Sc.FormData,!k(hf,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{gi(t),0<t.g&&(t.w=hi(t.a),ni(t.b,bi(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=f(t.Ka,t)):t.s=ce(t.Ka,t.g,t)),ni(t.b,bi(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){ni(t.b,bi(t,"Send error: "+e.message)),fi(t,e)}}function hi(t){return dh&&st(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function li(t){return"content-type"==t.toLowerCase()}function fi(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,pi(t),vi(t)}function pi(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function di(t){if(t.c&&void 0!==Cc)if(t.B[1]&&4==yi(t)&&2==mi(t))ni(t.b,bi(t,"Local request error detected and ignored"));else if(t.i&&4==yi(t))ce(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==yi(t)){ni(t.b,bi(t,"Request complete")),t.c=!1;try{var e=mi(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.l).match(zh)[1]||null;if(!o&&Sc.self&&Sc.self.location){var s=Sc.self.location.protocol;o=s.substr(0,s.length-1)}i=!cf.test(o?o.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<yi(t)?t.a.statusText:""}catch(e){ni(t.b,"Can not get status: "+e.message),a=""}t.h=a+" ["+mi(t)+"]",pi(t)}}finally{vi(t)}}}function vi(t,e){if(t.a){gi(t);var n=t.a,r=t.B[0]?i:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(tf,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function gi(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(Sc.clearTimeout(t.s),t.s=null)}function yi(t){return t.a?t.a.readyState:0}function mi(t){try{return 2<yi(t)?t.a.status:-1}catch(t){return-1}}function _i(t){try{return t.a?t.a.responseText:""}catch(e){return ni(t.b,"Can not get responseText: "+e.message),""}}function bi(t,e){return e+" ["+t.P+" "+t.l+" "+mi(t)+"]"}function wi(t){var e=xi;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ei(t,e,n){t.a=!0,t.c=n,t.f=!e,Ni(t)}function Ii(t){if(t.a){if(!t.u)throw new Ai(t);t.u=!1}}function Ti(t,e){Ci(t,null,e,void 0)}function Ci(t,e,n,r){t.g.push([e,n,r]),t.a&&Ni(t)}function Si(t){return Bc(t.g,function(t){return a(t[1])})}function Ni(t){if(t.h&&t.a&&Si(t)){var e=t.h,n=lf[e];n&&(Sc.clearTimeout(n.a),delete lf[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var a=o.call(i||t.s,e);void 0!==a&&(t.f=t.f&&(a==e||a instanceof Error),t.c=e=a),(m(e)||"function"==typeof Sc.Promise&&e instanceof Sc.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,Si(t)||(n=!0)}}t.c=e,r&&(a=f(t.m,t,!0),r=f(t.m,t,!1),e instanceof wi?(Ci(e,a,r),e.B=!0):e.then(a,r)),n&&(e=new Oi(e),lf[e.a]=e,t.h=e.a)}function Ai(){_.call(this)}function ki(){_.call(this)}function Oi(t){this.a=Sc.setTimeout(f(this.c,this),0),this.b=t}function Pi(t){var e={},n=e.document||document,r=H(t).toString(),i=lt(document,"SCRIPT"),o={Tb:i,Ka:void 0},s=new wi(o),a=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(a=window.setTimeout(function(){Di(i,!0);var t=new Li(pf,"Timeout reached for loading script "+r);Ii(s),Ei(s,!1,t)},u),o.Ka=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Di(i,e.ud||!1,a),Ii(s),Ei(s,!0,null))},i.onerror=function(){Di(i,!0,a);var t=new Li(ff,"Error while loading script "+r);Ii(s),Ei(s,!1,t)},o=e.attributes||{},V(o,{type:"text/javascript",charset:"UTF-8"}),ut(i,o),tt(i,t),Ri(n).appendChild(i),s}function Ri(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function xi(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Di(t,!0,this.Ka)}}function Di(t,e,n){null!=n&&Sc.clearTimeout(n),t.onload=i,t.onerror=i,t.onreadystatechange=i,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function Li(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),_.call(this,n),this.code=t}function Mi(t){this.f=t}function Fi(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||gf,this.g=U(t.secureTokenHeaders||yf),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||mf,this.a=U(t.firebaseHeaders||_f),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==nn(),!(n=Sc.XMLHttpRequest||n&&Ec.INTERNAL.node&&Ec.INTERNAL.node.XMLHttpRequest)&&!en())throw new v("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,en()?this.f=new ri(self):rn()?this.f=new Mi(n):this.f=new zr,this.b=null}function ji(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ui(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Vi(t,e,n,r,i,o,s){Ge()||en()?t=f(t.w,t):(df||(df=new mt(function(t,e){qi(t,e)})),t=f(t.s,t)),t(e,n,r,i,o,s)}function qi(t,e){if(((window.gapi||{}).client||{}).request)t();else{Sc[wf]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};Ti(Pi(G(bf,{onload:wf})),function(){e(Error("CORS_UNSUPPORTED"))})}}function Bi(t,e){return new mt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Vi(t,t.u+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(ho(t)):t.access_token&&t.refresh_token?n(t):r(new v("internal-error")):r(new v("network-request-failed"))},"POST",Pe(e).toString(),t.g,t.m.get()):r(new v("internal-error"))})}function Wi(t,e,n,r,i,o,s){var a=Te(e+n);Ee(a,"key",t.c),s&&Ee(a,"cb",Pc().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ee(a,c,i[c]);return new mt(function(e,n){Vi(t,a.toString(),function(t){t?t.error?n(ho(t,o||{})):e(t):n(new v("network-request-failed"))},r,u?void 0:je(gn(i)),t.a,t.i.get())})}function $i(t){if("string"!=typeof(t=t.email)||!rl.test(t))throw new v("invalid-email")}function Hi(t){"email"in t&&$i(t)}function Gi(t,e){return uo(t,Sf,{identifier:e,continueUri:fn()?We():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Ki(t){return uo(t,jf,{}).then(function(t){return t.authorizedDomains||[]})}function zi(t){if(!t[vf]){if(t.mfaPendingCredential)throw new v("multi-factor-auth-required",null,U(t));throw new v("internal-error")}}function Qi(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new v("internal-error")}else{if(!t.sessionInfo)throw new v("missing-verification-id");if(!t.code)throw new v("missing-verification-code")}}function Xi(t,e){return uo(t,qf,e)}function Yi(t,e){return uo(t,Hf,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}function Ji(t){if(!t.phoneVerificationInfo)throw new v("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new v("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new v("missing-verification-code")}function Zi(t,e){return uo(t,Gf,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}function to(t,e,n){return uo(t,Af,{idToken:e,deleteProvider:n})}function eo(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new v("internal-error")}function no(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new ke(t.postBody),xe(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function ro(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Wr(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Wr(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Wr(t)):t.errorMessage&&(e=co(t.errorMessage)),e)throw e;zi(t)}function io(t,e){return e.returnIdpCredential=!0,uo(t,Kf,e)}function oo(t,e){return e.returnIdpCredential=!0,uo(t,Qf,e)}function so(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,uo(t,zf,e)}function ao(t){if(!t.oobCode)throw new v("invalid-action-code")}function uo(t,e,n){if(!xn(n,e.M))return Et(new v("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return wt(n).then(e.A).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),i?Wi(t,t.l,e.endpoint,o,n,e.Eb,e.hb||!1):Wi(t,t.h,e.endpoint,o,n,e.Eb,e.hb||!1)}).then(function(t){return r=t,e.Wa?e.Wa(n,r):r}).then(e.G).then(function(){if(!e.Y)return r;if(!(e.Y in r))throw new v("internal-error");return r[e.Y]})}function co(t){return ho({error:{errors:[{message:t}],code:400,message:t}})}function ho(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new v(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},V(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new v(r[i],e);return!e&&t&&(e=vn(t)),new v("internal-error",e)}function lo(t){this.b=t,this.a=null,this.nb=fo(this)}function fo(t){return go().then(function(){return new mt(function(e,n){cn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ip.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function po(t,e){return t.nb.then(function(){return new mt(function(n){t.a.send(e.type,e,n,cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function vo(t,e){t.nb.then(function(){t.a.register("authEvent",e,cn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function go(){return op||(op=new mt(function(t,e){function n(){bn(),cn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){bn(),e(Error("Network Error"))},timeout:rp.get()})}if(cn("gapi.iframes.Iframe"))t();else if(cn("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();Sc[r]=function(){cn("gapi.load")?n():e(Error("Network Error"))},r=G(np,{onload:r}),wt(Pi(r)).o(function(){e(Error("Network Error"))})}}).o(function(t){throw op=null,t}))}function yo(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ce(this.i,"/__/auth/iframe"),Ee(this.a,"apiKey",this.g),Ee(this.a,"appName",this.h),this.b=null,this.c=[]}function mo(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function _o(t){try{return Ec.app(t).auth().Ea()}catch(t){return[]}}function bo(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function wo(t){var e=We();return Ki(t).then(function(t){t:{var n=Te(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Te(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:nl.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new qr(We())})}function Eo(t){return t.l?t.l:(t.l=Ye().then(function(){if(!t.s){var e=t.c,n=t.h,r=_o(t.b),i=new yo(t.u,t.f,t.b);i.f=e,i.b=n,i.c=x(r||[]),t.s=i.toString()}t.i=new lo(t.s),Co(t)}),t.l)}function Io(t){return t.m||(t.w=t.c?an(t.c,_o(t.b)):null,t.m=new Fi(t.f,y(t.h),t.w)),t.m}function To(t,e,n,r,i,o,s,a,u,c,h){return t=new mo(t,e,n,r,i),t.l=o,t.g=s,t.i=a,t.b=U(u||null),t.f=c,t.ub(h).toString()}function Co(t){if(!t.i)throw Error("IfcHandler must be initialized!");vo(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jr(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",wt(n)}return n.status="ERROR",wt(n)})}function So(t){var e={type:"webStorageSupport"};return Eo(t).then(function(){return po(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function No(t){if(this.a=t||Ec.INTERNAL.reactNative&&Ec.INTERNAL.reactNative.AsyncStorage,!this.a)throw new v("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ao(t){this.b=t,this.a={},this.f=f(this.c,this)}function ko(){var t=en()?self:null;if(Uc(sp,function(n){n.b==t&&(e=n)}),!e){var e=new Ao(t);sp.push(e)}return e}function Oo(t,e,n){j(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Po(t){this.a=t}function Ro(t){this.c=t,this.b=!1,this.a=[]}function xo(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Et(Error("connection_unavailable"));var h=r?800:50,l="undefined"!=typeof MessageChannel?new MessageChannel:null;return new mt(function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},h),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))},c={messageChannel:l,onMessage:o},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))}).then(function(e){return Do(t,c),e}).o(function(e){throw Do(t,c),e})}function Do(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),P(t.a,function(t){return t==e})}}function Lo(){if(!Uo())throw new v("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=Sc.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;en()&&self?(this.l=ko(),Oo(this.l,"keyChanged",function(e,n){return $o(t).then(function(e){return 0<e.length&&Uc(t.a,function(t){t(e)}),{keyProcessed:k(e,n.key)}})}),Oo(this.l,"ping",function(){return wt(["keyChanged"])})):Nn().then(function(e){(t.h=e)&&(t.g=new Ro(new Po(e)),xo(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&k(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Mo(t){return new mt(function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}function Fo(t){return new mt(function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Mo(t).then(function(){return Fo(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function jo(t){return t.m||(t.m=Fo(t)),t.m}function Uo(){try{return!!Sc.indexedDB}catch(t){return!1}}function Vo(t){return t.objectStore("firebaseLocalStorage")}function qo(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Bo(t){return new mt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Wo(t,e){return t.g&&t.h&&Sn()===t.h?xo(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):wt()}function $o(t){return jo(t).then(function(t){var e=Vo(qo(t,!1));return e.getAll?Bo(e.getAll()):new mt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=He(t.c,n),t.c=n}return r})}function Ho(t){function e(){t.f=setTimeout(function(){t.i=$o(t).then(function(e){0<e.length&&Uc(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}Go(t),e()}function Go(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ko(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=wt().then(function(){if(Uo()){var t=mn(),r="__sak"+t;return ap||(ap=new Lo),n=ap,n.set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ba(function(t){Uc(e.a,function(e){e(t)})}),t})}function zo(){this.a={},this.type="inMemory"}function Qo(){if(!Yo()){if("Node"==nn())throw new v("internal-error","The LocalStorage compatibility library was not found.");throw new v("web-storage-unsupported")}this.a=Xo()||Ec.INTERNAL.node.localStorage,this.type="localStorage"}function Xo(){try{var t=Sc.localStorage,e=mn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Yo(){var t="Node"==nn();if(!(t=Xo()||t&&Ec.INTERNAL.node&&Ec.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function Jo(){this.type="nullStorage"}function Zo(){if(!es()){if("Node"==nn())throw new v("internal-error","The SessionStorage compatibility library was not found.");throw new v("web-storage-unsupported")}this.a=ts()||Ec.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function ts(){try{var t=Sc.sessionStorage,e=mn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function es(){var t="Node"==nn();if(!(t=ts()||t&&Ec.INTERNAL.node&&Ec.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function ns(){var t={};t.Browser=hp,t.Node=lp,t.ReactNative=fp,t.Worker=pp,this.a=t[nn()]}function rs(t){var e=new v("invalid-persistence-type"),n=new v("unsupported-persistence-type");t:{for(r in dp)if(dp[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(nn()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Uo()&&"none"!==t)throw n;break;default:if(!hn()&&"none"!==t)throw n}}function is(){var t=!(_n(un())||!tn()),e=dn(),n=hn();this.m=t,this.h=e,this.l=n,this.a={},up||(up=new ns),t=up;try{this.g=!Be()&&Cn()||!Sc.indexedDB?new t.a.F:new Ko(en()?new zo:new t.a.F)}catch(t){this.g=new zo,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new zo}this.u=new zo,this.f=f(this.Vb,this),this.b={}}function os(){return cp||(cp=new is),cp}function ss(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function as(t,e){return"firebase:"+t.name+(e?":"+e:"")}function us(t,e,n){var r=as(e,n),i=ss(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=yn(Sc.localStorage.getItem(r))}catch(t){}if(s&&!o)return Sc.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&Sc.localStorage.removeItem(r)})}function cs(t,e,n){return n=as(e,n),"local"==e.F&&(t.b[n]=null),ss(t,e.F).T(n)}function hs(t){ls(t),t.c=setInterval(function(){for(var e in t.a){var n=Sc.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new qt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}},1e3)}function ls(t){t.c&&(clearInterval(t.c),t.c=null)}function fs(t){this.a=t,this.b=os()}function ps(t){return t.b.get(gp,t.a).then(function(t){return jr(t)})}function ds(){this.a=os()}function vs(){this.b=-1}function gs(t,e){this.b=yp,this.f=Sc.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=Sc.Int32Array?new Int32Array(64):Array(64),void 0===vp&&(vp=Sc.Int32Array?new Int32Array(Ep):Ep),this.reset()}function ys(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=c&h^~c&l,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,s=s+(0|vp[e])|0,s=o+(s+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function ms(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(ys(t),i=0);else{if(!s(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(ys(t),i=0)}}t.c=i,t.g+=n}function _s(){gs.call(this,8,Ip)}function bs(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new ds,this.g=new fs(this.h),this.f=null,this.b=[],this.a=this.c=null}function ws(t){return new v("invalid-cordova-configuration",t)}function Es(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Is(t){var e=new _s;ms(e,t),t=[];var n=8*e.g;56>e.c?ms(e,wp,56-e.c):ms(e,wp,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(ys(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Wn(t)}function Ts(t,e,n,r,i){var o=Es(),s=new Fr(e,r,null,o,new v("no-auth-event"),null,i),a=cn("BuildInfo.packageName",Sc);if("string"!=typeof a)throw new v("invalid-cordova-configuration");var u=cn("BuildInfo.displayName",Sc),c={};if(un().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!un().toLowerCase().match(/android/))return Et(new v("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=Is(o),c.sessionId=o;var h=To(t.u,t.i,t.l,e,n,null,r,t.m,c,t.s,i);return t.ka().then(function(){var e=t.h;return t.w.a.set(gp,s.v(),e)}).then(function(){var e=cn("cordova.plugins.browsertab.isAvailable",Sc);if("function"!=typeof e)throw new v("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=cn("cordova.plugins.browsertab.openUrl",Sc)))throw new v("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=cn("cordova.InAppBrowser.open",Sc)))throw new v("invalid-cordova-configuration");e=un(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Cs(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ss(t){return t.f||(t.f=t.ka().then(function(){return new mt(function(e){function n(r){return e(r),t.Qa(n),!1}t.Ca(n),As(t)})})),t.f}function Ns(t){var e=null;return ps(t.g).then(function(n){return e=n,n=t.g,cs(n.b,gp,n.a)}).then(function(){return e})}function As(t){function e(e){r=!0,i&&i.cancel(),Ns(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;i=ir(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=Te(i),o=yn(Ie(o,"firebaseError")||null),o=(o="object"==typeof o?g(o):null)?new Fr(r.c,r.b,null,null,o,null,r.S()):new Fr(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}Cs(t,i)})}var n=new Fr("unknown",null,null,null,new v("no-auth-event")),r=!1,i=he(500).then(function(){return Ns(t).then(function(){r||Cs(t,n)})}),o=Sc.handleOpenURL;Sc.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(cn("BuildInfo.packageName",Sc).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Yl||(Yl=new Ur),Vr(e)}function ks(t){this.a=t,this.b=os()}function Os(t){return t.b.set(Tp,"pending",t.a)}function Ps(t){return cs(t.b,Tp,t.a)}function Rs(t){return t.b.get(Tp,t.a).then(function(t){return"pending"==t})}function xs(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=f(this.s,this),this.b=new $s,this.B=new Js,this.g=new ks(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Ds(this.D,this.u,this.m,Rc)}function Ds(t,e,n,r){var i=Ec.SDK_VERSION||null;return Ze()?new bs(t,e,n,i,r):new bo(t,e,n,i,r)}function Ls(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o(function(n){throw t.a==e&&t.reset(),n})}function Ms(t){t.a.Ub()&&Ls(t).o(function(e){var n=new Fr("unknown",null,null,null,new v("operation-not-supported-in-this-environment"));Vs(e)&&t.s(n)}),t.a.Qb()||Hs(t.b)}function Fs(t,e){k(t.h,e)||t.h.push(e),t.f||Rs(t.g).then(function(e){e?Ps(t.g).then(function(){Ls(t).o(function(e){var n=new Fr("unknown",null,null,null,new v("operation-not-supported-in-this-environment"));Vs(e)&&t.s(n)})}):Ms(t)}).o(function(){Ms(t)})}function js(t,e){P(t.h,function(t){return t==e})}function Us(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,function(){t.f||(t.f=!0,t.a.Ca(t.l))},function(){t.reset()},i,o,s)}function Vs(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function qs(t,e,n,r,i){var o;return Os(t.g).then(function(){return t.a.Kb(e,n,r,i).o(function(e){if(Vs(e))throw new v("operation-not-supported-in-this-environment");return o=e,Ps(t.g).then(function(){throw o})}).then(function(){return t.a.Xb()?new mt(function(){}):Ps(t.g).then(function(){return t.pa()}).then(function(){}).o(function(){})})})}function Bs(t,e,n,r,i){return t.a.Lb(r,function(t){e.la(n,null,t,i)},Cp.get())}function Ws(t,e,n){var r=e+":"+n;return Np[r]||(Np[r]=new xs(t,e,n)),Np[r]}function $s(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hs(t){t.g||(t.g=!0,Xs(t,!1,null,null))}function Gs(t){t.g&&!t.i&&Xs(t,!1,null,null)}function Ks(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Xs(t,a,e,null)}).o(function(e){Xs(t,a,null,e)})}function zs(t,e){if(t.b=function(){return Et(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function Qs(t,e){if(t.b=function(){return wt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Xs(t,e,n,r){e?r?zs(t,r):Qs(t,n):Qs(t,{user:null}),t.f=[],t.c=[]}function Ys(t){var e=new v("timeout");t.a&&t.a.cancel(),t.a=he(Sp.get()).then(function(){t.b||(t.g=!0,Xs(t,!0,null,e))})}function Js(){}function Zs(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then(function(t){e.la(r,t,null,n)}).o(function(t){e.la(r,null,t,n)})}function ta(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function ea(t,e){this.a=e,kn(this,"verificationId",t)}function na(t,e,n,r){return new xr(t).cb(e,n).then(function(t){return new ea(t,r)})}function ra(t){var e=Qn(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new v("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");On(this,{token:t,expirationTime:Tn(1e3*e.exp),authTime:Tn(1e3*e.auth_time),issuedAtTime:Tn(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function ia(t,e,n){var r=e&&e[kp];if(!r)throw new v("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=U(e),this.g=n,this.c=new or(null,r),this.b=[];var i=this;Uc(e[Ap]||[],function(t){(t=Mn(t))&&i.b.push(t)}),kn(this,"auth",this.a),kn(this,"session",this.c),kn(this,"hints",this.b)}function oa(t,e,n,r){v.call(this,"multi-factor-auth-required",r,e),this.b=new ia(t,e,n),kn(this,"resolver",this.b)}function sa(t,e,n){if(t&&u(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new oa(e,t.serverResponse,n,t.message)}catch(t){}return null}function aa(){}function ua(t,e,n,r){return n.Fa().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),V(n,{phoneVerificationInfo:Rr(t.a)}),uo(e,Pf,n)})}function ca(t,e,n){return n.Fa().then(function(n){return n={mfaPendingCredential:n},V(n,{phoneVerificationInfo:Rr(t.a)}),uo(e,Rf,n)})}function ha(t){kn(this,"factorId",t.ea),this.a=t}function la(t){if(ha.call(this,t),this.a.ea!=xr.PROVIDER_ID)throw new v("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function fa(t,e){Vt.call(this,t);for(var n in e)this[n]=e[n]}function pa(t,e){this.a=t,this.b=[],this.c=f(this.wc,this),Kt(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&Uc(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[fl]=t.uid),t.displayName&&(r[hl]=t.displayName),t.enrollmentTime&&(r[ll]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[pl]=t.phoneNumber);try{e=new Fn(r)}catch(t){}t=e}else t=null;t&&n.push(t)}),va(this,n)}function da(t){var e=[];return Uc(t.mfaInfo||[],function(t){(t=Mn(t))&&e.push(t)}),e}function va(t,e){t.b=e,kn(t,"enrolledFactors",e)}function ga(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ya(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function ma(t,e){t.stop(),t.b=he(ya(t,e)).then(function(){return In()}).then(function(){return t.h()}).then(function(){ma(t,!0)}).o(function(e){t.i(e)&&ma(t,!1)})}function _a(t){this.c=t,this.b=this.a=null}function ba(t){return t.b&&1e3*t.b.c||0}function wa(t,e){var n=e.refreshToken;t.b=zn(e[vf]||""),t.a=n}function Ea(t,e){t.b=e.b,t.a=e.a}function Ia(t,e){return Bi(t.c,e).then(function(e){return t.b=zn(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Ta(t,e){this.a=t||null,this.b=e||null,On(this,{lastSignInTime:Tn(e||null),creationTime:Tn(t||null)})}function Ca(t){return new Ta(t.a,t.b)}function Sa(t,e,n,r,i,o){On(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Na(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Ec.SDK_VERSION?an(Ec.SDK_VERSION):null,this.a=new Fi(this.l,y(Rc),t),this.b=new _a(this.a),La(this,e[vf]),wa(this.b,e),kn(this,"refreshToken",this.b.a),Ua(this,n||{}),oe.call(this),this.P=!1,this.s&&ln()&&(this.i=Ws(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=Ra(this),this.Z=f(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ka(r,t.c)},this.$=null,this.O=new pa(this,n),kn(this,"multiFactor",this.O)}function Aa(t,e){t.aa&&Yt(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&Kt(e,"languageCodeChanged",t.za)}function ka(t,e){t.W=e,Ui(t.a,Ec.SDK_VERSION?an(Ec.SDK_VERSION,t.W):null)}function Oa(t,e){t.$&&Yt(t.$,"frameworkChanged",t.ya),(t.$=e)&&Kt(e,"frameworkChanged",t.ya)}function Pa(t){try{return Ec.app(t.m).auth()}catch(e){throw new v("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ra(t){return new ga(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=ba(t.b)-Pc()-3e5;return 0<e?e:0})}function xa(t){t.D||t.B.b||(t.B.start(),Yt(t,"tokenChanged",t.Z),Kt(t,"tokenChanged",t.Z))}function Da(t){Yt(t,"tokenChanged",t.Z),t.B.stop()}function La(t,e){t.xa=e,kn(t,"_lat",e)}function Ma(t,e){P(t.R,function(t){return t==e})}function Fa(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ct(e).then(function(){return t})}function ja(t){t.i&&!t.P&&(t.P=!0,Fs(t.i,t))}function Ua(t,e){On(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Ta(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Va(){}function qa(t){return wt().then(function(){if(t.D)throw new v("app-deleted")})}function Ba(t){return qc(t.providerData,function(t){return t.providerId})}function Wa(t,e){e&&($a(t,e.providerId),t.providerData.push(e))}function $a(t,e){P(t.providerData,function(t){return t.providerId==e})}function Ha(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&kn(t,e,n)}function Ga(t,e){t!=e&&(On(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?kn(t,"metadata",Ca(e.metadata)):kn(t,"metadata",new Ta),Uc(e.providerData,function(e){Wa(t,e)}),Ea(t.b,e.b),kn(t,"refreshToken",t.b.a),va(t.O,e.O.b))}function Ka(t){return t.I().then(function(e){var n=t.isAnonymous;return Qa(t,e).then(function(){return n||Ha(t,"isAnonymous",!1),e})})}function za(t,e){e[vf]&&t.xa!=e[vf]&&(wa(t.b,e),t.dispatchEvent(new fa("tokenChanged")),La(t,e[vf]),Ha(t,"refreshToken",t.b.a))}function Qa(t,e){return uo(t.a,xf,{idToken:e}).then(f(t.Ic,t))}function Xa(t){return(t=t.providerUserInfo)&&t.length?qc(t,function(t){return new Sa(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Ya(t,e){return Ka(t).then(function(){if(k(Ba(t),e))return Fa(t).then(function(){throw new v("provider-already-linked")})})}function Ja(t,e,n){var r=Lr(e);return e=Yn(e),Pn({user:t,credential:r,additionalUserInfo:e,operationType:n})}function Za(t,e){return za(t,e),t.reload().then(function(){return t})}function tu(t,e,n,r,i){if(!ln())return Et(new v("operation-not-supported-in-this-environment"));if(t.h&&!i)return Et(t.h);var o=Xn(n.providerId),s=mn(t.uid+":::"),a=null;(!dn()||tn())&&t.s&&n.isOAuthProvider&&(a=To(t.s,t.l,t.m,e,n,null,s,Ec.SDK_VERSION||null,null,null,t.tenantId));var u=Qe(a,o&&o.ta,o&&o.sa);return r=r().then(function(){if(nu(t),!i)return t.I().then(function(){})}).then(function(){return Us(t.i,u,e,n,s,!!a,t.tenantId)}).then(function(){return new mt(function(n,r){t.la(e,null,new v("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Bs(t.i,t,e,u,s)})}).then(function(t){return u&&ze(u),t?Pn(t):null}).o(function(t){throw u&&ze(u),t}),ru(t,r,i)}function eu(t,e,n,r,i){if(!ln())return Et(new v("operation-not-supported-in-this-environment"));if(t.h&&!i)return Et(t.h);var o=null,s=mn(t.uid+":::");return r=r().then(function(){if(nu(t),!i)return t.I().then(function(){})}).then(function(){return t.fa=s,Fa(t)}).then(function(e){return t.ga&&(e=t.ga,e=e.b.set(Op,t.v(),e.a)),e}).then(function(){return qs(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ga)return cu(t.ga);throw o}).then(function(){if(o)throw o}),ru(t,r,i)}function nu(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new v("internal-error");throw new v("auth-domain-config-required")}}function ru(t,e,n){var r=iu(t,e,n);return t.N.push(r),r.ma(function(){O(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=sa(e.v(),Pa(t),f(t.hc,t))),n||e})}function iu(t,e,n){return t.h&&!n?(e.cancel(),Et(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new fa("userInvalidated")),t.h=e),e})}function ou(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[vf]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new Na(e,n,t);return t.providerData&&Uc(t.providerData,function(t){t&&Wa(r,Pn(t))}),t.redirectEventId&&(r.fa=t.redirectEventId),r}function su(t,e,n,r){var i=new Na(t,e);return n&&(i.ga=n),r&&ka(i,r),i.reload().then(function(){return i})}function au(t,e,n,r){var i=t.b,o={};return o[vf]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Na(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&ka(e,r),Ga(e,t),e}function uu(t){this.a=t,this.b=os()}function cu(t){return cs(t.b,Op,t.a)}function hu(t,e){return t.b.get(Op,t.a).then(function(t){return t&&e&&(t.authDomain=e),ou(t||{})})}function lu(t){this.a=t,this.b=os(),this.c=null,this.f=pu(this),this.b.addListener(du("local"),this.a,f(this.g,this))}function fu(t,e){var n,r=[];for(n in dp)dp[n]!==e&&r.push(cs(t.b,du(dp[n]),t.a));return r.push(cs(t.b,Pp,t.a)),Tt(r)}function pu(t){var e=du("local"),n=du("session"),r=du("none");return us(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Pp,t.a).then(function(t){return t?du(t):e})})})}).then(function(e){return t.c=e,fu(t,e.F)}).o(function(){t.c||(t.c=e)})}function du(t){return{name:"authUser",F:t}}function vu(t){return _u(t,function(){return t.b.set(Pp,t.c.F,t.a)})}function gu(t,e){return _u(t,function(){return t.b.set(t.c,e.v(),t.a)})}function yu(t){return _u(t,function(){return cs(t.b,t.c,t.a)})}function mu(t,e){return _u(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),ou(t||{})})})}function _u(t,e){return t.f=t.f.then(e,e),t.f}function bu(t){if(this.l=!1,kn(this,"settings",new ta),kn(this,"app",t),!xu(this).options||!xu(this).options.apiKey)throw new v("invalid-api-key");t=Ec.SDK_VERSION?an(Ec.SDK_VERSION):null,this.b=new Fi(xu(this).options&&xu(this).options.apiKey,y(Rc),t),this.P=[],this.m=[],this.O=[],this.$b=Ec.INTERNAL.createSubscribe(f(this.xc,this)),this.W=void 0,this.ac=Ec.INTERNAL.createSubscribe(f(this.yc,this)),Au(this,null),this.i=new lu(xu(this).options.apiKey+":"+xu(this).name),this.B=new uu(xu(this).options.apiKey+":"+xu(this).name),this.Z=ju(this,Ou(this)),this.h=ju(this,Pu(this)),this.aa=!1,this.oa=f(this.Xc,this),this.Ma=f(this.ca,this),this.xa=f(this.jc,this),this.ya=f(this.uc,this),this.za=f(this.vc,this),this.a=null,Cu(this),this.INTERNAL={},this.INTERNAL.delete=f(this.delete,this),this.INTERNAL.logFramework=f(this.Ec,this),this.s=0,oe.call(this),Iu(this),this.N=[]}function wu(t){Vt.call(this,"languageCodeChanged"),this.g=t}function Eu(t){Vt.call(this,"frameworkChanged"),this.c=t}function Iu(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}function Tu(t){return t.Zb||Et(new v("auth-domain-config-required"))}function Cu(t){var e=xu(t).options.authDomain,n=xu(t).options.apiKey;e&&ln()&&(t.Zb=t.Z.then(function(){if(!t.l){if(t.a=Ws(e,n,xu(t).name),Fs(t.a,t),Du(t)&&ja(Du(t)),t.D){ja(t.D);var r=t.D;r.va(t.ja()),Aa(r,t),r=t.D,ka(r,t.N),Oa(r,t),t.D=null}return t.a}}))}function Su(t){if(!ln())return Et(new v("operation-not-supported-in-this-environment"));var e=Tu(t).then(function(){return t.a.pa()}).then(function(t){return t?Pn(t):null});return ju(t,e)}function Nu(t,e){var n={};return n.apiKey=xu(t).options.apiKey,n.authDomain=xu(t).options.authDomain,n.appName=xu(t).name,t.Z.then(function(){return su(n,e,t.B,t.Ea())}).then(function(e){return Du(t)&&e.uid==Du(t).uid?(Ga(Du(t),e),t.ca(e)):(Au(t,e),ja(e),t.ca(e))}).then(function(){Mu(t)})}function Au(t,e){Du(t)&&(Ma(Du(t),t.Ma),Yt(Du(t),"tokenChanged",t.xa),Yt(Du(t),"userDeleted",t.ya),Yt(Du(t),"userInvalidated",t.za),Da(Du(t))),e&&(e.R.push(t.Ma),Kt(e,"tokenChanged",t.xa),Kt(e,"userDeleted",t.ya),Kt(e,"userInvalidated",t.za),0<t.s&&xa(e)),kn(t,"currentUser",e),e&&(e.va(t.ja()),Aa(e,t),ka(e,t.N),Oa(e,t))}function ku(t){var e=hu(t.B,xu(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ga=t.B),cu(t.B)});return ju(t,e)}function Ou(t){var e=xu(t).options.authDomain,n=ku(t).then(function(){return mu(t.i,e)}).then(function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then(function(){return gu(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:yu(t.i)})):null}).then(function(e){Au(t,e||null)});return ju(t,n)}function Pu(t){return t.Z.then(function(){return Su(t)}).o(function(){}).then(function(){if(!t.l)return t.oa()}).o(function(){}).then(function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(du("local"),e.a,t.oa)}})}function Ru(t,e){var n=null,r=null;return ju(t,e.then(function(e){return n=Lr(e),r=Yn(e),Nu(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=sa(e.v(),t,f(t.ic,t))),n||e}).then(function(){return Pn({user:Du(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function xu(t){return t.app}function Du(t){return t.currentUser}function Lu(t){return Du(t)&&Du(t)._lat||null}function Mu(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Lu(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Lu(t))}}function Fu(t,e){t.O.push(e),ju(t,t.h.then(function(){!t.l&&k(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Lu(t)))}))}function ju(t,e){return t.P.push(e),e.ma(function(){O(t.P,e)}),e}function Uu(){}function Vu(){this.a={},this.b=1e12}function qu(t,e){return(e=Bu(e))?t.a[e]||null:null}function Bu(t){return(t=void 0===t?1e12:t)?t.toString():null}function Wu(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=at(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Kt(this.f,"click",this.i)}function $u(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Hu(){}function Gu(){}function Ku(){this.b=Sc.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function zu(t,e,n,r,i,o,s){if(kn(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(xp||(xp=new Gu),s=xp):(Mp||(Mp=new Ku),s=Mp),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Up])throw new v("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Vp],!Sc.document)throw new v("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!at(e)||!this.i&&at(e).hasChildNodes())throw new v("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Fi(t,o||null,i||null),this.w=r||function(){return null};var a=this;this.l=[];var u=this.a[Fp];this.a[Fp]=function(t){if(Qu(a,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=cn(u,Sc);"function"==typeof e&&e(t)}};var c=this.a[jp];this.a[jp]=function(){if(Qu(a,null),"function"==typeof c)c();else if("string"==typeof c){var t=cn(c,Sc);"function"==typeof t&&t()}}}function Qu(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Xu(t,e){P(t.l,function(t){return t==e})}function Yu(t,e){return t.h.push(e),e.ma(function(){O(t.h,e)}),e}function Ju(t){if(t.D)throw new v("internal-error","RecaptchaVerifier instance has been destroyed.")}function Zu(t,e,n){var r=!1;try{this.b=n||Ec.app()}catch(t){throw new v("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new v("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Ec.SDK_VERSION?an(Ec.SDK_VERSION,o):null,zu.call(this,n,t,e,function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t},o,y(Rc),r)}function tc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new v("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=qp.length)throw new v("internal-error","Argument validator received an unsupported number of arguments.");n=qp[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new v("argument-error",t+" failed: "+r)}function ec(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function nc(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function rc(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:u}}function ic(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function oc(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function sc(){return{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}}}function ac(){return{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof bu)}}}function uc(){return{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Ec.app.App)}}}function cc(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function hc(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}}function lc(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function fc(t,e){return u(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function pc(t){return u(t)&&"string"==typeof t.uid}function dc(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function vc(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function gc(t,e){for(var n in e){var r=e[n].name;t[r]=_c(r,t[n],e[n].j)}}function yc(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:p(function(t){return this[t]},n),set:p(function(t,e,n,r){tc(t,[n],[r],!0),this[e]=r},r,n,e[n].gb),enumerable:!0})}}function mc(t,e,n,r){t[e]=_c(e,n,r)}function _c(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return tc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=bc(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function bc(t){return t=t.split("."),t[t.length-1]}var wc,Ec=n(1).default,Ic="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},Tc=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);!function(t,e){if(e){var n=Tc;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}t=t[t.length-1],r=n[t],(e=e(r))!=r&&null!=e&&Ic(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var o=Tc.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var o=r(t),s=o.next();!s.done;s=o.next())i(s.value).Oa(e,n)})},e.all=function(t){var n=r(t),o=n.next();return o.done?i([]):new e(function(t,e){var r=[],s=0;do{r.push(void 0),s++,i(o.value).Oa(function(e){return function(n){r[e]=n,0==--s&&t(r)}}(r.length-1),e),o=n.next()}while(!o.done)})},e});var Cc=Cc||{},Sc=this||self,Nc=/^[\w+/_-]+[=]{0,2}$/,Ac=null,kc="closure_uid_"+(1e9*Math.random()>>>0),Oc=0,Pc=Date.now||function(){return+new Date};d(v,Error),v.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},v.prototype.toJSON=function(){return this.v()};var Rc,xc="auth/",Dc={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Lc={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};Rc=y("__EID__")?"__EID__":void 0,d(_,Error),_.prototype.name="CustomError",d(b,_),b.prototype.name="AssertionError",E.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Mc=new E(function(){return new S},function(t){t.reset()});T.prototype.add=function(t,e){var n=Mc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},S.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},S.prototype.reset=function(){this.next=this.b=this.a=null};var Fc,jc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Uc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},Vc=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},qc=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Bc=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1},Wc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$c=/&/g,Hc=/</g,Gc=/>/g,Kc=/"/g,zc=/'/g,Qc=/\x00/g,Xc=/[\x00&<>"']/;t:{var Yc=Sc.navigator;if(Yc){var Jc=Yc.userAgent;if(Jc){Fc=Jc;break t}}Fc=""}var Zc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");B.prototype.ra=!0,B.prototype.qa=function(){return this.a},B.prototype.toString=function(){return"Const{"+this.a+"}"};var th={},eh={},nh=new B(eh,"");$.prototype.ra=!0,$.prototype.qa=function(){return this.a.toString()},$.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var rh=/%{(\w+)}/g,ih=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,oh={},sh={};K.prototype.ra=!0,K.prototype.qa=function(){return this.a.toString()},K.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ah=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,uh={},ch={};X.prototype.ra=!0,X.prototype.qa=function(){return this.a.toString()},X.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var hh={};J("<!DOCTYPE html>");var lh=J("");J("<br>"),rt[" "]=i;var fh,ph=M("Opera"),dh=M("Trident")||M("MSIE"),vh=M("Edge"),gh=vh||dh,yh=M("Gecko")&&!(D(Fc.toLowerCase(),"webkit")&&!M("Edge"))&&!(M("Trident")||M("MSIE"))&&!M("Edge"),mh=D(Fc.toLowerCase(),"webkit")&&!M("Edge");t:{var _h="",bh=function(){var t=Fc;return yh?/rv:([^\);]+)(\)|;)/.exec(t):vh?/Edge\/([\d\.]+)/.exec(t):dh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):mh?/WebKit\/(\S+)/.exec(t):ph?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(bh&&(_h=bh?bh[1]:""),dh){var wh=ot();if(null!=wh&&wh>parseFloat(_h)){fh=String(wh);break t}}fh=_h}var Eh,Ih={};Eh=Sc.document&&dh?ot():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Th,Ch,Sh=!dh||9<=Number(Eh),Nh={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ah=!1,kh=new T,Oh=0,Ph=2,Rh=3;_t.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xh=new E(function(){return new _t},function(t){t.reset()});mt.prototype.then=function(t,e,n){return At(this,a(t)?t:null,a(e)?e:null,n)},mt.prototype.$goog_Thenable=!0,wc=mt.prototype,wc.ma=function(t,e){return t=bt(t,t,e),t.c=!0,Nt(this,t),this},wc.o=function(t,e){return At(this,null,t,e)},wc.cancel=function(t){if(this.a==Oh){var e=new Ft(t);vt(function(){St(this,e)},this)}},wc.Yc=function(t){this.a=Oh,kt(this,Ph,t)},wc.Zc=function(t){this.a=Oh,kt(this,Rh,t)},wc.ec=function(){for(var t;t=xt(this);)Dt(this,t,this.a,this.i);this.h=!1};var Dh=pt;d(Ft,_),Ft.prototype.name="cancel";var Lh=0,Mh={};jt.prototype.wa=!1,jt.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Fh=Object.freeze||function(t){return t},jh=!dh||9<=Number(Eh),Uh=dh&&!st("9"),Vh=function(){if(!Sc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Sc.addEventListener("test",i,e),Sc.removeEventListener("test",i,e)}catch(t){}return t}();Vt.prototype.preventDefault=function(){this.defaultPrevented=!0},d(qt,Vt);var qh=Fh({2:"touch",3:"pen",4:"mouse"});qt.prototype.preventDefault=function(){qt.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Uh)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},qt.prototype.f=function(){return this.a};var Bh="closure_listenable_"+(1e6*Math.random()|0),Wh=0;$t.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Gt(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):(e=new Bt(e,this.src,o,!!r,i),e.Na=n,t.push(e)),e};var $h="closure_lm_"+(1e6*Math.random()|0),Hh={},Gh=0,Kh="__closure_events_fn_"+(1e9*Math.random()>>>0);d(oe,jt),oe.prototype[Bh]=!0,oe.prototype.addEventListener=function(t,e,n,r){Kt(this,t,e,n,r)},oe.prototype.removeEventListener=function(t,e,n,r){Yt(this,t,e,n,r)},oe.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new Vt(t,n);else if(t instanceof Vt)t.target=t.target||n;else{var i=t;t=new Vt(r,n),V(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=ue(s,r,!0,t)&&i}if(s=t.b=n,i=ue(s,r,!0,t)&&i,i=ue(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.b=e[o],i=ue(s,r,!1,t)&&i;return i},oe.prototype.Ba=function(){if(oe.Za.Ba.call(this),this.u){var t,e=this.u,n=0;for(t in e.a){for(var r=e.a[t],i=0;i<r.length;i++)++n,Wt(r[i]);delete e.a[t],e.b--}}this.eb=null},wc=de.prototype,wc.V=function(){ve(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},wc.X=function(){return ve(this),this.a.concat()},wc.clear=function(){this.b={},this.c=this.a.length=0},wc.get=function(t,e){return ge(this.b,t)?this.b[t]:e},wc.set=function(t,e){ge(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},wc.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var zh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;me.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ne(e,Qh,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Ne(e,Qh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ne(n,"/"==n.charAt(0)?Yh:Xh,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ne(n,Zh)),t.join("")},me.prototype.resolve=function(t){var e=new me(this),n=!!t.f;n?_e(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)be(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?we(e,Le(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Qh=/[#\/\?@]/g,Xh=/[#\?:]/g,Yh=/[#\?]/g,Jh=/[#\?@]/g,Zh=/#/g;wc=ke.prototype,wc.add=function(t,e){Oe(this),this.c=null,t=Me(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},wc.clear=function(){this.a=this.c=null,this.b=0},wc.forEach=function(t,e){Oe(this),this.a.forEach(function(n,r){Uc(n,function(n){t.call(e,n,r,this)},this)},this)},wc.X=function(){Oe(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},wc.V=function(t){Oe(this);var e=[];if("string"==typeof t)xe(this,t)&&(e=R(e,this.a.get(Me(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=R(e,t[n])}return e},wc.set=function(t,e){return Oe(this),this.c=null,t=Me(this,t),xe(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},wc.get=function(t,e){return t?(t=this.V(t),0<t.length?String(t[0]):e):e},wc.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var tl={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},el=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,nl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rl=/^[^@]+@[^@]+$/,il="Firefox",ol="Chrome",sl={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};wn.prototype.get=function(){var t=Sc.navigator;return(t&&"boolean"==typeof t.onLine&&(fn()||"chrome-extension:"===pn()||void 0!==t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var al,ul={};try{var cl={};Object.defineProperty(cl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(cl,"abcd",{configurable:!0,enumerable:!0,value:2}),al=2==cl.abcd}catch(t){al=!1}Ln.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var hl="displayName",ll="enrolledAt",fl="mfaEnrollmentId",pl="phoneInfo";d(Fn,Ln),Fn.prototype.v=function(){var t=Fn.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var dl="REVERT_SECOND_FACTOR_ADDITION",vl="EMAIL_SIGNIN",gl="VERIFY_AND_CHANGE_EMAIL",yl="email",ml="mfaInfo",_l="newEmail",bl="requestType",wl="email",El="fromEmail",Il="multiFactorInfo",Tl="previousEmail",Cl="data",Sl="operation",Nl="apiKey",Al="oobCode",kl="continueUrl",Ol="languageCode",Pl="mode",Rl="tenantId",xl={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:dl,signIn:vl,verifyAndChangeEmail:gl,verifyEmail:"VERIFY_EMAIL"},Dl="android",Ll="dynamicLinkDomain",Ml="handleCodeInApp",Fl="iOS",jl="url",Ul="installApp",Vl="minimumVersion",ql="packageName",Bl="bundleId",Wl=null;Kn.prototype.S=function(){return this.f},Kn.prototype.i=function(){return this.b},Kn.prototype.toString=function(){return this.g};var $l="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hl=["client_id","response_type","scope","redirect_uri","state"],Gl={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Hl},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Hl},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Hl},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:$l},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}},Kl="idToken",zl="providerId";d(Zn,Jn),d(tr,Zn),d(er,Zn),d(nr,Zn),d(rr,Zn);var Ql="enroll",Xl="signin";or.prototype.Fa=function(){return wt(this.a?this.a:this.b)},or.prototype.v=function(){return this.type==Ql?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},sr.prototype.ia=function(){},sr.prototype.b=function(){},sr.prototype.c=function(){},sr.prototype.v=function(){},ur.prototype.ia=function(t){return io(t,cr(this))},ur.prototype.b=function(t,e){var n=cr(this);return n.idToken=e,oo(t,n)},ur.prototype.c=function(t,e){return ar(so(t,cr(this)),e)},ur.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lr.prototype.ia=function(t){return io(t,fr(this))},lr.prototype.b=function(t,e){var n=fr(this);return n.idToken=e,oo(t,n)},lr.prototype.c=function(t,e){return ar(so(t,fr(this)),e)},lr.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},dr.prototype.Ia=function(t){return this.Fb=U(t),this},d(vr,dr),d(gr,dr),gr.prototype.Aa=function(t){return k(this.a,t)||this.a.push(t),this},gr.prototype.Nb=function(){return x(this.a)},gr.prototype.credential=function(t,e){var n;if(n=u(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new v("argument-error","credential failed: must provide the ID token and/or the access token.");return new lr(this.providerId,n,this.providerId)},d(yr,gr),kn(yr,"PROVIDER_ID","facebook.com"),kn(yr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),d(_r,gr),kn(_r,"PROVIDER_ID","github.com"),kn(_r,"GITHUB_SIGN_IN_METHOD","github.com"),d(wr,gr),kn(wr,"PROVIDER_ID","google.com"),kn(wr,"GOOGLE_SIGN_IN_METHOD","google.com"),d(Ir,dr),kn(Ir,"PROVIDER_ID","twitter.com"),kn(Ir,"TWITTER_SIGN_IN_METHOD","twitter.com"),Cr.prototype.ia=function(t){return this.signInMethod==Nr.EMAIL_LINK_SIGN_IN_METHOD?uo(t,kf,{email:this.a,oobCode:this.f}):uo(t,Yf,{email:this.a,password:this.f})},Cr.prototype.b=function(t,e){return this.signInMethod==Nr.EMAIL_LINK_SIGN_IN_METHOD?uo(t,Of,{idToken:e,email:this.a,oobCode:this.f}):uo(t,Wf,{idToken:e,email:this.a,password:this.f})},Cr.prototype.c=function(t,e){return ar(this.ia(t),e)},Cr.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},On(Nr,{PROVIDER_ID:"password"}),On(Nr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),On(Nr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Or.prototype.ia=function(t){return t.cb(Rr(this))},Or.prototype.b=function(t,e){var n=Rr(this);return n.idToken=e,uo(t,Zf,n)},Or.prototype.c=function(t,e){var n=Rr(this);return n.operation="REAUTH",t=uo(t,tp,n),ar(t,e)},Or.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},xr.prototype.cb=function(t,e){var n=this.a.b;return wt(e.verify()).then(function(r){if("string"!=typeof r)throw new v("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=u(t)?t.session:null,s=u(t)?t.phoneNumber:t;return i=o&&o.type==Ql?o.Fa().then(function(t){return Yi(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r}})}):o&&o.type==Xl?o.Fa().then(function(e){return Zi(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):Xi(n,{phoneNumber:s,recaptchaToken:r}),i.then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new v("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},On(xr,{PROVIDER_ID:"phone"}),On(xr,{PHONE_SIGN_IN_METHOD:"phone"}),Fr.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fr.prototype.S=function(){return this.h},Fr.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Yl=null;d(qr,v),d(Br,v),Br.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&V(t,e),t},Br.prototype.toJSON=function(){return this.v()},$r.prototype.c=null;var Jl;d(Gr,$r),Gr.prototype.a=function(){var t=Kr(this);return t?new ActiveXObject(t):new XMLHttpRequest},Gr.prototype.b=function(){var t={};return Kr(this)&&(t[0]=!0,t[1]=!0),t},Jl=new Gr,d(zr,$r),zr.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qr;throw Error("Unsupported browser")},zr.prototype.b=function(){return{}},wc=Qr.prototype,wc.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},wc.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},wc.abort=function(){this.a.abort()},wc.setRequestHeader=function(){},wc.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},wc.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Xr(this,4)},wc.Pb=function(){this.status=500,this.response=this.responseText="",Xr(this,4)},wc.tc=function(){this.Pb()},wc.pc=function(){this.status=200,Xr(this,1)},wc.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yr.prototype.a=null;var Zl=0;Yr.prototype.reset=function(t,e,n,r,i){"number"==typeof i||Zl++,r||Pc(),delete this.a},Zr.prototype.toString=function(){return this.name};var tf=new Zr("SEVERE",1e3),ef=new Zr("WARNING",900),nf=new Zr("CONFIG",700),rf=new Zr("FINE",500);Jr.prototype.log=function(t,e,n){if(t.value>=ti(this).value)for(a(e)&&(e=e()),t=new Yr(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var of={},sf=null;d(ri,$r),ri.prototype.a=function(){return new ii(this.f)},ri.prototype.b=function(t){return function(){return t}}({}),d(ii,oe);var af=0;wc=ii.prototype,wc.open=function(t,e){if(this.readyState!=af)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ai(this)},wc.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},wc.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,si(this,!1)),this.readyState=af},wc.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ai(this)),this.a&&(this.readyState=3,ai(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==Sc.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,oi(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},wc.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?si(this,!0):ai(this),3==this.readyState&&oi(this)}},wc.rc=function(t){this.a&&(this.response=this.responseText=t,si(this,!0))},wc.qc=function(t){this.a&&(this.response=t,si(this,!0))},wc.Sa=function(t){var e=this.h;e&&e.log(ef,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&si(this,!0)},wc.setRequestHeader=function(t,e){this.i.append(t,e)},wc.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ef,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},wc.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(ef,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},d(ui,oe);var uf="";ui.prototype.b=ei("goog.net.XhrIo");var cf=/^https?$/i,hf=["POST","PUT"];wc=ui.prototype,wc.Ka=function(){void 0!==Cc&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ni(this.b,bi(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},wc.abort=function(){this.a&&this.c&&(ni(this.b,bi(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vi(this))},wc.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vi(this,!0)),ui.Za.Ba.call(this)},wc.Sb=function(){this.wa||(this.O||this.i||this.f?di(this):this.Hc())},wc.Hc=function(){di(this)},wc.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case uf:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(tf,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ni(this.b,"Can not get response: "+t.message),null}},wi.prototype.cancel=function(t){if(this.a)this.c instanceof wi&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):0>=--e.l&&e.cancel()}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new ki(this),Ii(this),Ei(this,!1,t))}},wi.prototype.m=function(t,e){this.i=!1,Ei(this,t,e)},wi.prototype.then=function(t,e,n){var r,i,o=new mt(function(t,e){r=t,i=e});return Ci(this,r,function(t){t instanceof ki?o.cancel():i(t)}),o.then(t,e,n)},wi.prototype.$goog_Thenable=!0,d(Ai,_),Ai.prototype.message="Deferred has already fired",Ai.prototype.name="AlreadyCalledError",d(ki,_),ki.prototype.message="Deferred was canceled",ki.prototype.name="CanceledError",Oi.prototype.c=function(){throw delete lf[this.a],this.b};var lf={},ff=0,pf=1;d(Li,_),d(Mi,$r),Mi.prototype.a=function(){return new this.f},Mi.prototype.b=function(){return{}};var df,vf="idToken",gf=new wn(3e4,6e4),yf={"Content-Type":"application/x-www-form-urlencoded"},mf=new wn(3e4,6e4),_f={"Content-Type":"application/json"};Fi.prototype.S=function(){return this.b},Fi.prototype.w=function(t,e,n,r,i,o){if(en()&&(void 0===Sc.fetch||void 0===Sc.Headers||void 0===Sc.Request))throw new v("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ui(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout(function(){s.dispatchEvent("timeout")},o)}se(s,"complete",function(){a&&clearTimeout(a);var t=null;try{t=JSON.parse(_i(this))||null}catch(e){t=null}e&&e(t)}),ae(s,"ready",function(){a&&clearTimeout(a),Ut(this)}),ae(s,"timeout",function(){a&&clearTimeout(a),Ut(this),e&&e(null)}),ci(s,t,n,r,i)};var bf=new B(eh,"https://apis.google.com/js/client.js?onload=%{onload}"),wf="__fcb"+Math.floor(1e6*Math.random()).toString();Fi.prototype.s=function(t,e,n,r,i){var o=this;df.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Fi.prototype.vb=function(){return uo(this,$f,{})},Fi.prototype.xb=function(t,e){return uo(this,Bf,{idToken:t,email:e})},Fi.prototype.yb=function(t,e){return uo(this,Wf,{idToken:t,password:e})};var Ef={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};wc=Fi.prototype,wc.zb=function(t,e){var n={idToken:t},r=[];return F(Ef,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),uo(this,Bf,n)},wc.rb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},V(t,e),uo(this,Ff,t)},wc.sb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},V(t,e),uo(this,Df,t)},wc.qb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},V(t,e),uo(this,Lf,t)},wc.Ab=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},V(t,n),uo(this,Mf,t)},wc.cb=function(t){return uo(this,Jf,t)},wc.jb=function(t,e){return uo(this,Vf,{oobCode:t,newPassword:e})},wc.Pa=function(t){return uo(this,Tf,{oobCode:t})},wc.fb=function(t){return uo(this,If,{oobCode:t})};var If={endpoint:"setAccountInfo",A:ao,Y:"email",C:!0},Tf={endpoint:"resetPassword",A:ao,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new v("internal-error")},C:!0},Cf={endpoint:"signupNewUser",A:function(t){if($i(t),!t.password)throw new v("weak-password")},G:zi,U:!0,C:!0},Sf={endpoint:"createAuthUri",C:!0},Nf={endpoint:"deleteAccount",M:["idToken"]},Af={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=o(t.deleteProvider))throw new v("internal-error")}},kf={endpoint:"emailLinkSignin",M:["email","oobCode"],A:$i,G:zi,U:!0,C:!0},Of={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:$i,G:zi,U:!0},Pf={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:Ji,G:zi,C:!0,La:!0},Rf={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:Ji,G:zi,C:!0,La:!0},xf={endpoint:"getAccountInfo"},Df={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new v("internal-error");$i(t)},Y:"email",C:!0},Lf={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new v("internal-error")},Y:"email",C:!0},Mf={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new v("internal-error")},Y:"email",C:!0},Ff={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new v("internal-error");$i(t)},Y:"email",C:!0},jf={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Uf={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new v("internal-error")}},Vf={endpoint:"resetPassword",A:ao,Y:"email",C:!0},qf={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Bf={endpoint:"setAccountInfo",M:["idToken"],A:Hi,U:!0},Wf={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Hi(t),!t.password)throw new v("weak-password")},G:zi,U:!0},$f={endpoint:"signupNewUser",G:zi,U:!0,C:!0},Hf={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new v("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new v("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new v("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new v("internal-error")},C:!0,La:!0},Gf={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new v("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new v("internal-error")},C:!0,La:!0},Kf={endpoint:"verifyAssertion",A:eo,Wa:no,G:ro,U:!0,C:!0},zf={endpoint:"verifyAssertion",A:eo,Wa:no,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new v("user-not-found");if(t.errorMessage)throw co(t.errorMessage);zi(t)},U:!0,C:!0},Qf={endpoint:"verifyAssertion",A:function(t){if(eo(t),!t.idToken)throw new v("internal-error")},Wa:no,G:ro,U:!0},Xf={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new v("invalid-custom-token")},G:zi,U:!0,C:!0},Yf={endpoint:"verifyPassword",A:function(t){if($i(t),!t.password)throw new v("wrong-password")},G:zi,U:!0,C:!0},Jf={endpoint:"verifyPhoneNumber",A:Qi,G:zi,C:!0},Zf={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new v("internal-error");Qi(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Wr(t);zi(t)}},tp={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Qi,G:zi,C:!0},ep={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[vf]^!!t.refreshToken)throw new v("internal-error")},C:!0,La:!0},np=new B(eh,"https://apis.google.com/js/api.js?onload=%{onload}"),rp=new wn(3e4,6e4),ip=new wn(5e3,15e3),op=null;yo.prototype.toString=function(){return this.f?Ee(this.a,"v",this.f):Re(this.a.a,"v"),this.b?Ee(this.a,"eid",this.b):Re(this.a.a,"eid"),this.c.length?Ee(this.a,"fw",this.c.join(",")):Re(this.a.a,"fw"),this.a.toString()},mo.prototype.ub=function(t){return this.h=t,this},mo.prototype.toString=function(){var t=Ce(this.s,"/__/auth/handler");if(Ee(t,"apiKey",this.m),Ee(t,"appName",this.c),Ee(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Ec.app(this.c).auth().ja()}catch(t){n=null}e.kb=n,Ee(t,"providerId",this.a.providerId),e=this.a,n=gn(e.Fb);for(var r in n)n[r]=n[r].toString();r=e.Oc,n=U(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),j(n)||Ee(t,"customParameters",vn(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb(),e.length&&Ee(t,"scopes",e.join(","))),this.l?Ee(t,"redirectUrl",this.l):Re(t.a,"redirectUrl"),this.g?Ee(t,"eventId",this.g):Re(t.a,"eventId"),this.i?Ee(t,"v",this.i):Re(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ie(t,s)&&Ee(t,s,this.b[s]);return this.h?Ee(t,"tid",this.h):Re(t.a,"tid"),this.f?Ee(t,"eid",this.f):Re(t.a,"eid"),s=_o(this.c),s.length&&Ee(t,"fw",s.join(",")),t.toString()},wc=bo.prototype,wc.Lb=function(t,e,n){var r=new v("popup-closed-by-user"),i=new v("web-storage-unsupported"),o=this,s=!1;return this.ka().then(function(){So(o).then(function(n){n||(t&&ze(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return Xe(t)}).then(function(){if(!s)return he(n).then(function(){e(r)})})},wc.Ub=function(){var t=un();return!dn(t)&&!_n(t)},wc.Qb=function(){return!1},wc.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Et(new v("popup-blocked"));if(s&&!dn())return this.ka().o(function(e){ze(t),i(e)}),r(),wt();this.a||(this.a=wo(Io(this)));var u=this;return this.a.then(function(){var e=u.ka().o(function(e){throw ze(t),i(e),e});return r(),e}).then(function(){if(Mr(n),!s){$e(To(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)}}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},wc.Kb=function(t,e,n,r){this.a||(this.a=wo(Io(this)));var i=this;return this.a.then(function(){Mr(e),$e(To(i.u,i.f,i.b,t,e,We(),n,i.c,void 0,i.h,r))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},wc.ka=function(){var t=this;return Eo(this).then(function(){return t.i.nb}).o(function(){throw t.a=null,new v("network-request-failed")})},wc.Xb=function(){return!0},wc.Ca=function(t){this.g.push(t)},wc.Qa=function(t){P(this.g,function(e){return e==t})},wc=No.prototype,wc.get=function(t){return wt(this.a.getItem(t)).then(function(t){return t&&yn(t)})},wc.set=function(t,e){return wt(this.a.setItem(t,vn(e)))},wc.T=function(t){return wt(this.a.removeItem(t))},wc.ba=function(){},wc.ha=function(){};var sp=[];Ao.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];Uc(r,function(e){i.push(wt().then(function(){return e(t.origin,t.data.data)}))}),Ct(i).then(function(r){var i=[];Uc(r,function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})}),Uc(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Po.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ro.prototype.close=function(){for(;0<this.a.length;)Do(this,this.a[0]);this.b=!0};var ap;wc=Lo.prototype,wc.set=function(t,e){var n,r=!1,i=this;return jo(this).then(function(e){return n=e,e=Vo(qo(n,!0)),Bo(e.get(t))}).then(function(o){var s=Vo(qo(n,!0));return o?(o.value=e,Bo(s.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,Bo(s.add(o)))}).then(function(){return i.c[t]=e,Wo(i,t)}).ma(function(){r&&i.b--})},wc.get=function(t){return jo(this).then(function(e){return Bo(Vo(qo(e,!1)).get(t))}).then(function(t){return t&&t.value})},wc.T=function(t){var e=!1,n=this;return jo(this).then(function(r){return e=!0,n.b++,Bo(Vo(qo(r,!0)).delete(t))}).then(function(){return delete n.c[t],Wo(n,t)}).ma(function(){e&&n.b--})},wc.ba=function(t){0==this.a.length&&Ho(this),this.a.push(t)},wc.ha=function(t){P(this.a,function(e){return e==t}),0==this.a.length&&Go(this)},wc=Ko.prototype,wc.get=function(t){return this.b.then(function(e){return e.get(t)})},wc.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},wc.T=function(t){return this.b.then(function(e){return e.T(t)})},wc.ba=function(t){this.a.push(t)},wc.ha=function(t){P(this.a,function(e){return e==t})},wc=zo.prototype,wc.get=function(t){return wt(this.a[t])},wc.set=function(t,e){return this.a[t]=e,wt()},wc.T=function(t){return delete this.a[t],wt()},wc.ba=function(){},wc.ha=function(){},wc=Qo.prototype,wc.get=function(t){var e=this;return wt().then(function(){return yn(e.a.getItem(t))})},wc.set=function(t,e){var n=this;return wt().then(function(){var r=vn(e);null===r?n.T(t):n.a.setItem(t,r)})},wc.T=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},wc.ba=function(t){Sc.window&&Kt(Sc.window,"storage",t)},wc.ha=function(t){Sc.window&&Yt(Sc.window,"storage",t)},wc=Jo.prototype,wc.get=function(){return wt(null)},wc.set=function(){return wt()},wc.T=function(){return wt()},wc.ba=function(){},wc.ha=function(){},wc=Zo.prototype,wc.get=function(t){var e=this;return wt().then(function(){return yn(e.a.getItem(t))})},wc.set=function(t,e){var n=this;return wt().then(function(){var r=vn(e);null===r?n.T(t):n.a.setItem(t,r)})},wc.T=function(t){var e=this;return wt().then(function(){e.a.removeItem(t)})},wc.ba=function(){},wc.ha=function(){};var up,cp,hp={F:Qo,$a:Zo},lp={F:Qo,$a:Zo},fp={F:No,$a:Jo},pp={F:Qo,$a:Jo},dp={od:"local",NONE:"none",qd:"session"};wc=is.prototype,wc.get=function(t,e){return ss(this,t.F).get(as(t,e))},wc.set=function(t,e,n){var r=as(t,n),i=this,o=ss(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},wc.addListener=function(t,e,n){t=as(t,e),this.l&&(this.b[t]=Sc.localStorage.getItem(t)),j(this.a)&&(ss(this,"local").ba(this.f),this.h||(Be()||!Cn())&&Sc.indexedDB||!this.l||hs(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},wc.removeListener=function(t,e,n){t=as(t,e),this.a[t]&&(P(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),j(this.a)&&(ss(this,"local").ha(this.f),ls(this))},wc.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=Sc.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?ss(this,"local").ha(this.f):ls(this),this.m)if(n=Sc.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?Sc.localStorage.setItem(e,r):Sc.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===Sc.localStorage.getItem(e)||(o.b[e]=Sc.localStorage.getItem(e),o.ib(e))},dh&&Eh&&10==Eh&&Sc.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Uc(t,f(this.ib,this))},wc.ib=function(t){this.a[t]&&Uc(this.a[t],function(t){t()})};var vp,gp={name:"authEvent",F:"local"};d(gs,vs);for(var yp=64,mp=yp-1,_p=[],bp=0;bp<mp;bp++)_p[bp]=0;var wp=R(128,_p);gs.prototype.reset=function(){this.g=this.c=0,this.a=Sc.Int32Array?new Int32Array(this.h):x(this.h)};var Ep=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];d(_s,gs);var Ip=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];wc=bs.prototype,wc.ka=function(){return this.Ga?this.Ga:this.Ga=Je().then(function(){if("function"!=typeof cn("universalLinks.subscribe",Sc))throw ws("cordova-universal-links-plugin-fix is not installed");if(void 0===cn("BuildInfo.packageName",Sc))throw ws("cordova-plugin-buildinfo is not installed");if("function"!=typeof cn("cordova.plugins.browsertab.openUrl",Sc))throw ws("cordova-plugin-browsertab is not installed");if("function"!=typeof cn("cordova.InAppBrowser.open",Sc))throw ws("cordova-plugin-inappbrowser is not installed")},function(){throw new v("cordova-not-ready")})},wc.Lb=function(t,e){return e(new v("operation-not-supported-in-this-environment")),wt()},wc.Jb=function(){return Et(new v("operation-not-supported-in-this-environment"))},wc.Xb=function(){return!1},wc.Ub=function(){return!0},wc.Qb=function(){return!0},wc.Kb=function(t,e,n,r){if(this.c)return Et(new v("redirect-operation-pending"));var i=this,o=Sc.document,s=null,a=null,u=null,c=null;return this.c=wt().then(function(){return Mr(e),Ss(i)}).then(function(){return Ts(i,t,e,n,r)}).then(function(){return new mt(function(t,e){a=function(){var e=cn("cordova.plugins.browsertab.close",Sc);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(a),u=function(){s||(s=he(2e3).then(function(){e(new v("redirect-cancelled-by-user"))}))},c=function(){En()&&u()},o.addEventListener("resume",u,!1),un().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).o(function(t){return Ns(i).then(function(){throw t})})}).ma(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),a&&i.Qa(a),i.c=null})},wc.Ca=function(t){this.b.push(t),Ss(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fr("unknown",null,null,null,new v("no-auth-event")),t(e))})},wc.Qa=function(t){P(this.b,function(e){return e==t})};var Tp={name:"pendingRedirect",F:"session"};xs.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Ds(this.D,this.u,this.m),this.i={}},xs.prototype.s=function(t){if(!t)throw new v("invalid-auth-event");if(6e5<=Pc()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=Pc())),e=!0;break}}return Hs(this.b),e};var Cp=new wn(2e3,1e4),Sp=new wn(3e4,6e4);xs.prototype.pa=function(){return this.b.pa()};var Np={};$s.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$s.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Xs(this,!0,null,t.a),wt()):e.Da(n,r)?Ks(this,t,e):Et(new v("invalid-auth-event")):(Xs(this,!1,null,null),wt())}else Et(new v("invalid-auth-event"))},$s.prototype.pa=function(){var t=this;return new mt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),Ys(t))})},Js.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),wt()):e.Da(n,r)?Zs(t,e):Et(new v("invalid-auth-event"))}else Et(new v("invalid-auth-event"))},ea.prototype.confirm=function(t){return t=Dr(this.verificationId,t),this.a(t)};var Ap="mfaInfo",kp="mfaPendingCredential";ia.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then(function(t){var n=U(e.f);return delete n[Ap],delete n[kp],V(n,t),e.g(n)})},d(oa,v),aa.prototype.ob=function(t,e,n){return e.type==Ql?ua(this,t,e,n):ca(this,t,e)},d(ha,aa),d(la,ha),d(fa,Vt),wc=pa.prototype,wc.wc=function(t){va(this,da(t.ed))},wc.Ob=function(){return this.a.I().then(function(t){return new or(t,null)})},wc.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then(function(n){return t.ob(r,n,e)}).then(function(t){return za(n.a,t),n.a.reload()})},wc.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return uo(r,ep,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=Vc(e.b,function(t){return t.uid!=n});return va(e,r),za(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},wc.v=function(){return{multiFactor:{enrolledFactors:qc(this.b,function(t){return t.v()})}}},ga.prototype.start=function(){this.a=this.c,ma(this,!0)},ga.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_a.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ba(this)}},_a.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Et(new v("user-token-expired")):t||!this.b||Pc()>ba(this)-3e4?this.a?Ia(this,{grant_type:"refresh_token",refresh_token:this.a}):wt(null):wt({accessToken:this.b.toString(),refreshToken:this.a})},Ta.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},d(Na,oe),Na.prototype.va=function(t){this.oa=t,ji(this.a,t)},Na.prototype.ja=function(){return this.oa},Na.prototype.Ea=function(){return x(this.W)},Na.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},kn(Na.prototype,"providerId","firebase"),wc=Na.prototype,wc.reload=function(){var t=this;return ru(this,qa(this).then(function(){return Ka(t).then(function(){return Fa(t)}).then(Va)}))},wc.mc=function(t){return this.I(t).then(function(t){return new ra(t)})},wc.I=function(t){var e=this;return ru(this,qa(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new v("internal-error");return t.accessToken!=e.xa&&(La(e,t.accessToken),e.dispatchEvent(new fa("tokenChanged"))),Ha(e,"refreshToken",t.refreshToken),t.accessToken}))},wc.Ic=function(t){if(!(t=t.users)||!t.length)throw new v("internal-error");t=t[0],Ua(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=Xa(t),n=0;n<e.length;n++)Wa(this,e[n]);Ha(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new fa("userReloaded",{ed:t}))},wc.Jc=function(t){return An("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},wc.pb=function(t){var e=this,n=null;return ru(this,t.c(this.a,this.uid).then(function(t){return za(e,t),n=Ja(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},wc.Ac=function(t){return An("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},wc.mb=function(t){var e=this,n=null;return ru(this,Ya(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ja(e,t,"link"),Za(e,t)}).then(function(){return n}))},wc.Bc=function(t,e){var n=this;return ru(this,Ya(this,"phone").then(function(){return na(Pa(n),t,e,f(n.mb,n))}))},wc.Kc=function(t,e){var n=this;return ru(this,wt().then(function(){return na(Pa(n),t,e,f(n.pb,n))}),!0)},wc.xb=function(t){var e=this;return ru(this,this.I().then(function(n){return e.a.xb(n,t)}).then(function(t){return za(e,t),e.reload()}))},wc.cd=function(t){var e=this;return ru(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return za(e,t),e.reload()}))},wc.yb=function(t){var e=this;return ru(this,this.I().then(function(n){return e.a.yb(n,t)}).then(function(t){return za(e,t),e.reload()}))},wc.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return qa(this);var e=this;return ru(this,this.I().then(function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return za(e,t),Ha(e,"displayName",t.displayName||null),Ha(e,"photoURL",t.photoUrl||null),Uc(e.providerData,function(t){"password"===t.providerId&&(kn(t,"displayName",e.displayName),kn(t,"photoURL",e.photoURL))}),Fa(e)}).then(Va))},wc.ad=function(t){var e=this;return ru(this,Ka(this).then(function(n){return k(Ba(e),t)?to(e.a,n,[t]).then(function(t){var n={};return Uc(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Uc(Ba(e),function(t){n[t]||$a(e,t)}),n[xr.PROVIDER_ID]||kn(e,"phoneNumber",null),Fa(e)}):Fa(e).then(function(){throw new v("no-such-provider")})}))},wc.delete=function(){var t=this;return ru(this,this.I().then(function(e){return uo(t.a,Nf,{idToken:e})}).then(function(){t.dispatchEvent(new fa("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Aa(t,null),Oa(t,null),t.N=[],t.D=!0,Da(t),kn(t,"refreshToken",null),t.i&&js(t.i,t)})},wc.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},wc.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},wc.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?f(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?f(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?f(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?f(this.Ib,this):null},wc.Cc=function(t){var e=this;return tu(this,"linkViaPopup",t,function(){return Ya(e,t.providerId).then(function(){return Fa(e)})},!1)},wc.Lc=function(t){return tu(this,"reauthViaPopup",t,function(){return wt()},!0)},wc.Dc=function(t){var e=this;return eu(this,"linkViaRedirect",t,function(){return Ya(e,t.providerId)},!1)},wc.Mc=function(t){return eu(this,"reauthViaRedirect",t,function(){return wt()},!0)},wc.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then(function(n){return oo(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ja(i,t,"link"),Za(i,t)}).then(function(){return o}),ru(this,n)},wc.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ru(this,wt().then(function(){return ar(so(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ja(i,t,"reauthenticate"),za(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},wc.qb=function(t){var e=this,n=null;return ru(this,this.I().then(function(e){return n=e,void 0===t||j(t)?{}:Bn(new qn(t))}).then(function(t){return e.a.qb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},wc.Ab=function(t,e){var n=this,r=null;return ru(this,this.I().then(function(t){return r=t,void 0===e||j(e)?{}:Bn(new qn(e))}).then(function(e){return n.a.Ab(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},wc.hc=function(t){var e=null,n=this;return t=ar(wt(t),n.uid).then(function(t){return e=Ja(n,t,"reauthenticate"),za(n,t),n.h=null,n.reload()}).then(function(){return e}),ru(this,t,!0)},wc.toJSON=function(){return this.v()},wc.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&V(t,this.metadata.v()),Uc(this.providerData,function(e){t.providerData.push(Rn(e))}),V(t,this.O.v()),t};var Op={name:"redirectUser",F:"session"};lu.prototype.g=function(){var t=this,e=du("local");_u(this,function(){return wt().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return fu(t,"local").then(function(){t.c=e})})})};var Pp={name:"persistence",F:"session"};lu.prototype.tb=function(t){var e=null,n=this;return rs(t),_u(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,fu(n,t)}).then(function(){if(n.c=du(t),e)return n.b.set(n.c,e,n.a)}):wt()})},d(bu,oe),d(wu,Vt),d(Eu,Vt),wc=bu.prototype,wc.tb=function(t){return t=this.i.tb(t),ju(this,t)},wc.va=function(t){this.$===t||this.l||(this.$=t,ji(this.b,this.$),this.dispatchEvent(new wu(this.ja())))},wc.ja=function(){return this.$},wc.dd=function(){var t=Sc.navigator;this.va(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},wc.Ec=function(t){this.N.push(t),Ui(this.b,Ec.SDK_VERSION?an(Ec.SDK_VERSION,this.N):null),this.dispatchEvent(new Eu(this.N))},wc.Ea=function(){return x(this.N)},wc.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},wc.S=function(){return this.R},wc.toJSON=function(){return{apiKey:xu(this).options.apiKey,authDomain:xu(this).options.authDomain,appName:xu(this).name,currentUser:Du(this)&&Du(this).v()}},wc.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},wc.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},wc.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?f(this.gc,this):null},wc.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then(function(){return Ru(i,io(i.b,o))})},wc.Vc=function(t){if(!ln())return Et(new v("operation-not-supported-in-this-environment"));var e=this,n=Xn(t.providerId),r=mn(),i=null;(!dn()||tn())&&xu(this).options.authDomain&&t.isOAuthProvider&&(i=To(xu(this).options.authDomain,xu(this).options.apiKey,xu(this).name,"signInViaPopup",t,null,r,Ec.SDK_VERSION||null,null,null,this.S()));var o=Qe(i,n&&n.ta,n&&n.sa);return n=Tu(this).then(function(n){return Us(n,o,"signInViaPopup",t,r,!!i,e.S())}).then(function(){return new mt(function(t,n){e.la("signInViaPopup",null,new v("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Bs(e.a,e,"signInViaPopup",o,r)})}).then(function(t){return o&&ze(o),t?Pn(t):null}).o(function(t){throw o&&ze(o),t}),ju(this,n)},wc.Wc=function(t){if(!ln())return Et(new v("operation-not-supported-in-this-environment"));var e=this;return ju(this,Tu(this).then(function(){return vu(e.i)}).then(function(){return qs(e.a,"signInViaRedirect",t,void 0,e.S())}))},wc.pa=function(){var t=this;return Su(this).then(function(e){return t.a&&Gs(t.a.b),e}).o(function(e){throw t.a&&Gs(t.a.b),e})},wc.bd=function(t){if(!t)return Et(new v("null-user"));if(this.R!=t.tenantId)return Et(new v("tenant-id-mismatch"));var e=this,n={};n.apiKey=xu(this).options.apiKey,n.authDomain=xu(this).options.authDomain,n.appName=xu(this).name;var r=au(t,n,e.B,e.Ea());return ju(this,this.h.then(function(){if(xu(e).options.apiKey!=t.l)return r.reload()}).then(function(){return Du(e)&&t.uid==Du(e).uid?(Ga(Du(e),t),e.ca(t)):(Au(e,r),ja(r),e.ca(r))}).then(function(){Mu(e)}))},wc.wb=function(){var t=this;return ju(this,this.h.then(function(){return t.a&&Gs(t.a.b),Du(t)?(Au(t,null),yu(t.i).then(function(){Mu(t)})):wt()}))},wc.Xc=function(){var t=this;return mu(this.i,xu(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=Du(t)&&e){n=Du(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Ga(Du(t),e),Du(t).I();(Du(t)||e)&&(Au(t,e),e&&(ja(e),e.ga=t.B),t.a&&Fs(t.a,t),Mu(t))}})},wc.ca=function(t){return gu(this.i,t)},wc.jc=function(){Mu(this),this.ca(Du(this))},wc.uc=function(){this.wb()},wc.vc=function(){this.wb()},wc.ic=function(t){var e=this;return this.h.then(function(){return Ru(e,wt(t))})},wc.xc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Du(e))})},wc.yc=function(t){var e=this;Fu(this,function(){t.next(Du(e))})},wc.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){"function"==typeof t?t(Du(r)):"function"==typeof t.next&&t.next(Du(r))}),this.$b(t,e,n)},wc.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(Du(r)):"function"==typeof t.next&&t.next(Du(r))}),this.ac(t,e,n)},wc.kc=function(t){var e=this;return ju(this,this.h.then(function(){return Du(e)?Du(e).I(t).then(function(t){return{accessToken:t}}):null}))},wc.Rc=function(t){var e=this;return this.h.then(function(){return Ru(e,uo(e.b,Xf,{token:t}))}).then(function(t){var n=t.user;return Ha(n,"isAnonymous",!1),e.ca(n),t})},wc.Sc=function(t,e){var n=this;return this.h.then(function(){return Ru(n,uo(n.b,Yf,{email:t,password:e}))})},wc.cc=function(t,e){var n=this;return this.h.then(function(){return Ru(n,uo(n.b,Cf,{email:t,password:e}))})},wc.Ya=function(t){var e=this;return this.h.then(function(){return Ru(e,t.ia(e.b))})},wc.Qc=function(t){return An("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},wc.vb=function(){var t=this;return this.h.then(function(){var e=Du(t);if(e&&e.isAnonymous){return Pn({user:e,credential:null,additionalUserInfo:Pn({providerId:null,isNewUser:!1}),operationType:"signIn"})}return Ru(t,t.b.vb()).then(function(e){var n=e.user;return Ha(n,"isAnonymous",!0),t.ca(n),e})})},wc.getUid=function(){return Du(this)&&Du(this).uid||null},wc.bc=function(t){this.addAuthTokenListener(t),0<++this.s&&Du(this)&&xa(Du(this))},wc.Nc=function(t){var e=this;Uc(this.m,function(n){n==t&&e.s--}),0>this.s&&(this.s=0),0==this.s&&Du(this)&&Da(Du(this)),this.removeAuthTokenListener(t)},wc.addAuthTokenListener=function(t){var e=this;this.m.push(t),ju(this,this.h.then(function(){e.l||k(e.m,t)&&t(Lu(e))}))},wc.removeAuthTokenListener=function(t){P(this.m,function(e){return e==t})},wc.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i,t.b.removeListener(du("local"),t.a,this.oa)),this.a&&(js(this.a,this),Gs(this.a.b)),Promise.resolve()},wc.fc=function(t){return ju(this,Gi(this.b,t))},wc.zc=function(t){return!!kr(t)},wc.sb=function(t,e){var n=this;return ju(this,wt().then(function(){var t=new qn(e);if(!t.c)throw new v("argument-error",Ml+" must be true when sending sign in link to email");return Bn(t)}).then(function(e){return n.b.sb(t,e)}).then(function(){}))},wc.fd=function(t){return this.Pa(t).then(function(t){return t.data.email})},wc.jb=function(t,e){return ju(this,this.b.jb(t,e).then(function(){}))},wc.Pa=function(t){return ju(this,this.b.Pa(t).then(function(t){return new jn(t)}))},wc.fb=function(t){return ju(this,this.b.fb(t).then(function(){}))},wc.rb=function(t,e){var n=this;return ju(this,wt().then(function(){return void 0===e||j(e)?{}:Bn(new qn(e))}).then(function(e){return n.b.rb(t,e)}).then(function(){}))},wc.Uc=function(t,e){return ju(this,na(this,t,e,f(this.Ya,this)))},wc.Tc=function(t,e){var n=this;return ju(this,wt().then(function(){var r=e||We(),i=Ar(t,r);if(!(r=kr(r)))throw new v("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new v("tenant-id-mismatch");return n.Ya(i)}))},Uu.prototype.render=function(){},Uu.prototype.reset=function(){},Uu.prototype.getResponse=function(){},Uu.prototype.execute=function(){};var Rp=null;Vu.prototype.render=function(t,e){return this.a[this.b.toString()]=new Wu(t,e),this.b++},Vu.prototype.reset=function(t){var e=qu(this,t);t=Bu(t),e&&t&&(e.delete(),delete this.a[t])},Vu.prototype.getResponse=function(t){return(t=qu(this,t))?t.getResponse():null},Vu.prototype.execute=function(t){(t=qu(this,t))&&t.execute()},Wu.prototype.getResponse=function(){return $u(this),this.b},Wu.prototype.execute=function(){$u(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=on();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},Wu.prototype.delete=function(){$u(this),this.g=!0,clearTimeout(this.a),this.a=null,Yt(this.f,"click",this.i)},kn(Hu,"FACTOR_ID","phone"),Gu.prototype.g=function(){return Rp||(Rp=new Vu),wt(Rp)},Gu.prototype.c=function(){};var xp=null,Dp=new B(eh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Lp=new wn(3e4,6e4);Ku.prototype.g=function(t){var e=this;return new mt(function(n,r){var i=setTimeout(function(){r(new v("network-request-failed"))},Lp.get());if(!Sc.grecaptcha||t!==e.f&&!e.b){Sc[e.a]=function(){if(Sc.grecaptcha){e.f=t;var o=Sc.grecaptcha.render;Sc.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(Sc.grecaptcha)}else clearTimeout(i),r(new v("internal-error"));delete Sc[e.a]};wt(Pi(G(Dp,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new v("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n(Sc.grecaptcha)})},Ku.prototype.c=function(){this.b--};var Mp=null,Fp="callback",jp="expired-callback",Up="sitekey",Vp="size";wc=zu.prototype,wc.Ga=function(){var t=this;return this.f?this.f:this.f=Yu(this,wt().then(function(){if(fn()&&!en())return Ye();throw new v("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.w())}).then(function(e){return t.g=e,uo(t.s,Uf,{})}).then(function(e){t.a[Up]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},wc.render=function(){Ju(this);var t=this;return Yu(this,this.Ga().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=at(e);e=ct("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},wc.verify=function(){Ju(this);var t=this;return Yu(this,this.render().then(function(e){return new mt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Xu(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},wc.reset=function(){Ju(this),null!==this.c&&this.g.reset(this.c)},wc.clear=function(){Ju(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=at(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},d(Zu,zu);var qp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");gc(bu.prototype,{fb:{name:"applyActionCode",j:[ec("code")]},Pa:{name:"checkActionCode",j:[ec("code")]},jb:{name:"confirmPasswordReset",j:[ec("code"),ec("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[ec("email"),ec("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[ec("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[ec("emailLink")]},Fc:{name:"onAuthStateChanged",j:[vc(rc(),ic(),"nextOrObserver"),ic("opt_error",!0),ic("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[vc(rc(),ic(),"nextOrObserver"),ic("opt_error",!0),ic("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[ec("email"),vc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[ec("email"),rc("actionCodeSettings")]},tb:{name:"setPersistence",j:[ec("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[cc()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[cc()]},Rc:{name:"signInWithCustomToken",j:[ec("token")]},Sc:{name:"signInWithEmailAndPassword",j:[ec("email"),ec("password")]},Tc:{name:"signInWithEmailLink",j:[ec("email"),ec("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[ec("phoneNumber"),dc()]},Vc:{name:"signInWithPopup",j:[lc()]},Wc:{name:"signInWithRedirect",j:[lc()]},bd:{name:"updateCurrentUser",j:[vc(function(t){return{name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof Na)}}}(),oc(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ec(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[ec("code")]}}),yc(bu.prototype,{lc:{name:"languageCode",gb:vc(ec(),oc(),"languageCode")},ti:{name:"tenantId",gb:vc(ec(),oc(),"tenantId")}}),bu.Persistence=dp,bu.Persistence.LOCAL="local",bu.Persistence.SESSION="session",bu.Persistence.NONE="none",gc(Na.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[nc("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[nc("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[cc()]},mb:{name:"linkWithCredential",j:[cc()]},Bc:{name:"linkWithPhoneNumber",j:[ec("phoneNumber"),dc()]},Cc:{name:"linkWithPopup",j:[lc()]},Dc:{name:"linkWithRedirect",j:[lc()]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[cc()]},pb:{name:"reauthenticateWithCredential",j:[cc()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[ec("phoneNumber"),dc()]},Lc:{name:"reauthenticateWithPopup",j:[lc()]},Mc:{name:"reauthenticateWithRedirect",j:[lc()]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[vc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ec(null,!0)]},ad:{name:"unlink",j:[ec("provider")]},xb:{name:"updateEmail",j:[ec("email")]},yb:{name:"updatePassword",j:[ec("password")]},cd:{name:"updatePhoneNumber",j:[cc("phone")]},zb:{name:"updateProfile",j:[rc("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[ec("email"),vc(rc("opt_actionCodeSettings",!0),oc(null,!0),"opt_actionCodeSettings",!0)]}}),gc(Vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),gc(Uu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),gc(mt.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),yc(ta.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:nc("appVerificationDisabledForTesting")}}),gc(ea.prototype,{confirm:{name:"confirm",j:[ec("verificationCode")]}}),mc(sr,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[pr,Sr,Pr,hr],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[vc(ec(),rc(),"json")]),mc(Nr,"credential",function(t,e){return new Cr(t,e)},[ec("email"),ec("password")]),gc(Cr.prototype,{v:{name:"toJSON",j:[ec(null,!0)]}}),gc(yr.prototype,{Aa:{name:"addScope",j:[ec("scope")]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),mc(yr,"credential",mr,[vc(ec(),rc(),"token")]),mc(Nr,"credentialWithLink",Ar,[ec("email"),ec("emailLink")]),gc(_r.prototype,{Aa:{name:"addScope",j:[ec("scope")]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),mc(_r,"credential",br,[vc(ec(),rc(),"token")]),gc(wr.prototype,{Aa:{name:"addScope",j:[ec("scope")]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),mc(wr,"credential",Er,[vc(ec(),vc(rc(),oc()),"idToken"),vc(ec(),oc(),"accessToken",!0)]),gc(Ir.prototype,{Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),mc(Ir,"credential",Tr,[vc(ec(),rc(),"token"),ec("secret",!0)]),gc(gr.prototype,{Aa:{name:"addScope",j:[ec("scope")]},credential:{name:"credential",j:[vc(ec(),vc(rc(),oc()),"optionsOrIdToken"),vc(ec(),oc(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[rc("customOAuthParameters")]}}),gc(lr.prototype,{v:{name:"toJSON",j:[ec(null,!0)]}}),gc(ur.prototype,{v:{name:"toJSON",j:[ec(null,!0)]}}),mc(xr,"credential",Dr,[ec("verificationId"),ec("verificationCode")]),gc(xr.prototype,{cb:{name:"verifyPhoneNumber",j:[vc(ec(),function(t,e){return{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?fc(t.session,Ql)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?fc(t.session,Xl)&&pc(t.multiFactorHint):t.session&&t.multiFactorUid?fc(t.session,Xl)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}}}(),"phoneInfoOptions"),dc()]}}),gc(Or.prototype,{v:{name:"toJSON",j:[ec(null,!0)]}}),gc(v.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),gc(Br.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),gc(qr.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),gc(oa.prototype,{toJSON:{name:"toJSON",j:[ec(null,!0)]}}),gc(ia.prototype,{Pc:{name:"resolveSignIn",j:[hc()]}}),gc(pa.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[hc(),ec("displayName",!0)]},$c:{name:"unenroll",j:[vc({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:pc},ec(),"multiFactorInfoIdentifier")]}}),gc(Zu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),mc(Un,"parseLink",Vn,[ec("link")]),mc(Hu,"assertion",function(t){return new la(t)},[cc("phone")]),function(){if(void 0===Ec||!Ec.INTERNAL||!Ec.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vl,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:dl,VERIFY_AND_CHANGE_EMAIL:gl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:bu,AuthCredential:sr,Error:v};mc(t,"EmailAuthProvider",Nr,[]),mc(t,"FacebookAuthProvider",yr,[]),mc(t,"GithubAuthProvider",_r,[]),mc(t,"GoogleAuthProvider",wr,[]),mc(t,"TwitterAuthProvider",Ir,[]),mc(t,"OAuthProvider",gr,[ec("providerId")]),mc(t,"SAMLAuthProvider",vr,[ec("providerId")]),mc(t,"PhoneAuthProvider",xr,[ac()]),mc(t,"RecaptchaVerifier",Zu,[vc(ec(),sc(),"recaptchaContainer"),rc("recaptchaParameters",!0),uc()]),mc(t,"ActionCodeURL",Un,[]),mc(t,"PhoneMultiFactorGenerator",Hu,[]),Ec.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new bu(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Ec.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:f(t.getUid,t),getToken:f(t.kc,t),addAuthTokenListener:f(t.bc,t),removeAuthTokenListener:f(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ec.registerVersion("@firebase/auth","0.14.9"),Ec.INTERNAL.extendNamespace({User:Na})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n(4))},function(t,e,n){"use strict";(function(r){function i(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}function s(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=E.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):B("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(t,e){return z(t.name,e.name)}function u(t,e){return z(t,e)}function c(t,e){if(void 0===e&&(e=null),null===t)return Zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),I.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t){return new qt(t,c(e))}if(t instanceof Array||!ne){var n=Zt.EMPTY_NODE;return i(t,function(e,r){if(I.contains(t,e)&&"."!==e.substring(0,1)){var i=c(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(c(e))}var r=[],o=!1;if(i(t,function(t,e){if("."!==t.substring(0,1)){var n=c(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Lt(t,n)))}}),0===r.length)return Zt.EMPTY_NODE;var s=Xt(r,a,function(t){return t.name},u);if(o){var h=Xt(r,Wt.getCompare());return new Zt(s,c(e),new Jt({".priority":h},{".priority":Wt}))}return new Zt(s,c(e),Jt.Default)}function h(t,e,n){var r,i=t.getPriority().val(),o=ye(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=ye(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new qt(a,c(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new qt(o))),u.forEachChild(Wt,function(t,i){var o=h(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}function l(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(I.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=l(t.child(e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}function f(t){pn=t}function p(e){f(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new C.Component("database",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return Dn.getInstance().databaseFromApp(n,r,e)},"PUBLIC").setServiceProps({Reference:Nn,Query:pe,Database:Ln,DataSnapshot:ue,enableLogging:F,INTERNAL:Hn,ServerValue:er,TEST_ACCESS:Jn}).setMultipleInstances(!0));e.registerVersion(Zn,tr),I.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var d,v,g,y,m,_,b,w=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(1)),E=n(0),I=n(3),T=n(5),C=n(2),S=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),I.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:I.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),N=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return I.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),A=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new S(e)}}catch(t){}return new N},k=A("localStorage"),O=A("sessionStorage"),P=new T.Logger("@firebase/database"),R=function(){var t=1;return function(){return t++}}(),x=function(t){var e=I.stringToByteArray(t),n=new I.Sha1;n.update(e);var r=n.digest();return I.base64.encodeByteArray(r)},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=D.apply(null,i):n+="object"==typeof i?I.stringify(i):i,n+=" "}return n},L=null,M=!0,F=function(t,e){I.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(P.logLevel=T.LogLevel.VERBOSE,L=P.log.bind(P),e&&O.set("logging_enabled",!0)):"function"==typeof t?L=t:(L=null,O.remove("logging_enabled"))},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===M&&(M=!1,null===L&&!0===O.get("logging_enabled")&&F(!0)),L){var n=D.apply(null,t);L(n)}},U=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];j.apply(void 0,E.__spread([t],e))}},V=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+D.apply(void 0,E.__spread(t));P.error(n)},q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+D.apply(void 0,E.__spread(t));throw P.error(n),new Error(n)},B=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+D.apply(void 0,E.__spread(t));P.warn(n)},W=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&B("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$=function(t){return"number"==typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},H=function(t){if(I.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},G="[MIN_NAME]",K="[MAX_NAME]",z=function(t,e){if(t===e)return 0;if(t===G||e===K)return-1;if(e===G||t===K)return 1;var n=it(t),r=it(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Q=function(t,e){return t===e?0:t<e?-1:1},X=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+I.stringify(e))},Y=function(t){if("object"!=typeof t||null===t)return I.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=I.stringify(e[i]),r+=":",r+=Y(t[e[i]]);return r+="}"},J=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},Z=function(t){I.assert(!$(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(a.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},tt=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},et=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},nt=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},rt=new RegExp("^-?(0*)\\d{1,10}$"),it=function(t){if(rt.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},ot=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw B("Exception was thrown by user callback.",e),t},Math.floor(0))}},st=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},at=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},ut=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=z(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),ct=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=I.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=I.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=I.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),ht="long_polling",lt=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=k.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&k.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){I.assert("string"==typeof t,"typeof type must == string"),I.assert("object"==typeof e,"typeof params must == object");var n;if("websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==ht)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return i(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),ft=function(t){var e=pt(t),n=e.namespace;"firebase.com"===e.domain&&q(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||q("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||W();var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new lt(e.host,e.secure,n,r,"",n!==e.subdomain),path:new ut(e.pathString)}},pt=function(t){var e="",n="",r="",i="",a="",u=!0,c="https",h=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var f=t.indexOf("/");-1===f&&(f=t.length);var p=t.indexOf("?");-1===p&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(i=o(t.substring(f,p)));var d=s(t.substring(Math.min(t.length,p)));l=e.indexOf(":"),l>=0?(u="https"===c||"wss"===c,h=parseInt(e.substring(l+1),10)):l=e.length;var v=e.slice(0,l);if("localhost"===v.toLowerCase())n="localhost";else if(v.split(".").length<=2)n=v;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),a=r}"ns"in d&&(a=d.ns)}return{host:e,port:h,domain:n,subdomain:r,secure:u,scheme:c,pathString:i,namespace:a}},dt=/[\[\].#$\/\u0000-\u001F\u007F]/,vt=/[\[\].#$\u0000-\u001F\u007F]/,gt=function(t){return"string"==typeof t&&0!==t.length&&!dt.test(t)},yt=function(t){return"string"==typeof t&&0!==t.length&&!vt.test(t)},mt=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yt(t)},_t=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!$(t)||t&&"object"==typeof t&&I.contains(t,".sv")},bt=function(t,e,n,r,i){i&&void 0===n||wt(I.errorPrefix(t,e,i),n,r)},wt=function(t,e,n){var r=n instanceof ut?new ct(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if($(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&I.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(i(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!gt(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),wt(t,n,r),r.pop()}),o&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},Et=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!gt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(ut.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},It=function(t,e,n,r,o){if(!o||void 0!==n){var s=I.errorPrefix(t,e,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];i(n,function(t,e){var n=new ut(t);if(wt(s,e,r.child(n)),".priority"===n.getBack()&&!_t(e))throw new Error(s+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),Et(s,a)}},Tt=function(t,e,n,r){if(!r||void 0!==n){if($(n))throw new Error(I.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_t(n))throw new Error(I.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ct=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(I.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},St=function(t,e,n,r){if(!(r&&void 0===n||gt(n)))throw new Error(I.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Nt=function(t,e,n,r){if(!(r&&void 0===n||yt(n)))throw new Error(I.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},At=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Nt(t,e,n,r)},kt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Ot=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!gt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!mt(r))throw new Error(I.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Pt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(I.errorPrefix(t,e,r)+"must be a boolean.")},Rt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){I.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),I.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new I.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){I.validateArgCount("OnDisconnect.remove",0,1,arguments.length),kt("OnDisconnect.remove",this.path_),I.validateCallback("OnDisconnect.remove",1,t,!0);var e=new I.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){I.validateArgCount("OnDisconnect.set",1,2,arguments.length),kt("OnDisconnect.set",this.path_),bt("OnDisconnect.set",1,t,this.path_,!1),I.validateCallback("OnDisconnect.set",2,e,!0);var n=new I.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){I.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),kt("OnDisconnect.setWithPriority",this.path_),bt("OnDisconnect.setWithPriority",1,t,this.path_,!1),Tt("OnDisconnect.setWithPriority",2,e,!1),I.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new I.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(I.validateArgCount("OnDisconnect.update",1,2,arguments.length),kt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,B("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("OnDisconnect.update",1,t,this.path_,!1),I.validateCallback("OnDisconnect.update",2,e,!0);var i=new I.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),xt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return I.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Dt=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i=r===e;e=r;var o,s=new Array(8);for(o=7;o>=0;o--)s[o]=t.charAt(r%64),r=Math.floor(r/64);I.assert(0===r,"Cannot push at time == 0");var a=s.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)a+=t.charAt(n[o]);return I.assert(20===a.length,"nextPushId: Length should be 20."),a}}(),Lt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Mt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Lt(G,t),r=new Lt(G,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Lt.MIN},t}(),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return d},set:function(t){d=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return z(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw I.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Lt.MIN},e.prototype.maxPost=function(){return new Lt(K,d)},e.prototype.makePost=function(t,e){return I.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Lt(t,d)},e.prototype.toString=function(){return".key"},e}(Mt),jt=new Ft,Ut=function(t){return"number"==typeof t?"number:"+Z(t):"string:"+t},Vt=function(t){if(t.isLeafNode()){var e=t.val();I.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&I.contains(e,".sv"),"Priority must be a string or number.")}else I.assert(t===v||t.isEmpty(),"priority of unexpected type.");I.assert(t===v||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},qt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,I.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Vt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return g},set:function(t){g=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(I.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ut(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Z(this.value_):this.value_,this.lazyHash_=x(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(I.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return I.assert(i>=0,"Unknown leaf type: "+n),I.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?z(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Lt.MIN},e.prototype.maxPost=function(){return new Lt(K,new qt("[PRIORITY-POST]",m))},e.prototype.makePost=function(t,e){var n=y(t);return new Lt(e,new qt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Mt),Wt=new Bt,$t=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ht=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Kt.EMPTY_NODE,this.right=null!=o?o:Kt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Kt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Kt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Gt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ht(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Kt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ht.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ht.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new $t(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new $t(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new $t(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new $t(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Gt,t}(),zt=Math.log(2),Qt=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/zt,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Xt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ht(s,o.node,Ht.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),h=i(u+1,r);return o=t[u],s=n?n(o):o,new Ht(s,o.node,Ht.BLACK,c,h)},o=new Qt(t.length),s=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),h=t[o],l=n?n(h):h;u(new Ht(l,h.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var h=e.nextBitIsOne(),l=Math.pow(2,e.count-(c+1));h?a(l,Ht.BLACK):(a(l,Ht.BLACK),a(l,Ht.RED))}return o}(o);return new Kt(r||e,s)},Yt={},Jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return I.assert(Yt&&Wt,"ChildrenNode.ts has not been loaded"),_=_||new t({".priority":Yt},{".priority":Wt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=I.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Kt?e:null},t.prototype.hasIndex=function(t){return I.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){I.assert(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Lt.Wrap),s=o.getNext();s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();var a;a=i?Xt(r,e.getCompare()):Yt;var u=e.toString(),c=E.__assign({},this.indexSet_);c[u]=e;var h=E.__assign({},this.indexes_);return h[u]=a,new t(h,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(I.map(this.indexes_,function(t,i){var o=I.safeGet(r.indexSet_,i);if(I.assert(o,"Missing index implementation for "+i),t===Yt){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(Lt.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),Xt(s,o.getCompare())}return Yt}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Lt(e.name,c))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(I.map(this.indexes_,function(t){if(t===Yt)return t;var r=n.get(e.name);return r?t.remove(new Lt(e.name,r)):t}),this.indexSet_)},t}(),Zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Vt(this.priorityNode_),this.children_.isEmpty()&&I.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return b||(b=new t(new Kt(u),null,Jt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||b},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?b:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(I.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Lt(e,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),new t(i,i.isEmpty()?b:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;I.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Wt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ut(this.getPriority().val())+":"),this.forEachChild(Wt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":x(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Lt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Lt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Lt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Lt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Lt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ee?-1:0},t.prototype.withIndex=function(e){if(e===jt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===jt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Wt),r=e.getIterator(Wt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===jt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),te=function(t){function e(){return t.call(this,new Kt(u),Zt.EMPTY_NODE,Jt.Default)||this}return E.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Zt),ee=new te;Object.defineProperties(Lt,{MIN:{value:new Lt(G,Zt.EMPTY_NODE)},MAX:{value:new Lt(K,ee)}}),Ft.__EMPTY_NODE=Zt.EMPTY_NODE,qt.__childrenNodeConstructor=Zt,function(t){v=t}(ee),function(t){m=t}(ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ne=!0;!function(t){y=t}(c);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var re,ie,oe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?z(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Lt.MIN},e.prototype.maxPost=function(){return Lt.MAX},e.prototype.makePost=function(t,e){var n=c(t);return new Lt(e,n)},e.prototype.toString=function(){return".value"},e}(Mt),se=new oe,ae=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,I.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return E.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?z(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=c(t),r=Zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Lt(e,r)},e.prototype.maxPost=function(){var t=Zt.EMPTY_NODE.updateChild(this.indexPath_,ee);return new Lt(K,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Mt),ue=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return I.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return I.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return I.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return I.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){I.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),Nt("DataSnapshot.child",1,e,!1);var n=new ut(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Wt)},t.prototype.hasChild=function(t){I.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Nt("DataSnapshot.hasChild",1,t,!1);var e=new ut(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return I.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return I.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),I.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Wt))})},t.prototype.hasChildren=function(){return I.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return I.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return I.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ce=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+I.stringify(this.snapshot.exportVal())},t}(),he=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),le=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new ce("value",this,new ue(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){I.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new he(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),fe=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,I.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new he(this,t,e):null},t.prototype.createEvent=function(t,e){I.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new ce(t.type,this,new ue(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){I.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),pe=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return I.assert(re,"Reference.ts has not been loaded"),re},set:function(t){re=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===jt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==G)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==K)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Wt){if(null!=e&&!_t(e)||null!=n&&!_t(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(I.assert(t.getIndex()instanceof ae||t.getIndex()===se,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return I.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){I.validateArgCount("Query.on",2,4,arguments.length),Ct("Query.on",1,e,!1),I.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new le(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new fe(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){I.validateArgCount("Query.off",0,3,arguments.length),Ct("Query.off",1,t,!0),I.validateCallback("Query.off",2,e,!0),I.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){r=new le(e||null,null,n||null)}else t&&(e&&(i={},i[t]=e),r=new fe(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;I.validateArgCount("Query.once",1,4,arguments.length),Ct("Query.once",1,e,!1),I.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=!0,u=new I.Deferred;u.promise.catch(function(){});var c=function(t){a&&(a=!1,o.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(I.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(I.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(I.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Nt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ut(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ae(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){I.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(jt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){I.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Wt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){I.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(se);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),I.validateArgCount("Query.startAt",0,2,arguments.length),bt("Query.startAt",1,e,this.path,!0),St("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),I.validateArgCount("Query.endAt",0,2,arguments.length),bt("Query.endAt",1,e,this.path,!0),St("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(I.validateArgCount("Query.equalTo",1,2,arguments.length),bt("Query.equalTo",1,t,this.path,!1),St("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return I.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return I.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=Y(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(I.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,I.validateCallback(t,3,r.cancel,!0),r.context=n,I.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(I.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),de=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),ve=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),ge=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},ye=function(t,e,n){return t&&"object"==typeof t?(I.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?me(t[".sv"],e,n):"object"==typeof t[".sv"]?_e(t[".sv"],e):void I.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},me=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I.assert(!1,"Unexpected server value: "+t)}},_e=function(t,e,n){t.hasOwnProperty("increment")||I.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&I.assert(!1,"Unexpected increment value: "+r);var i=e.node();if(I.assert(null!==i&&void 0!==i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i,s=o.getValue();return"number"!=typeof s?r:s+r},be=function(t,e,n,r){return h(e,new ve(n,t),r)},we=function(t,e,n){return h(t,new de(e),n)},Ee=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();if(t=t.popFront(),this.children.has(e)){return this.children.get(e).find(t)}return null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Wt,function(t,e){n.remember(new ut(t),e)}),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r)){this.children.get(r).forget(t)&&this.children.delete(r)}return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var i=new ut(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}();!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ie||(ie={}));var Ie,Te,Ce=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,I.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ie.ACK_USER_WRITE,this.source=Ce.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return I.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ut(e));return new t(ut.Empty,n,this.revert)}return I.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Ne=function(){return Ie||(Ie=new Kt(Q)),Ie},Ae=function(){function t(t,e){void 0===e&&(e=Ne()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return i(e,function(t,e){n=n.set(new ut(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ut.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=i){return{path:new ut(n).child(i.path),value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.set(e.popFront(),n),s=this.children.insert(r,o);return new t(this.value,s)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.setTree(e.popFront(),n),s=void 0;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,s)},t.prototype.fold=function(t){return this.fold_(ut.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ut.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ut.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(ut.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),ke=function(){function t(t,e){this.source=t,this.path=e,this.type=ie.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ut.Empty):new t(this.source,this.path.popFront())},t}(),Oe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ie.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ut.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Pe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ie.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new ut(e));return n.isEmpty()?null:n.value?new Oe(this.source,ut.Empty,n.value):new t(this.source,ut.Empty,n)}return I.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Re=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),xe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Re(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Re(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Re(Zt.EMPTY_NODE,!1,!1),new Re(Zt.EMPTY_NODE,!1,!1)),t}(),De=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Le=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){I.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(De.childRemovedChange(e,s)):I.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(De.childAddedChange(e,n)):o.trackChildChange(De.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Wt,function(t,r){e.hasChild(t)||n.trackChildChange(De.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Wt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(De.childChangedChange(e,r,i))}else n.trackChildChange(De.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Me=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;I.assert(e===De.CHILD_ADDED||e===De.CHILD_CHANGED||e===De.CHILD_REMOVED,"Only child changes supported for tracking"),I.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===De.CHILD_ADDED&&i===De.CHILD_REMOVED)this.changeMap.set(n,De.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===De.CHILD_REMOVED&&i===De.CHILD_ADDED)this.changeMap.delete(n);else if(e===De.CHILD_REMOVED&&i===De.CHILD_CHANGED)this.changeMap.set(n,De.childRemovedChange(n,r.oldSnap));else if(e===De.CHILD_CHANGED&&i===De.CHILD_ADDED)this.changeMap.set(n,De.childAddedChange(n,t.snapshotNode));else{if(e!==De.CHILD_CHANGED||i!==De.CHILD_CHANGED)throw I.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,De.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Fe=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),je=new Fe,Ue=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Re(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ve=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),qe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){I.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),I.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new Me;if(n.type===ie.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,a):(I.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,a))}else if(n.type===ie.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,a):(I.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,s,a))}else if(n.type===ie.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,a):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,a)}else{if(n.type!==ie.LISTEN_COMPLETE)throw I.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,a)}var l=a.getChanges();return t.maybeAddValueEvent_(e,o,l),new Ve(o,l)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(De.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(I.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Zt?u:Zt.EMPTY_NODE,h=n.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var l=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var f=e.getFront();if(".priority"===f){I.assert(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();a=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,a);s=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),g=void 0;if(o.isCompleteForChild(f)){a=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);g=null!=y?o.getNode().getImmediateChild(f).updateChild(v,y):o.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),f,g,v,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),h,null)}else{var l=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(l),d=p.updateChild(f,n);a=".priority"===l?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),l,d,f,je,null)}var v=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new Ue(r,v,i);return this.generateEventCacheAfterServerEvent_(v,e,r,g,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new Ue(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var h=e.getFront();if(".priority"===h)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var l=e.popFront(),f=u.getNode().getImmediateChild(h),p=void 0;if(l.isEmpty())p=n;else{var d=c.getCompleteChild(h);p=null!=d?".priority"===l.getBack()&&d.getChild(l.parent()).isEmpty()?d:d.updateChild(l,n):Zt.EMPTY_NODE}if(f.equals(p))s=t;else{var v=this.filter_.updateChild(u.getNode(),h,p,l,c,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach(function(r,c){var h=n.child(r);t.cacheHasChild_(e,h.getFront())&&(u=a.applyUserOverwrite_(u,h,c,i,o,s))}),r.foreach(function(r,c){var h=n.child(r);t.cacheHasChild_(e,h.getFront())||(u=a.applyUserOverwrite_(u,h,c,i,o,s))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Ae.Empty.setTree(e,n);var h=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(h.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),l=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new ut(e),l,r,i,o,s)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!h.hasChild(e)&&!u){var l=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(l,n);c=a.applyServerOverwrite_(c,new ut(e),f,r,i,o,s)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=Ae.Empty;return a.getNode().forEachChild(jt,function(t,e){u=u.set(new ut(t),e)}),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=Ae.Empty;return n.foreach(function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,je,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Ue(n,t,r),a=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();I.assert(h instanceof Zt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(h)}c=c,u=this.filter_.updateFullNode(a,c,i)}else{var l=e.getFront(),f=n.calcCompleteChild(l,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(l)&&(f=a.getImmediateChild(l)),u=null!=f?this.filter_.updateChild(a,l,f,e.popFront(),s,i):t.getEventCache().getNode().hasChild(l)?this.filter_.updateChild(a,l,Zt.EMPTY_NODE,e.popFront(),s,i):a,u.isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(ut.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Be=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===De.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(De.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,De.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,De.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,De.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,De.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,De.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter(function(t){return t.type===e});s.sort(this.compareChanges_.bind(this)),s.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw I.assertionError("Should only compare child_ events.");var n=new Lt(t.childName,t.snapshotNode),r=new Lt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),We=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Le(n.getIndex()),i=n.getNodeFilter();this.processor_=new qe(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Zt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Zt.EMPTY_NODE,s.getNode(),null),c=new Re(a,o.isFullyInitialized(),r.filtersNodes()),h=new Re(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new xe(h,c),this.eventGenerator_=new Be(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){I.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ie.MERGE&&null!==t.source.queryId&&(I.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),I.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),I.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){e.getNode().forEachChild(Wt,function(t,e){n.push(De.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(De.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),$e=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return I.assert(Te,"Reference.ts has not been loaded"),Te},set:function(t){I.assert(!Te,"__referenceConstructor has already been defined"),Te=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return I.assert(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var a=[];try{for(var u=E.__values(this.views.values()),c=u.next();!c.done;c=u.next()){var s=c.value;a=a.concat(s.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Zt?(a=n.calcCompleteEventChildren(r),u=!1):(a=Zt.EMPTY_NODE,u=!1);var c=new xe(new Re(a,u,!1),new Re(r,i,!1));s=new We(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===s)try{for(var h=E.__values(this.views.entries()),l=h.next();!l.done;l=h.next()){var f=E.__read(l.value,2),p=f[0],d=f[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||a.push(d.getQuery()))}}catch(t){i={error:t}}finally{try{l&&!l.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else{var d=this.views.get(s);d&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||a.push(d.getQuery())))}return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=E.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=E.__values(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=E.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),He=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Ae(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=ut.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new Ae(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return i(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Ae.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(ut.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Wt,function(e,n){t.push(new Lt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Lt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Ae(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return l(ut.Empty,this.writeTree_,t)},t.Empty=new t(new Ae(null)),t}(),Ge=function(){function t(){this.visibleWrites_=He.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ke(t,this)},t.prototype.addOverwrite=function(t,e,n,r){I.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){I.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});I.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,s=!1,a=this.allWrites_.length-1;o&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?o=!1:r.path.contains(u.path)&&(s=!0)),a--}if(o){if(s)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{i(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(ut.Empty)){var s=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},a=t.layerTree_(this.allWrites_,s,e),u=n||Zt.EMPTY_NODE;return a.apply(u)}return null}var c=this.visibleWrites_.getCompleteNode(e);if(null!=c)return c;var h=this.visibleWrites_.childCompoundWrite(e);if(h.isEmpty())return n;if(null!=n||h.hasCompleteWrite(ut.Empty)){var u=n||Zt.EMPTY_NODE;return h.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Zt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Wt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Wt,function(t,e){var r=i.childCompoundWrite(new ut(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){I.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(e)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(ut.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if(s=s.withIndex(o),s.isEmpty()||s.isLeafNode())return[];for(var c=[],h=o.getCompare(),l=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=l.getNext();f&&c.length<r;)0!==h(f,n)&&c.push(f),f=l.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,ut.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=He.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=ut.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=ut.relativePath(s,n),r=r.addWrite(ut.Empty,o.snap.getChild(a)));else{if(!o.children)throw I.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))a=ut.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if(a=ut.relativePath(s,n),a.isEmpty())r=r.addWrites(ut.Empty,o.children);else{var u=I.safeGet(o.children,a.getFront());if(u){var c=u.getChild(a.popFront());r=r.addWrite(ut.Empty,c)}}}}}return r},t}(),Ke=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),ze=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Ae.Empty,this.pendingWriteTree_=new Ge,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Oe(Ce.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Ae.fromObject(e);return this.applyOperationToSyncPoints_(new Pe(Ce.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Ae.Empty;return null!=n.snap?r=r.set(ut.Empty,!0):i(n.children,function(t,e){r=r.set(new ut(t),e)}),this.applyOperationToSyncPoints_(new Se(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Oe(Ce.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Ae.fromObject(e);return this.applyOperationToSyncPoints_(new Pe(Ce.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ke(Ce.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=ut.relativePath(s,e),c=new Oe(Ce.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=ut.relativePath(s,e),c=Ae.fromObject(n),h=new Pe(Ce.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,h)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=ut.relativePath(o,e),u=new ke(Ce.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=ut.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var s=this.syncPointTree_.get(r);s?(o=o||s.hasCompleteView(),i=i||s.getCompleteServerCache(ut.Empty)):(s=new $e,this.syncPointTree_=this.syncPointTree_.set(r,s));var a;if(null!=i)a=!0;else{a=!1,i=Zt.EMPTY_NODE;this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(ut.Empty);n&&(i=i.updateImmediateChild(t,n))})}var u=s.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);I.assert(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(c,h),this.tagToQueryMap.set(h,c)}var l=this.pendingWriteTree_.childWrites(r),f=s.addEventRegistration(e,n,l,i,a);if(!u&&!o){var p=s.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var h=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(h&&!l){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!l&&c.length>0&&!r)if(h){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=ut.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){return[e.getCompleteView()]}var r=[];return e&&(r=e.getQueryViews()),i(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,o=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),o,s.hashFn,s.onComplete),u=this.syncPointTree_.subtree(r);if(o)I.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),i(n,function(t,e){r=r.concat(e)}),r}),h=0;h<c.length;++h){var l=c[h];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Zt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=nt(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return I.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ut(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);I.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ut.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(ut.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(ut.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,h=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,h))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(ut.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(ut.Empty));var s=[];return e.children.inorderTraversal(function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))}),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Qe=function(){function t(){this.rootNode_=Zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Xe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),I.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return I.deepCopy(this.counters_)},t}(),Ye=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Xe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Je=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=E.__assign({},t);return this.last_&&i(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ze=1e4,tn=3e4,en=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Je(t);var n=Ze+(tn-Ze)*Math.random();at(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;i(e,function(e,i){i>0&&I.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),at(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),nn=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new rn(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),rn=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();L&&j("event: "+e.toString()),ot(n)}}},t.prototype.getPath=function(){return this.path_},t}(),on=function(){function t(t){this.allowedEvents_=t,this.listeners_={},I.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=E.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){I.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),sn=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return E.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return I.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(on),an=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||I.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return E.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return I.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(on),un=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&ot(function(){n.onMessage_(t[e])})}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}())break}},t}(),cn="pLPCommand",hn="pRTLPCB",ln=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=U(t),this.stats_=Ye.getCollection(e),this.urlFn=function(t){return e.connectionURL(ht,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new un(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),H(function(){if(!n.isClosed_){n.scriptTagHolder=new fn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=E.__read(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=E.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={};t.start="t",t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!I.isNodeSdk()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!tt()&&!et())},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=I.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=I.base64Encode(e),r=J(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!I.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=I.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),fn=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,I.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=R(),window[cn+this.uniqueCallbackIdentifier]=e,window[hn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){o='<script>document.domain="'+document.domain+'";<\/script>'}var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){j("frame writing exception"),t.stack&&j(t.stack),j(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||j("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;I.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){j("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),pn="",dn=null;"undefined"!=typeof MozWebSocket?dn=MozWebSocket:"undefined"!=typeof WebSocket&&(dn=WebSocket);var vn=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=U(this.connId),this.stats_=Ye.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={};return r.v="5",!I.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,k.set("previous_websocket_failure",!0);try{if(I.isNodeSdk()){var i=I.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+pn+"/"+r.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production"}),a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(o.proxy={origin:a}),this.mySock=new dn(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new dn(this.connURL,[],o)}}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==dn&&!t.forceDisallow_},t.previouslyFailed=function(){return k.isInMemoryStorage||!0===k.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){k.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=I.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(I.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=I.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=J(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),gn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[ln,vn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=vn&&vn.isAvailable(),o=i&&!vn.previouslyFailed();if(e.webSocketOnly&&(i||B("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[vn];else{var s=this.transports_=[];try{for(var a=E.__values(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),yn=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=U("c:"+this.id+":"),this.transportManager_=new gn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=at(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=X("t",t),n=X("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=X("t",t),n=X("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},t.prototype.onControl_=function(t){var e=X("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?V("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&B("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),at(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):at(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(k.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),mn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),_n=1e3,bn=3e5,wn=function(t){function e(n,r,i,o,s,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=U("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=_n,c.maxReconnectDelay_=bn,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!I.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),sn.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&an.getInstance().on("online",c.onOnline_,c),c}return E.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(I.stringify(i)),I.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),I.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),I.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&I.contains(t,"w")){var n=I.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();B("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||I.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=I.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),I.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+I.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):V("Unrecognized action received from server: "+I.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;I.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_n,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_n,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>3e4&&(this.reconnectDelay_=_n),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,u=null,c=function(){u?u.close():(a=!0,r())},h=function(t){I.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)};this.realtime_={close:c,sendRequest:h};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then(function(e){a?j("getToken() completed but was canceled"):(j("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new yn(i,o.repoInfo_,o.applicationId_,t,n,r,function(t){B(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},s))}).then(null,function(t){o.log_("Failed to get token: "+t),a||(I.CONSTANTS.NODE_ADMIN&&B(t),c())})}},e.prototype.interrupt=function(t){j("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){j("Resuming connection for reason: "+t),delete this.interruptReasons_[t],I.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=_n,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return Y(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ut(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){j("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=E.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,E.__values(s.values())),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";I.CONSTANTS.NODE_ADMIN?e="admin_node":I.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+pn.replace(/\./g,"-")]=1,I.isMobileCordova()?t["framework.cordova"]=1:I.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=an.getInstance().currentlyOnline();return I.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(mn),En=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=U("p:rest:"),i.listens_={},i}return E.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(I.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),I.safeGet(o.listens_,a)===u){var c;c=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(c,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+I.querystring(e);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=I.jsonEval(a.responseText)}catch(t){B("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&B("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})},e}(mn),In=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nn,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Ee,this.persistentConnection_=null,this.stats_=Ye.getCollection(t),e||st())this.server_=new En(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(void 0!==o&&null!==o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{I.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new wn(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){i.server_.refreshAuthToken(t)}),this.statsReporter_=Ye.getOrCreateReporter(t,function(){return new en(i.stats_,i.server_)}),this.transactionsInit_(),this.infoData_=new Qe,this.infoSyncTree_=new ze({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new ze({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new ut(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return ge({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new ut(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=I.map(e,function(t){return c(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=c(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var u=I.map(e,function(t){return c(t)});o=this.serverSyncTree_.applyServerMerge(i,u)}else{var h=c(e);o=this.serverSyncTree_.applyServerOverwrite(i,h)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;i(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new ut("/.info/"+t),r=c(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=c(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=we(s,a,o),h=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,h,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),function(e,n){var o="ok"===e;o||B("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(h,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)});var f=this.abortTransactions_(t);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var o=!0,s=this.generateServerValues(),a={};if(i(e,function(e,n){o=!1,a[e]=be(t.child(e),c(n),r.serverSyncTree_,s)}),o)j("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,a,u);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||B("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(u,!o),a=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(a,s),r.callOnCompleteCallback(n,e,i)}),i(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new Ee;this.onDisconnect_.forEachTree(ut.Empty,function(r,i){var o=be(r,i,t.serverSyncTree_,e);n.remember(r,o)});var r=[];n.forEachTree(ut.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new Ee,this.eventQueue_.raiseEventsForChangedPath(ut.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=c(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=c(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(I.isEmpty(e))return j("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(o,s){"ok"===o&&i(e,function(e,n){var i=c(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,o,s)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Je(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);i(e,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),j.apply(void 0,E.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&ot(function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Ln(this))},enumerable:!1,configurable:!0}),t}(),Tn=function(){function t(e){this.indexedFilter_=new Le(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Lt(e,n))||(n=Zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Zt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Zt.EMPTY_NODE);var i=this;return e.forEachChild(Wt,function(t,e){i.matches(new Lt(t,e))||(r=r.updateImmediateChild(t,Zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Cn=function(){function t(t){this.rangedFilter_=new Tn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Lt(e,n))||(n=Zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Zt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext(),a=void 0;if(!(a=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(Zt.EMPTY_NODE);var u=void 0,c=void 0,h=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();h=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();for(var o=0,f=!1;i.hasNext();){var s=i.getNext();!f&&h(u,s)<=0&&(f=!0);var a=f&&o<this.limit_&&h(s,c)<=0;a?o++:r=r.updateImmediateChild(s.name,Zt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;I.assert(a.numChildren()===this.limit_,"");var u=new Lt(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var l=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(De.childChangedChange(e,n,l)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(De.childRemovedChange(e,l));var d=a.updateImmediateChild(e,Zt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(De.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:h&&o(c,u)>=0?(null!=i&&(i.trackChildChange(De.childRemovedChange(c.name,c.node)),i.trackChildChange(De.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,Zt.EMPTY_NODE)):t},t}(),Sn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Wt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return I.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return I.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:G},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return I.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return I.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:K},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return I.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Wt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Wt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Le(this.getIndex()):this.hasLimit()?new Cn(this):new Tn(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Wt?r=e.PRIORITY_INDEX:this.index_===se?r=e.VALUE_INDEX:this.index_===jt?r=e.KEY_INDEX:(I.assert(this.index_ instanceof ae,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=I.stringify(r),this.startSet_&&(n[e.START_AT]=I.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+I.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=I.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+I.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Nn=function(t){function e(e,n){if(!(e instanceof In))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Sn.DEFAULT,!1)||this}return E.__extends(e,t),e.prototype.getKey=function(){return I.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return I.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof ut||(null===this.path.getFront()?At("Reference.child",1,t,!1):Nt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){I.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){I.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){I.validateArgCount("Reference.set",1,2,arguments.length),kt("Reference.set",this.path),bt("Reference.set",1,t,this.path,!1),I.validateCallback("Reference.set",2,e,!0);var n=new I.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(I.validateArgCount("Reference.update",1,2,arguments.length),kt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,B("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("Reference.update",1,t,this.path,!1),I.validateCallback("Reference.update",2,e,!0);var i=new I.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(I.validateArgCount("Reference.setWithPriority",2,3,arguments.length),kt("Reference.setWithPriority",this.path),bt("Reference.setWithPriority",1,t,this.path,!1),Tt("Reference.setWithPriority",2,e,!1),I.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new I.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return I.validateArgCount("Reference.remove",0,1,arguments.length),kt("Reference.remove",this.path),I.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(I.validateArgCount("Reference.transaction",1,3,arguments.length),kt("Reference.transaction",this.path),I.validateCallback("Reference.transaction",1,t,!1),I.validateCallback("Reference.transaction",2,e,!0),Pt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new I.Deferred;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new xt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){I.validateArgCount("Reference.setPriority",1,2,arguments.length),kt("Reference.setPriority",this.path),Tt("Reference.setPriority",1,t,!1),I.validateCallback("Reference.setPriority",2,e,!0);var n=new I.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){I.validateArgCount("Reference.push",0,2,arguments.length),kt("Reference.push",this.path),bt("Reference.push",1,t,this.path,!0),I.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Dt(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then(function(){return s}):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return kt("Reference.onDisconnect",this.path),new Rt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(pe);pe.__referenceConstructor=Nn,$e.__referenceConstructor=Nn;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var An,kn=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),On=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new kn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof ut?e:new ut(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,I.safeGet(r.node_.children,i)||new kn),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){I.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;i(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new ut(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=I.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(An||(An={})),In.MAX_TRANSACTION_RETRIES_=25,In.prototype.transactionsInit_=function(){this.transactionQueueTree_=new On},In.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new Nn(this,t);o.on("value",i);var s=function(){o.off("value",i)},a={path:t,update:e,onComplete:n,status:null,order:R(),applyLocally:r,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var h=a.update(u.val());if(void 0===h){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new ue(a.currentInputSnapshot,new Nn(this,a.path),Wt);a.onComplete(null,!1,l)}}else{wt("transaction failed: Data returned ",h,a.path),a.status=An.RUN;var f=this.transactionQueueTree_.subTree(t),p=f.getValue()||[];p.push(a),f.setValue(p);var d=void 0;if("object"==typeof h&&null!==h&&I.contains(h,".priority"))d=I.safeGet(h,".priority"),I.assert(_t(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{d=(this.serverSyncTree_.calcCompleteEventCache(t)||Zt.EMPTY_NODE).getPriority().val()}d=d;var v=this.generateServerValues(),g=c(h,d),y=we(g,u,v);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=y,a.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,m),this.sendReadyTransactions_()}},In.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Zt.EMPTY_NODE},In.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);I.assert(n.length>0,"Sending zero length transaction queue");n.every(function(t){return t.status===An.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},In.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var u=e[a];I.assert(u.status===An.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=An.SENT,u.retryCount++;var c=ut.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var h=o.val(!0),l=t;this.server_.put(l.toString(),h,function(r){n.log_("transaction put response",{path:l.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=An.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new Nn(n,e[s].path),c=new ue(a,u,Wt);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(var s=0;s<o.length;s++)ot(o[s])}else{if("datastale"===r)for(var s=0;s<e.length;s++)e[s].status===An.SENT_NEEDS_ABORT?e[s].status=An.NEEDS_ABORT:e[s].status=An.RUN;else{B("transaction at "+l.toString()+" failed: "+r);for(var s=0;s<e.length;s++)e[s].status=An.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}},s)},In.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},In.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===An.RUN}),o=i.map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var a=t[s],u=ut.relativePath(e,a.path),h=!1,l=void 0;if(I.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===An.NEEDS_ABORT)h=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===An.RUN)if(a.retryCount>=In.MAX_TRANSACTION_RETRIES_)h=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var f=this.getLatestState_(a.path,o);a.currentInputSnapshot=f;var p=t[s].update(f.val());if(void 0!==p){wt("transaction failed: Data returned ",p,a.path);var d=c(p),v="object"==typeof p&&null!=p&&I.contains(p,".priority");v||(d=d.updatePriority(f.getPriority()));var g=a.currentWriteId,y=this.generateServerValues(),m=we(d,f,y);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(g),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,m,a.currentWriteId,a.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(g,!0))}else h=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[s].status=An.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[s].unwatcher),t[s].onComplete))if("nodata"===l){var _=new Nn(this,t[s].path),b=t[s].currentInputSnapshot,w=new ue(b,_,Wt);n.push(t[s].onComplete.bind(null,null,!1,w))}else n.push(t[s].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var s=0;s<n.length;s++)ot(n[s]);this.sendReadyTransactions_()}},In.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),t=t.popFront(),e=t.getFront();return n},In.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},In.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},In.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==An.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},In.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},In.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===An.SENT_NEEDS_ABORT);else if(e[o].status===An.SENT)I.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=An.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(I.assert(e[o].status===An.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var o=0;o<n.length;o++)ot(n[o])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pn,Rn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(j("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',B(t)},t}(),xn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Dn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Pn||(Pn=new t),Pn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=E.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,E.__values(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].interrupt()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=E.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,E.__values(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].resume()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&q("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var o,s=ft(i),a=s.repoInfo,u=void 0;void 0!==r&&(u=Object({NODE_ENV:"production"}).FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,i="http://"+u+"?ns="+a.namespace,s=ft(i),a=s.repoInfo):o=!s.repoInfo.secure;var c=I.CONSTANTS.NODE_ADMIN&&o?new xn:new Rn(t,e);return Ot("Invalid Firebase Database URL",1,s),s.path.isEmpty()||q("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(a,t,c).database},t.prototype.deleteRepo=function(t){var e=I.safeGet(this.repos_,t.app.name);e&&I.safeGet(e,t.repoInfo_.toURLString())===t||q("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=I.safeGet(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=I.safeGet(r,t.toURLString());return i&&q("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new In(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Ln=function(){function t(t){this.repo_=t,t instanceof In||q("Don't call new Database() directly - please use firebase.database()."),this.root_=new Nn(t,ut.Empty),this.INTERNAL=new Mn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),I.validateArgCount("database.ref",0,1,arguments.length),t instanceof Nn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),I.validateArgCount(e,1,1,arguments.length);var n=ft(t);Ot(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&q(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&q("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){I.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){I.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Mn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return E.__awaiter(this,void 0,void 0,function(){return E.__generator(this,function(t){return this.database.checkDeleted_("delete"),Dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),Fn=function(){vn.forceDisallow(),ln.forceAllow()},jn=function(){ln.forceDisallow()},Un=function(){return vn.isAvailable()},Vn=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},qn=function(t,e){t.repo.stats(e)},Bn=function(t,e){t.repo.statsIncrementCounter(e)},Wn=function(t){return t.repo.dataUpdateCount},$n=function(t,e){return t.repo.interceptServerData_(e)},Hn=Object.freeze({__proto__:null,forceLongPolling:Fn,forceWebSockets:jn,isWebSocketsAvailable:Un,setSecurityDebugCallback:Vn,stats:qn,statsIncrementCounter:Bn,dataUpdateCount:Wn,interceptServerData:$n}),Gn=wn;wn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},wn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Kn=yn,zn=function(t){var e=wn.prototype.put;return wn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){wn.prototype.put=e}},Qn=lt,Xn=function(t){return t.queryIdentifier()},Yn=function(t){Dn.getInstance().forceRestClient(t)},Jn=Object.freeze({__proto__:null,DataConnection:Gn,RealTimeConnection:Kn,hijackHash:zn,ConnectionTarget:Qn,queryIdentifier:Xn,forceRestClient:Yn}),Zn="@firebase/database",tr="0.6.9",er=Ln.ServerValue;p(w),e.DataSnapshot=ue,e.Database=Ln,e.OnDisconnect=Rt,e.Query=pe,e.Reference=Nn,e.ServerValue=er,e.enableLogging=F,e.registerDatabase=p}).call(e,n(7))},function(t,e,n){"use strict";(function(t){function r(){return lr.logLevel}function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lr.logLevel<=ar.LogLevel.DEBUG){var r=e.map(s);lr.debug.apply(lr,or.__spreadArrays(["Firestore (7.17.1): "+t],r))}}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lr.logLevel<=ar.LogLevel.ERROR){var r=e.map(s);lr.error.apply(lr,or.__spreadArrays(["Firestore (7.17.1): "+t],r))}}function s(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function a(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.17.1) INTERNAL ASSERTION FAILED: "+t;throw o(e),new Error(e)}function u(t,e){t||a()}function c(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function l(t,e){return t<e?-1:t>e?1:0}function f(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function p(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function v(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function g(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function y(t){return null==t}function m(t){return-0===t&&1/t==-1/0}function _(t){return"number"==typeof t&&Number.isInteger(t)&&!m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function b(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Cr(t,e,n,r,i,o,s)}function w(t){var e=c(t);if(null===e.K){var n=e.path.$();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.$()+t.op.toString()+V(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return(e=t).field.$()+e.dir;var e}).join(","),y(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ee(e.startAt)),e.endAt&&(n+="|ub:",n+=ee(e.endAt)),e.K=n}return e.K}function E(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!oe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],!(i instanceof Ii&&o instanceof Ii&&i.op===o.op&&i.field.isEqual(o.field)&&M(i.value,o.value)))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!re(t.startAt,e.startAt)&&re(t.endAt,e.endAt)}function I(t){return Tr.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function T(t){switch(t){case gr.OK:return a();case gr.CANCELLED:case gr.UNKNOWN:case gr.DEADLINE_EXCEEDED:case gr.RESOURCE_EXHAUSTED:case gr.INTERNAL:case gr.UNAVAILABLE:case gr.UNAUTHENTICATED:return!1;case gr.INVALID_ARGUMENT:case gr.NOT_FOUND:case gr.ALREADY_EXISTS:case gr.PERMISSION_DENIED:case gr.FAILED_PRECONDITION:case gr.ABORTED:case gr.OUT_OF_RANGE:case gr.UNIMPLEMENTED:case gr.DATA_LOSS:return!0;default:return a()}}function C(t){if(void 0===t)return o("GRPC error has no .code"),gr.UNKNOWN;switch(t){case Nr.OK:return gr.OK;case Nr.CANCELLED:return gr.CANCELLED;case Nr.UNKNOWN:return gr.UNKNOWN;case Nr.DEADLINE_EXCEEDED:return gr.DEADLINE_EXCEEDED;case Nr.RESOURCE_EXHAUSTED:return gr.RESOURCE_EXHAUSTED;case Nr.INTERNAL:return gr.INTERNAL;case Nr.UNAVAILABLE:return gr.UNAVAILABLE;case Nr.UNAUTHENTICATED:return gr.UNAUTHENTICATED;case Nr.INVALID_ARGUMENT:return gr.INVALID_ARGUMENT;case Nr.NOT_FOUND:return gr.NOT_FOUND;case Nr.ALREADY_EXISTS:return gr.ALREADY_EXISTS;case Nr.PERMISSION_DENIED:return gr.PERMISSION_DENIED;case Nr.FAILED_PRECONDITION:return gr.FAILED_PRECONDITION;case Nr.ABORTED:return gr.ABORTED;case Nr.OUT_OF_RANGE:return gr.OUT_OF_RANGE;case Nr.UNIMPLEMENTED:return gr.UNIMPLEMENTED;case Nr.DATA_LOSS:return gr.DATA_LOSS;default:return a()}}function S(){return Mr}function N(){return S()}function A(){return Fr}function k(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ur,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}function O(){return Vr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(){return new Pr(Tr.P)}function R(){return new Pr(Tr.P)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function x(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function D(t){var e=q(t.mapValue.fields.__local_write_time__.timestampValue);return new mr(e.seconds,e.nanos)}function L(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?x(t)?4:10:a()}function M(t,e){var n=L(t);if(n!==L(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return D(t).isEqual(D(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=q(t.timestampValue),r=q(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return W(t.bytesValue).isEqual(W(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return B(t.geoPointValue.latitude)===B(e.geoPointValue.latitude)&&B(t.geoPointValue.longitude)===B(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return B(t.integerValue)===B(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=B(t.doubleValue),r=B(e.doubleValue);return n===r?m(n)===m(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return f(t.arrayValue.values||[],e.arrayValue.values||[],M);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(d(n)!==d(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!M(n[i],r[i])))return!1;return!0}(t,e);default:return a()}}function F(t,e){return void 0!==(t.values||[]).find(function(t){return M(t,e)})}function j(t,e){var n=L(t),r=L(e);if(n!==r)return l(n,r);switch(n){case 0:return 0;case 1:return l(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=B(t.integerValue||t.doubleValue),r=B(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return U(t.timestampValue,e.timestampValue);case 4:return U(D(t),D(e));case 5:return l(t.stringValue,e.stringValue);case 6:return function(t,e){var n=W(t),r=W(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=l(n[i],r[i]);if(0!==o)return o}return l(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=l(B(t.latitude),B(e.latitude));return 0!==n?n:l(B(t.longitude),B(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=j(n[i],r[i]);if(o)return o}return l(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=l(r[s],o[s]);if(0!==a)return a;var u=j(n[r[s]],i[o[s]]);if(0!==u)return u}return l(r.length,o.length)}(t.mapValue,e.mapValue);default:throw a()}}function U(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return l(t,e);var n=q(t),r=q(e),i=l(n.seconds,r.seconds);return 0!==i?i:l(n.nanos,r.nanos)}function V(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=q(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?W(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,Tr.B(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):a();var n,r}(t)}function q(t){if(u(!!t),"string"==typeof t){var e=0,n=Yr.exec(t);if(u(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:B(t.seconds),nanos:B(t.nanos)}}function B(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function W(t){return"string"==typeof t?Sr.fromBase64String(t):Sr.fromUint8Array(t)}function $(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.$()}}function H(t){return!!t&&"integerValue"in t}function G(t){return!!t&&"arrayValue"in t}function K(t){return!!t&&"nullValue"in t}function z(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Q(t){return!!t&&"mapValue"in t}function X(t){return{integerValue:""+t}}function Y(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:m(e)?"-0":e}}function J(t,e){return _(e)?X(e):Y(t,e)}function Z(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function tt(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function et(t,e){return Z(t,e.A())}function nt(t){return u(!!t),_r.I(function(t){var e=q(t);return new mr(e.seconds,e.nanos)}(t))}function rt(t,e){return function(t){return new wr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).$()}function it(t){var e=wr.N(t);return u(It(e)),e}function ot(t,e){return rt(t.s,e.path)}function st(t,e){var n=it(e);return u(n.get(1)===t.s.projectId),u(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new Tr(ht(n))}function at(t,e){return rt(t.s,e)}function ut(t){var e=it(t);return 4===e.length?wr.k():ht(e)}function ct(t){return new wr(["projects",t.s.projectId,"databases",t.s.database]).$()}function ht(t){return u(t.length>4&&"documents"===t.get(4)),t.V(5)}function lt(t,e,n){return{name:ot(t,e),fields:n.proto.mapValue.fields}}function ft(t,e){var n;if(e instanceof li)n={update:lt(t,e.key,e.value)};else if(e instanceof di)n={delete:ot(t,e.key)};else if(e instanceof fi)n={update:lt(t,e.key,e.data),updateMask:Et(e.Le)};else if(e instanceof pi)n={transform:{document:ot(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ni)return{fieldPath:e.field.$(),setToServerValue:"REQUEST_TIME"};if(n instanceof ri)return{fieldPath:e.field.$(),appendMissingElements:{values:n.elements}};if(n instanceof ii)return{fieldPath:e.field.$(),removeAllFromArray:{values:n.elements}};if(n instanceof oi)return{fieldPath:e.field.$(),increment:n.qe};throw a()}(0,t)})}};else{if(!(e instanceof vi))return a();n={verify:ot(t,e.key)}}return e.Ue.Be||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:et(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:a()}(t,e.Ue)),n}function pt(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ci.updateTime(nt(t.updateTime)):void 0!==t.exists?ci.exists(t.exists):ci.We()}(e.currentDocument):ci.We();if(e.update){e.update.name;var r=st(t,e.update.name),i=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new si(e.map(function(t){return Ir.q(t)}))}(e.updateMask);return new fi(r,i,o,n)}return new li(r,i,n)}if(e.delete){var s=st(t,e.delete);return new di(s,n)}if(e.transform){var c=st(t,e.transform.document),h=e.transform.fieldTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)u("REQUEST_TIME"===e.setToServerValue),n=new ni;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ri(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ii(i)}else"increment"in e?n=new oi(t,e.increment):a();var o=Ir.q(e.fieldPath);return new ai(o,n)}(t,e)});return u(!0===n.exists),new pi(c,h)}if(e.verify){var l=st(t,e.verify);return new vi(l,n)}return a()}function dt(t,e){return{documents:[at(t,e.path)]}}function vt(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=at(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=at(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return t instanceof Ii?function(t){if("=="===t.op){if(z(t.value))return{unaryFilter:{field:mt(t.field),op:"IS_NAN"}};if(K(t.value))return{unaryFilter:{field:mt(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:mt(t.field),op:(e=t.op,Zr[e]),value:t.value}};var e}(t):a()});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return{field:mt((e=t).field),direction:(n=e.dir,Jr[n])};var e,n})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Oe||y(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=gt(e.startAt)),e.endAt&&(n.structuredQuery.endAt=gt(e.endAt)),n}function gt(t){return{before:t.before,values:t.position}}function yt(t){var e=!!t.before,n=t.values||[];return new ki(n,e)}function mt(t){return{fieldPath:t.$()}}function _t(t){return Ir.q(t.fieldPath)}function bt(t){return Ii.create(_t(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return a()}}(t.fieldFilter.op),t.fieldFilter.value)}function wt(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_t(t.unaryFilter.field);return Ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_t(t.unaryFilter.field);return Ii.create(n,"==",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return a()}}function Et(t){var e=[];return t.fields.forEach(function(t){return e.push(t.$())}),{fieldPaths:e}}function It(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tt(t,e,n){return t instanceof ni?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ri?Nt(t,e):t instanceof ii?At(t,e):function(t,e){var n=St(t,e),r=kt(n)+kt(t.qe);return H(n)&&H(t.qe)?X(r):Y(t.serializer,r)}(t,e)}function Ct(t,e,n){return t instanceof ri?Nt(t,e):t instanceof ii?At(t,e):n}function St(t,e){return t instanceof oi?H(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}function Nt(t,e){for(var n=Ot(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some(function(e){return M(e,t)})||n.push(t)}(i[r]);return{arrayValue:{values:n}}}function At(t,e){for(var n=Ot(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter(function(e){return!M(e,t)})}(i[r]);return{arrayValue:{values:n}}}function kt(t){return B(t.integerValue||t.doubleValue)}function Ot(t){return G(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pt(t,e){return void 0!==t.updateTime?e instanceof _i&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof _i}function Rt(t,e,n){return t instanceof li?function(t,e,n){return new _i(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof fi?function(t,e,n){if(!Pt(t.Ue,e))return new wi(t.key,n.version);var r=Ft(t,e);return new _i(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof pi?function(t,e,n){if(u(null!=n.transformResults),!Pt(t.Ue,e))return new wi(t.key,n.version);var r=jt(t,e),i=function(t,e,n){var r=[];u(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof _i&&(a=e.field(o.field)),r.push(Ct(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=Ut(t,r.data(),i);return new _i(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new bi(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function xt(t,e,n,r){return t instanceof li?function(t,e){if(!Pt(t.Ue,e))return e;var n=Mt(e);return new _i(t.key,n,t.value,{Ke:!0})}(t,e):t instanceof fi?function(t,e){if(!Pt(t.Ue,e))return e;var n=Mt(e),r=Ft(t,e);return new _i(t.key,n,r,{Ke:!0})}(t,e):t instanceof pi?function(t,e,n,r){if(!Pt(t.Ue,e))return e;var i=jt(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof _i&&(c=n.field(a.field)),null===c&&r instanceof _i&&(c=r.field(a.field)),i.push(Tt(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=Ut(t,i.data(),o);return new _i(t.key,i.version,s,{Ke:!0})}(t,e,r,n):function(t,e){return Pt(t.Ue,e)?new bi(t.key,_r.min()):e}(t,e)}function Dt(t,e){return t instanceof pi?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof _i?e.field(o.field):void 0,a=St(o.transform,s||null);null!=a&&(n=null==n?(new yi).set(o.field,a):n.set(o.field,a))}return n?n.Ge():null}(t,e):null}function Lt(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||f(t.fieldTransforms,t.fieldTransforms,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ri&&e instanceof ri||t instanceof ii&&e instanceof ii?f(t.elements,e.elements,M):t instanceof oi&&e instanceof oi?M(t.qe,e.qe):t instanceof ni&&e instanceof ni}(t.transform,e.transform)}(t,e)}))}function Mt(t){return t instanceof _i?t.version:_r.min()}function Ft(t,e){return function(t,e){var n=new yi(e);return t.Le.fields.forEach(function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Ge()}(t,e instanceof _i?e.data():gi.empty())}function jt(t,e){return e}function Ut(t,e,n){for(var r=new yi(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Ge()}function Vt(t){var e=[];return v(t.fields||{},function(t,n){var r=new Ir([t]);if(Q(n)){var i=Vt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)}),new si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qt(t,e){if(!(t instanceof e))throw e.name===t.constructor.name?new yr(gr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?"):new yr(gr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}function Bt(t,e,n,r,i,o,s,a){return new Ei(t,e,n,r,i,o,s,a)}function Wt(t){return new Ei(t)}function $t(t){return null!==t.collectionGroup}function Ht(t){var e=qt(t,Ei);if(null===e.nn){e.nn=[];var n=e.cn(),r=e.un();if(null!==n&&null===r)n.O()||e.nn.push(new Oi(n)),e.nn.push(new Oi(Ir.L(),"asc"));else{for(var i=!1,o=0,s=e.tn;o<s.length;o++){var a=s[o];e.nn.push(a),a.field.O()&&(i=!0)}if(!i){var u=e.tn.length>0?e.tn[e.tn.length-1].dir:"asc";e.nn.push(new Oi(Ir.L(),u))}}}return e.nn}function Gt(t){var e=qt(t,Ei);if(!e.sn)if("F"===e.en)e.sn=b(e.path,e.collectionGroup,Ht(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ht(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new Oi(o.field,s))}var a=e.endAt?new ki(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ki(e.startAt.position,!e.startAt.before):null;e.sn=b(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.sn}function Kt(t,e,n){return new Ei(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zt(t,e){return new Ei(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,e,t.endAt)}function Qt(t,e){return new Ei(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,t.startAt,e)}function Xt(t,e){return E(Gt(t),Gt(e))&&t.en===e.en}function Yt(t){return w(Gt(t))+"|lt:"+t.en}function Jt(t){return"Query(target="+function(t){var e=t.path.$();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.$()+" "+e.op+" "+V(e.value);var e}).join(", ")+"]"),y(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return(e=t).field.$()+" ("+e.dir+")";var e}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ee(t.startAt)),t.endAt&&(e+=", endAt: "+ee(t.endAt)),"Target("+e+")"}(Gt(t))+"; limitType="+t.en+")"}function Zt(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):Tr.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.tn;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ne(t.startAt,Ht(t),e)||t.endAt&&ne(t.endAt,Ht(t),e))}(t,e)}function te(t){return function(e,n){for(var r=!1,i=0,o=Ht(t);i<o.length;i++){var s=o[i],a=ie(s,e,n);if(0!==a)return a;r=r||s.field.O()}return 0}}function ee(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return V(t)}).join(",")}function ne(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.O()?Tr.P(Tr.B(s.referenceValue),n.key):j(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function re(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!M(t.position[n],e.position[n]))return!1;return!0}function ie(t,e,n){var r=t.field.O()?Tr.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?j(r,i):a()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return a()}}function oe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function se(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ue(e)),e=ae(t.get(n),e);return ue(e)}function ae(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ue(t){return t+""}function ce(t){var e=t.length;if(u(e>=2),2===e)return u(""===t.charAt(0)&&""===t.charAt(1)),wr.k();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&a(),t.charAt(s+1)){case"":var c=t.substring(o,s),h=void 0;0===i.length?h=c:(h=i+=c,i=""),r.push(h);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:a()}o=s+2}return new wr(r)}function he(t){return Yi.Ns(t,vo.store)}function le(t,e){if(e.document)return function(t,e,n){var r=st(t,e.name),i=nt(e.updateTime),o=new gi({mapValue:{fields:e.fields}});return new _i(r,i,o,{hasCommittedMutations:!!n})}(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Tr.j(e.noDocument.path),r=ge(e.noDocument.readTime);return new bi(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Tr.j(e.unknownDocument.path),o=ge(e.unknownDocument.version);return new wi(i,o)}return a()}function fe(t,e,n){var r=pe(n),i=e.key.path.p().F();if(e instanceof _i){var o=function(t,e){return{name:ot(t,e.key),fields:e.Ze().mapValue.fields,updateTime:Z(t,e.version.A())}}(t.ks,e),s=e.hasCommittedMutations;return new co(null,null,o,s,r,i)}if(e instanceof bi){var u=e.key.path.F(),c=ve(e.version),h=e.hasCommittedMutations;return new co(null,new ao(u,c),null,h,r,i)}if(e instanceof wi){var l=e.key.path.F(),f=ve(e.version);return new co(new uo(l,f),null,null,!0,r,i)}return a()}function pe(t){var e=t.A();return[e.seconds,e.nanoseconds]}function de(t){var e=new mr(t[0],t[1]);return _r.I(e)}function ve(t){var e=t.A();return new no(e.seconds,e.nanoseconds)}function ge(t){var e=new mr(t.seconds,t.nanoseconds);return _r.I(e)}function ye(t,e){var n=(e.baseMutations||[]).map(function(e){return pt(t.ks,e)}),r=e.mutations.map(function(e){return pt(t.ks,e)}),i=mr.fromMillis(e.localWriteTimeMs);return new Pi(e.batchId,i,n,r)}function me(t){var e,n,r=ge(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ge(t.lastLimboFreeSnapshotVersion):_r.min();return void 0!==t.query.documents?(u(1===(n=t.query).documents.length),e=Gt(Wt(ut(n.documents[0])))):e=function(t){var e=ut(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){u(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[wt(e)]:void 0!==e.fieldFilter?[bt(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):a():[]}(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(t){return new Oi(_t((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));var h=null;n.limit&&(h=function(t){var e;return y(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=yt(n.startAt));var f=null;return n.endAt&&(f=yt(n.endAt)),Gt(Bt(e,i,c,s,h,"F",l,f))}(t.query),new kr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sr.fromBase64String(t.resumeToken))}function _e(t,e){var n,r=ve(e.X),i=ve(e.lastLimboFreeSnapshotVersion);n=I(e.target)?dt(t.ks,e.target):vt(t.ks,e.target);var o=e.resumeToken.toBase64();return new lo(e.targetId,w(e.target),r,o,e.sequenceNumber,i,n)}function be(t){return Yi.Ns(t,ho.store)}function we(t){return Yi.Ns(t,co.store)}function Ee(t){return t.path.F()}function Ie(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw a();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Te(t){return Yi.Ns(t,lo.store)}function Ce(t){return Yi.Ns(t,po.store)}function Se(t){return Yi.Ns(t,fo.store)}function Ne(t){return Yi.Ns(t,ro.store)}function Ae(t){return Yi.Ns(t,go.store)}function ke(t,e){return Se(t).put(function(t,e){return new fo(0,se(t.path),e)}(e,t.vi))}function Oe(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function Pe(t,e,n){var r=so.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return De(t).Qs({range:o,yi:!0},function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()}).next(function(){return s})}function Re(t,e,n){var r=t.store(oo.store),i=t.store(so.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.Qs({range:s},function(t,e,n){return a++,n.delete()});o.push(c.next(function(){u(1===a)}));for(var h=[],l=0,f=n.mutations;l<f.length;l++){var p=f[l],d=so.key(e,p.key.path,n.batchId);o.push(i.delete(d)),h.push(p.key)}return xi.Sn(o).next(function(){return h})}function xe(t){return Yi.Ns(t,oo.store)}function De(t){return Yi.Ns(t,so.store)}function Le(t){return Yi.Ns(t,io.store)}function Me(t){t.createObjectStore(fo.store,{keyPath:fo.keyPath}).createIndex(fo.documentTargetsIndex,fo.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(lo.store,{keyPath:lo.keyPath}).createIndex(lo.queryTargetsIndexName,lo.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(po.store)}function Fe(t){return"IndexedDbTransactionError"===t.name}function je(t){return new xi(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Ue(t.target.error);n(e)}})}function Ue(t){var e=mo.Yr(ur.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new yr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Io||(Io=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ve(){return"undefined"!=typeof window?window:null}function qe(t,e){if(o("AsyncQueue",e+": "+t),Fe(t))return new yr(gr.UNAVAILABLE,e+": "+t);throw t}function Be(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=l(n,i);return 0===s?l(r,o):s}function We(t,e,n){return new Po(t,e,n)}function $e(t,e){var n=c(t),r=c(n.qi),i=n.dh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Me(t,e).next(function(t){return t?t.target:null})})}function He(t){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(e){if(t.code!==gr.FAILED_PRECONDITION||t.message!==Li)throw t;return i("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ge(t,e){if(0!==e.length)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+ln(e.length,"argument")+".")}function Ke(t,e,n){if(e.length!==n)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires "+ln(n,"argument")+", but was called with "+ln(e.length,"argument")+".")}function ze(t,e,n){if(e.length<n)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires at least "+ln(n,"argument")+", but was called with "+ln(e.length,"argument")+".")}function Qe(t,e,n,r){if(e.length<n||e.length>r)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+ln(e.length,"argument")+".")}function Xe(t,e,n,r){nn(t,e,hn(n)+" argument",r)}function Ye(t,e,n,r){void 0!==r&&Xe(t,e,n,r)}function Je(t,e,n,r){nn(t,e,n+" option",r)}function Ze(t,e,n,r){void 0!==r&&Je(t,e,n,r)}function tn(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(on(u))}var c=on(r);throw new yr(gr.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function en(t,e,n,r){if(!e.some(function(t){return t===r}))throw new yr(gr.INVALID_ARGUMENT,"Invalid value "+on(r)+" provided to function "+t+"() for its "+hn(n)+" argument. Acceptable values: "+e.join(", "));return r}function nn(t,e,n,r){if(!("object"===e?rn(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=on(r);throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function rn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function on(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":a()}function sn(t,e,n){if(void 0===n)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+hn(e)+" argument, but it was undefined.")}function an(t,e,n){v(e,function(e,r){if(n.indexOf(e)<0)throw new yr(gr.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function un(t,e,n,r){var i=on(r);return new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires its "+hn(n)+" argument to be a "+e+", but it was: "+i)}function cn(t,e,n){if(n<=0)throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires its "+hn(e)+" argument to be a positive number, but it was: "+n+".")}function hn(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function ln(t,e){return t+" "+e+(1===t?"":"s")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fn(){if("undefined"==typeof Uint8Array)throw new yr(gr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pn(){if("undefined"==typeof atob)throw new yr(gr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dn(t,e,n){return new Yo({ta:3,na:e.settings.na,methodName:t.Xh,sa:n},e.s,e.serializer,e.ignoreUndefinedProperties)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function vn(t){return new ti(t,!0)}function gn(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw a()}}function yn(t,e,n,r,i,o){void 0===o&&(o={});var s=t.ma(o.merge||o.mergeFields?2:0,e,n,i);Tn("Data must be an object, but it was:",s,r);var u,c,h=En(r,s);if(o.merge)u=new si(s.Le),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,p=o.mergeFields;f<p.length;f++){var d=p[f],v=void 0;if(d instanceof Lo)v=d.Yh;else{if("string"!=typeof d)throw a();v=Sn(e,d,n)}if(!s.contains(v))throw new yr(gr.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");An(l,v)||l.push(v)}u=new si(l),c=s.fieldTransforms.filter(function(t){return u.je(t.field)})}else u=null,c=s.fieldTransforms;return new Qo(new gi(h),u,c)}function mn(t,e,n,r){var i=t.ma(1,e,n);Tn("Data must be an object, but it was:",i,r);var o=[],s=new yi;v(r,function(t,r){var a=Sn(e,t,n),u=i.Ta(a);if(r instanceof jo&&r.Jh instanceof Uo)o.push(a);else{var c=wn(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new si(o);return new Xo(s.Ge(),a,i.fieldTransforms)}function _n(t,e,n,r,i,o){var s=t.ma(1,e,n),a=[Cn(e,r,n)],u=[i];if(o.length%2!=0)throw new yr(gr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Cn(e,o[c])),u.push(o[c+1]);for(var h=[],l=new yi,f=a.length-1;f>=0;--f)if(!An(h,a[f])){var p=a[f],d=u[f],v=s.Ta(p);if(d instanceof jo&&d.Jh instanceof Uo)h.push(p);else{var g=wn(d,v);null!=g&&(h.push(p),l.set(p,g))}}var y=new si(h);return new Xo(l.Ge(),y,s.fieldTransforms)}function bn(t,e,n,r){return void 0===r&&(r=!1),wn(n,t.ma(r?4:3,e))}function wn(t,e){if(In(t))return Tn("Unsupported field value:",e,t),En(t,e);if(t instanceof jo)return function(t,e){if(!gn(e.ta))throw e.ea(t.Xh+"() can only be used with update() and set()");if(!e.path)throw e.ea(t.Xh+"() is not currently supported inside arrays");var n=t.Zh(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.sa&&4!==e.ta)throw e.ea("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=wn(o[i],e.Ea(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return J(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=mr.fromDate(t);return{timestampValue:Z(e.serializer,n)}}if(t instanceof mr){var r=new mr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Z(e.serializer,r)}}if(t instanceof Go)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Do)return{bytesValue:tt(e.serializer,t)};if(t instanceof zo){var i=e.s,o=t.aa;if(!o.isEqual(i))throw e.ea("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:rt(t.aa||e.s,t.ua.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.ea("Unsupported field value: "+on(t))}(t,e)}function En(t,e){var n={};return g(t)?e.path&&e.path.length>0&&e.Le.push(e.path):v(t,function(t,r){var i=wn(r,e.da(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function In(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof mr||t instanceof Go||t instanceof Do||t instanceof zo||t instanceof jo)}function Tn(t,e,n){if(!In(n)||!rn(n)){var r=on(n);throw"an object"===r?e.ea(t+" a custom object"):e.ea(t+" "+r)}}function Cn(t,e,n){if(e instanceof Lo)return e.Yh;if("string"==typeof e)return Sn(t,e);throw Nn("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Sn(t,e,n){try{return function(t){if(t.search(Fo)>=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mo.bind.apply(Mo,or.__spreadArrays([void 0],t.split("."))))}catch(e){throw new yr(gr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Yh}catch(e){throw Nn((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function Nn(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new yr(gr.INVALID_ARGUMENT,(a+=". ")+t+u)}function An(t,e){return t.some(function(t){return t.isEqual(e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function kn(t,e){return"firestore_clients_"+t+"_"+e}function On(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Mr()&&(r+="_"+e.uid),r}function Pn(t,e){return"firestore_targets_"+t+"_"+e}function Rn(t,e,n,r,i,o,s){var a=new Cs(t,e,n,r,i,o);return s&&(a.Jl=!0),a}function xn(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i;return or.__generator(this,function(o){switch(o.label){case 0:return[4,(n=c(t)).$u.xh(e.query,!0)];case 1:return r=o.sent(),i=e.view.Dl(r),[2,(n.Xl&&n.e_(e.targetId,i.bl),i)]}})})}function Dn(t,e,n,r){return or.__awaiter(this,void 0,void 0,function(){var o,s;return or.__generator(this,function(u){switch(u.label){case 0:return(o=c(t)).Zl("applyBatchState()"),[4,function(t,e){var n=c(t),r=c(n.jn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Br(t,e).next(function(e){return e?n.Ih.Jn(t,e):xi.resolve(null)})})}(o.$u,e)];case 1:return null===(s=u.sent())?[3,6]:"pending"!==n?[3,3]:[4,o.Ol.tc()];case 2:return u.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(o.h_(e,r||null),function(t,e){c(c(t).jn).Gr(e)}(o.$u,e)):a(),u.label=4;case 4:return[4,o.i_(s)];case 5:return u.sent(),[3,7];case 6:i("SyncEngine","Cannot apply mutation batch with id: "+e),u.label=7;case 7:return[2]}})})}function Ln(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,a,u,h;return or.__generator(this,function(l){switch(l.label){case 0:return n=c(t),!0!==e||!0===n.Jl?[3,3]:(r=n.Ll.Bc(),[4,Mn(n,r.F())]);case 1:return i=l.sent(),n.Jl=!0,[4,n.Ol.Pc(!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],n.Ol.listen(a);return[3,7];case 3:return!1!==e||!1===n.Jl?[3,7]:(u=[],h=Promise.resolve(),n.Wl.forEach(function(t,e){n.Ll.Jc(e)?u.push(e):h=h.then(function(){return n.n_(e),n.$u.kh(e,!0)}),n.Ol.ic(e)}),[4,h]);case 4:return l.sent(),[4,Mn(n,u)];case 5:return l.sent(),function(t){var e=c(t);e.Kl.forEach(function(t,n){e.Ol.ic(n)}),e.Gl.Kh(),e.Kl=new Map,e.jl=new Pr(Tr.P)}(n),n.Jl=!1,[4,n.Ol.Pc(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function Mn(t,e,n){return or.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,a,u,h,l,f,p,d,v,g;return or.__generator(this,function(y){switch(y.label){case 0:n=c(t),r=[],i=[],o=0,s=e,y.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(h=n.Wl.get(a))&&0!==h.length?[4,n.$u.Nh(Gt(h[0]))]:[3,7]):[3,13];case 2:u=y.sent(),l=0,f=h,y.label=3;case 3:return l<f.length?(p=f[l],d=n.Ul.get(p),[4,xn(n,d)]):[3,6];case 4:(v=y.sent()).snapshot&&i.push(v.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,$e(n.$u,a)];case 8:return g=y.sent(),[4,n.$u.Nh(g)];case 9:return u=y.sent(),[4,n.t_(Fn(g),a,!1)];case 10:y.sent(),y.label=11;case 11:r.push(u),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Bl.nu(i),r)]}})})}function Fn(t){return Bt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function jn(t){return c(c(c(t).$u).persistence).Ir()}function Un(t,e,n,r){return or.__awaiter(this,void 0,void 0,function(){var o,s,u;return or.__generator(this,function(h){switch(h.label){case 0:return(o=c(t)).Jl?(i("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Wl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=c(t),n=c(e.Eh);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return n.Ks(t,e.Th)}).then(function(t){var n=t.Gs,r=t.readTime;return e.Th=r,n})}(o.$u)];case 3:return s=h.sent(),u=$r.Gt(e,"current"===n),[4,o.i_(s,u)];case 4:return h.sent(),[3,8];case 5:return[4,o.$u.kh(e,!0)];case 6:return h.sent(),o.n_(e,r),[3,8];case 7:a(),h.label=8;case 8:return[2]}})})}function Vn(t,e,n){return or.__awaiter(this,void 0,void 0,function(){var r,o,s,a,u,h,l,f,p,d;return or.__generator(this,function(v){switch(v.label){case 0:if(!(r=c(t)).Jl)return[3,10];o=0,s=e,v.label=1;case 1:return o<s.length?(a=s[o],r.Wl.has(a)?(i("SyncEngine","Adding an already active target "+a),[3,5]):[4,$e(r.$u,a)]):[3,6];case 2:return u=v.sent(),[4,r.$u.Nh(u)];case 3:return h=v.sent(),[4,r.t_(Fn(u),h.targetId,!1)];case 4:v.sent(),r.Ol.listen(h),v.label=5;case 5:return o++,[3,1];case 6:l=function(t){return or.__generator(this,function(e){switch(e.label){case 0:return r.Wl.has(t)?[4,r.$u.kh(t,!1).then(function(){r.Ol.ic(t),r.n_(t)}).catch(He)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},f=0,p=n,v.label=7;case 7:return f<p.length?(d=p[f],[5,l(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qn(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Bn(t,e){var n=new Hs({next:function(){e.next&&e.next()},error:function(t){throw a()}});return t.R_(n),function(){n.Wf(),t.P_(n)}}function Wn(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new Hs({next:function(t){r.next&&r.next(t)},error:i}),s=t.listen(Wt(e.path),o,n);return function(){o.Wf(),t.ic(s)}}function $n(t,e,n,r,i,o,s){var a;if(i.O()){if("array-contains"===o||"array-contains-any"===o)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o){Kn(s,o);for(var u=[],c=0,h=s;c<h.length;c++){var l=h[c];u.push(Gn(r,t,l))}a={arrayValue:{values:u}}}else a=Gn(r,t,s)}else"in"!==o&&"array-contains-any"!==o||Kn(s,o),a=bn(n,e,s,"in"===o);var f=Ii.create(i,o,a);return function(t,e){if(e instanceof Ii){var n=["array-contains","array-contains-any"],r=["in","array-contains-any"],i=n.indexOf(e.op)>=0,o=r.indexOf(e.op)>=0;if(e.ln()){var s=t.cn();if(null!==s&&!s.isEqual(e.field))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+s.toString()+"' and '"+e.field.toString()+"'");var a=t.un();null!==a&&zn(t,e.field,a)}else if(o||i){var u=null;if(o&&(u=t._n(r)),null===u&&i&&(u=t._n(n)),null!==u)throw u===e.op?new yr(gr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new yr(gr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+u.toString()+"' filters.")}}}(t,f),f}function Hn(t,e,n){if(null!==t.startAt)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oi(e,n);return function(t,e){if(null===t.un()){var n=t.cn();null!==n&&zn(t,n,e.field)}}(t,r),r}function Gn(t,e,n){if("string"==typeof n){if(""===n)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!$t(e)&&-1!==n.indexOf("/"))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wr.N(n));if(!Tr.W(r))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $(t,new Tr(r))}if(n instanceof zo)return $(t,n.ua);throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+on(n)+".")}function Kn(t,e){if(!Array.isArray(t)||0===t.length)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new yr(gr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}function zn(t,e,n){if(!n.isEqual(e))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Qn(t){if(t.an()&&0===t.tn.length)throw new yr(gr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Xn(t,e,n,r){var i=function(t){console.error("Uncaught Error in onSnapshot:",t)};r.error&&(i=r.error.bind(r));var o=new Hs({next:function(t){r.next&&r.next(t)},error:i}),s=t.listen(e,o,n);return function(){o.Wf(),t.ic(s)}}function Yn(t,e){if(void 0===e)return{merge:!1};if(an(t,e,["merge","mergeFields"]),Ze(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+on(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new yr(gr.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+on(r[o]))}(t,"mergeFields",0,r,i)}(t,0,0,e.mergeFields,function(t){return"string"==typeof t||t instanceof Mo}),void 0!==e.mergeFields&&void 0!==e.merge)throw new yr(gr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jn(t,e){return void 0===e?{}:(an(t,e,["serverTimestamps"]),tn(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Zn(t,e){Ye(t,"object",1,e),e&&(an(t,e,["source"]),tn(t,0,"source",e.source,["default","server","cache"]))}function tr(t,e,n){if(e instanceof zo){if(e.firestore!==n)throw new yr(gr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw un(t,"DocumentReference",1,e)}function er(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return a()}}function nr(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rr(t){!function(t,e){t.INTERNAL.registerComponent(new hr.Component("firestore",function(t){return function(t,e){return new Qs(t,e,new Ws)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},oa)))}(t),t.registerVersion("@firebase/firestore","1.16.2")}Object.defineProperty(e,"__esModule",{value:!0});var ir,or=n(0),sr=(ir=n(1))&&"object"==typeof ir&&"default"in ir?ir.default:ir,ar=n(5),ur=n(3),cr=n(26),hr=n(2),lr=new ar.Logger("@firebase/firestore"),fr=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=h(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}(),pr=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},dr=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return l(this.projectId,t.projectId)||l(this.database,t.database)},t}(),vr=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.u(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){v(this.l,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}})},t.prototype._=function(){return g(this.l)},t}(),gr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},yr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return or.__extends(e,t),e}(Error),mr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new yr(gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new yr(gr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new yr(gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yr(gr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?l(this.nanoseconds,t.nanoseconds):l(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),_r=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new mr(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),br=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&a(),void 0===n?n=t.length-e:n>t.length-e&&a(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return t=void 0===t?1:t,this.g(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.F=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.prototype.$=function(){return this.F().join("/")},e.prototype.toString=function(){return this.$()},e.N=function(t){if(t.indexOf("//")>=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.k=function(){return new e([])},e}(br),Er=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.M=function(t){return Er.test(t)},e.prototype.$=function(){return this.F().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.$()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new yr(gr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new yr(gr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new yr(gr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new yr(gr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.k=function(){return new e([])},e}(br),Tr=function(){function t(t){this.path=t}return t.B=function(e){return new t(wr.N(e).V(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wr.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return wr.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new wr(e.slice()))},t}(),Cr=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null},Sr=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.G,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return l(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();Sr.Y=new Sr("");var Nr,Ar,kr=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=_r.min()),void 0===o&&(o=_r.min()),void 0===s&&(s=Sr.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),Or=function(t){this.count=t};(Ar=Nr||(Nr={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pr=function(){function t(t,e){this.P=t,this.root=e||xr.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,xr.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,xr.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.ot(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new Rr(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new Rr(this.root,t,this.P,!1)},t.prototype.ct=function(){return new Rr(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new Rr(this.root,t,this.P,!0)},t}(),Rr=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),xr=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.gt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.Vt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).Vt()).yt()),t},t.prototype.gt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.Vt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw a();if(this.right.At())throw a();var t=this.left.bt();if(t!==this.right.bt())throw a();return t+(this.At()?0:1)},t}();xr.EMPTY=null,xr.RED=!0,xr.st=!1,xr.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw a()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw a()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw a()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw a()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw a()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new xr(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dr=function(){function t(t){this.P=t,this.data=new Pr(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot(function(e,n){return t(e),!1})},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new Lr(this.data.at())},t.prototype.ut=function(t){return new Lr(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.F=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),Lr=function(){function t(t){this.Ft=t}return t.prototype.dt=function(){return this.Ft.dt().key},t.prototype.wt=function(){return this.Ft.wt()},t}(),Mr=new Pr(Tr.P),Fr=new Pr(Tr.P),jr=new Pr(Tr.P),Ur=new Dr(Tr.P),Vr=new Dr(l),qr=function(){function t(t){this.P=t?function(e,n){return t(e,n)||Tr.P(e.key,n.key)}:function(t,e){return Tr.P(t.key,e.key)},this.$t=A(),this.Nt=new Pr(this.P)}return t.kt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.$t.get(t)},t.prototype.get=function(t){return this.$t.get(t)},t.prototype.first=function(){return this.Nt.it()},t.prototype.last=function(){return this.Nt.rt()},t.prototype._=function(){return this.Nt._()},t.prototype.indexOf=function(t){var e=this.$t.get(t);return e?this.Nt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Nt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Nt.ot(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.$t.nt(t.key,t),e.Nt.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.$t.remove(t),this.Nt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Nt.at(),r=e.Nt.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.$t=e,r.Nt=n,r},t}(),Br=function(){function t(){this.xt=new Pr(Tr.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.xt.get(e);n?0!==t.type&&3===n.type?this.xt=this.xt.nt(e,t):3===t.type&&1!==n.type?this.xt=this.xt.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.xt=this.xt.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.xt=this.xt.remove(e):1===t.type&&2===n.type?this.xt=this.xt.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.xt=this.xt.nt(e,{type:2,doc:t.doc}):a():this.xt=this.xt.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.xt.ot(function(e,n){t.push(n)}),t},t}(),Wr=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.qt=s,this.Bt=a}return t.Ut=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,qr.kt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.qt===t.qt&&this.Lt.isEqual(t.Lt)&&Xt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),$r=function(){function t(t,e,n,r,i){this.X=t,this.Wt=e,this.Qt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,Hr.zt(e,n)),new t(_r.min(),r,O(),S(),k())},t}(),Hr=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(Sr.Y,n,k(),k(),k())},t}(),Gr=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},Kr=function(t,e){this.targetId=t,this.ee=e},zr=function(t,e,n,r){void 0===n&&(n=Sr.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Qr=function(){function t(){this.ne=0,this.se=R(),this.ie=Sr.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=k(),e=k(),n=k();return this.se.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:a()}}),new Hr(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=R()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),Xr=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=S(),this.Ae=P(),this.Re=new Dr(l)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof _i?this.ge(r,t.te):t.te instanceof bi&&this.Ve(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.Ve(s,t.key,t.te)}},t.prototype.ye=function(t){var e=this;this.pe(t,function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:a()}})},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach(function(t,r){n.ve(r)&&e(r)})},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(I(i))if(0===n){var o=new Tr(i.path);this.Ve(e,o,new bi(o,_r.min()))}else u(1===n);else this.Fe(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.$e=function(t){var e=this,n=new Map;this.Ie.forEach(function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&I(o.target)){var s=new Tr(o.target.path);null!==e.me.get(s)||e.Ne(i,s)||e.Ve(i,s,new bi(s,t))}r.ae&&(n.set(i,r.ce()),r.le())}});var r=k();this.Ae.forEach(function(t,n){var i=!0;n.St(function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)}),i&&(r=r.add(t))});var i=new $r(t,n,this.Re,this.me,r);return this.me=S(),this.Ae=P(),this.Re=new Dr(l),i},t.prototype.ge=function(t,e){if(this.ve(t)){var n=this.Ne(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.ke(e.key).add(t))}},t.prototype.Ve=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.Ne(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.ke(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Fe=function(t){var e=this.be(t).ce();return this.Ee.xe(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new Qr,this.Ie.set(t,e)),e},t.prototype.ke=function(t){var e=this.Ae.get(t);return e||(e=new Dr(l),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||i("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new Qr),this.Ee.xe(t).forEach(function(n){e.Ve(t,n,null)})},t.prototype.Ne=function(t,e){return this.Ee.xe(t).has(e)},t}(),Yr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),Jr={asc:"ASCENDING",desc:"DESCENDING"},Zr={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ti=function(t,e){this.s=t,this.Oe=e},ei=function(){this.Qe=void 0},ni=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e}(ei),ri=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return or.__extends(e,t),e}(ei),ii=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return or.__extends(e,t),e}(ei),oi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.qe=n,r}return or.__extends(e,t),e}(ei),si=function(){function t(t){this.fields=t,t.sort(Ir.P)}return t.prototype.je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return f(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ai=function(t,e){this.field=t,this.transform=e},ui=function(t,e){this.version=t,this.transformResults=e},ci=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Be",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}(),hi=function(){},li=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return or.__extends(e,t),e}(hi),fi=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return or.__extends(e,t),e}(hi),pi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=ci.exists(!0),r}return or.__extends(e,t),e}(hi),di=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return or.__extends(e,t),e}(hi),vi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return or.__extends(e,t),e}(hi),gi=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Q(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return M(this.proto,t.proto)},t}(),yi=function(){function t(t){void 0===t&&(t=gi.empty()),this.ze=t,this.He=new Map}return t.prototype.set=function(t,e){return this.Ye(t,e),this},t.prototype.delete=function(t){return this.Ye(t,null),this},t.prototype.Ye=function(t,e){for(var n=this.He,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===L(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.Ge=function(){var t=this.Je(Ir.k(),this.He);return null!=t?new gi(t):this.ze},t.prototype.Je=function(t,e){var n=this,r=!1,i=this.ze.field(t),o=Q(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.Je(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}(),mi=function(t,e){this.key=t,this.version=e},_i=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Xe=r,o.Ke=!!i.Ke,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return or.__extends(e,t),e.prototype.field=function(t){return this.Xe.field(t)},e.prototype.data=function(){return this.Xe},e.prototype.Ze=function(){return this.Xe.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ke===t.Ke&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Xe.isEqual(t.Xe)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Xe.toString()+", {hasLocalMutations: "+this.Ke+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ke||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(mi),bi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return or.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mi),wi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(mi),Ei=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.tn=n,this.filters=r,this.limit=i,this.en=o,this.startAt=s,this.endAt=a,this.nn=null,this.sn=null,this.startAt,this.endAt}return t.prototype.rn=function(e){return new t(e,null,this.tn.slice(),this.filters.slice(),this.limit,this.en,this.startAt,this.endAt)},t.prototype.on=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.tn.length||1===this.tn.length&&this.tn[0].field.O())},t.prototype.hn=function(){return!y(this.limit)&&"F"===this.en},t.prototype.an=function(){return!y(this.limit)&&"L"===this.en},t.prototype.un=function(){return this.tn.length>0?this.tn[0].field:null},t.prototype.cn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n.ln())return n.field}return null},t.prototype._n=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}(),Ii=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return or.__extends(e,t),e.create=function(t,n,r){if(t.O())return"in"===n?new Ci(t,r):new Ti(t,n,r);if(K(r)){if("=="!==n)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(z(r)){if("=="!==n)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Si(t,r):"in"===n?new Ni(t,r):"array-contains-any"===n?new Ai(t,r):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&L(this.value)===L(e)&&this.fn(j(e,this.value))},e.prototype.fn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case">":return t>0;case">=":return t>=0;default:return a()}},e.prototype.ln=function(){return["<","<=",">",">="].indexOf(this.op)>=0},e}(function(){}),Ti=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Tr.B(r.referenceValue),i}return or.__extends(e,t),e.prototype.matches=function(t){var e=Tr.P(t.key,this.key);return this.fn(e)},e}(Ii),Ci=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=(n.arrayValue.values||[]).map(function(t){return Tr.B(t.referenceValue)}),r}return or.__extends(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ii),Si=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return or.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return G(e)&&F(e.arrayValue,this.value)},e}(Ii),Ni=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return or.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&F(this.value.arrayValue,e)},e}(Ii),Ai=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return or.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!G(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return F(e.value.arrayValue,t)})},e}(Ii),ki=function(t,e){this.position=t,this.before=e},Oi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e},Pi=function(){function t(t,e,n,r){this.batchId=t,this.dn=e,this.baseMutations=n,this.mutations=r}return t.prototype.wn=function(t,e,n){for(var r=n.Tn,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Rt(o,e,r[i]))}return e},t.prototype.En=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=xt(i,e,e,this.dn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=xt(u,e,o,this.dn))}return e},t.prototype.In=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.En(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},k())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&f(this.mutations,t.mutations,function(t,e){return Lt(t,e)})&&f(this.baseMutations,t.baseMutations,function(t,e){return Lt(t,e)})},t}(),Ri=function(){function t(t,e,n,r){this.batch=t,this.mn=e,this.Tn=n,this.An=r}return t.from=function(e,n,r){u(e.mutations.length===r.length);for(var i=jr,o=e.mutations,s=0;s<o.length;s++)i=i.nt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),xi=function(){function t(t){var e=this;this.Rn=null,this.Pn=null,this.result=void 0,this.error=void 0,this.gn=!1,this.Vn=!1,t(function(t){e.gn=!0,e.result=t,e.Rn&&e.Rn(t)},function(t){e.gn=!0,e.error=t,e.Pn&&e.Pn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Vn&&a(),this.Vn=!0,this.gn?this.error?this.yn(n,this.error):this.pn(e,this.result):new t(function(t,i){r.Rn=function(n){r.pn(e,n).next(t,i)},r.Pn=function(e){r.yn(n,e).next(t,i)}})},t.prototype.bn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.vn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.pn=function(e,n){return e?this.vn(function(){return e(n)}):t.resolve(n)},t.prototype.yn=function(e,n){return e?this.vn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Sn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Dn=function(e){for(var n=t.resolve(!1),r=0,i=e;r<i.length;r++)!function(e){n=n.next(function(n){return n?t.resolve(n):e()})}(i[r]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Sn(r)},t}(),Di=function(){function t(){this.Cn=new vr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.Fn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.Nn=function(t,e){this.kn(),this.readTime=e,this.Cn.set(t.key,t)},t.prototype.xn=function(t,e){this.kn(),e&&(this.readTime=e),this.Cn.set(t,null)},t.prototype.Mn=function(t,e){this.kn();var n=this.Cn.get(e);return void 0!==n?xi.resolve(n):this.On(t,e)},t.prototype.getEntries=function(t,e){return this.Ln(t,e)},t.prototype.apply=function(t){return this.kn(),this.Fn=!0,this.qn(t)},t.prototype.kn=function(){},t}(),Li="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mi=function(){function t(){this.Bn=[]}return t.prototype.Un=function(t){this.Bn.push(t)},t.prototype.Wn=function(){this.Bn.forEach(function(t){return t()})},t}(),Fi=function(){function t(t,e,n){this.Qn=t,this.jn=e,this.Kn=n}return t.prototype.Gn=function(t,e){var n=this;return this.jn.zn(t,e).next(function(r){return n.Hn(t,e,r)})},t.prototype.Hn=function(t,e,n){return this.Qn.Mn(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].En(e,t);return t})},t.prototype.Yn=function(t,e,n){var r=N();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].En(t,e);r=r.nt(t,e)}),r},t.prototype.Jn=function(t,e){var n=this;return this.Qn.getEntries(t,e).next(function(e){return n.Xn(t,e)})},t.prototype.Xn=function(t,e){var n=this;return this.jn.Zn(t,e).next(function(r){var i=n.Yn(t,e,r),o=S();return i.forEach(function(t,e){e||(e=new bi(t,_r.min())),o=o.nt(t,e)}),o})},t.prototype.ts=function(t,e,n){return function(t){return Tr.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.es(t,e.path):$t(e)?this.ns(t,e,n):this.ss(t,e,n)},t.prototype.es=function(t,e){return this.Gn(t,new Tr(e)).next(function(t){var e=A();return t instanceof _i&&(e=e.nt(t.key,t)),e})},t.prototype.ns=function(t,e,n){var r=this,i=e.collectionGroup,o=A();return this.Kn.rs(t,i).next(function(s){return xi.forEach(s,function(s){var a=e.rn(s.child(i));return r.ss(t,a,n).next(function(t){t.forEach(function(t,e){o=o.nt(t,e)})})}).next(function(){return o})})},t.prototype.ss=function(t,e,n){var r,i,o=this;return this.Qn.ts(t,e,n).next(function(n){return r=n,o.jn.os(t,e)}).next(function(e){return i=e,o.hs(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,h=r.get(c),l=xt(u,h,h,o.dn);r=l instanceof _i?r.nt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Zt(e,n)||(r=r.remove(t))}),r})},t.prototype.hs=function(t,e,n){for(var r=k(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof fi&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Qn.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof _i&&(c=c.nt(t,e))}),c})},t}(),ji=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.as=n,this.us=r}return t.cs=function(e,n){for(var r=k(),i=k(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ui=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.ls=function(t){return n._s(t)},this.fs=function(t){return e.ds(t)})}return t.prototype._s=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.fs&&this.fs(t),t},t}();Ui.ws=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vi=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},qi=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Ts=t,this.Es=e,this.Is=n,this.ms=r,this.As=i,this.Rs=0,this.Ps=null,this.gs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Rs=0},t.prototype.Vs=function(){this.Rs=this.As},t.prototype.ys=function(t){var e=this;this.cancel();var n=Math.floor(this.Rs+this.ps()),r=Math.max(0,Date.now()-this.gs),o=Math.max(0,n-r);o>0&&i("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.Rs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ps=this.Ts.bs(this.Es,o,function(){return e.gs=Date.now(),t()}),this.Rs*=this.ms,this.Rs<this.Is&&(this.Rs=this.Is),this.Rs>this.As&&(this.Rs=this.As)},t.prototype.vs=function(){null!==this.Ps&&(this.Ps.Ss(),this.Ps=null)},t.prototype.cancel=function(){null!==this.Ps&&(this.Ps.cancel(),this.Ps=null)},t.prototype.ps=function(){return(Math.random()-.5)*this.Rs},t}(),Bi=function(){function t(){this.Ds=new Wi}return t.prototype.Cs=function(t,e){return this.Ds.add(e),xi.resolve()},t.prototype.rs=function(t,e){return xi.resolve(this.Ds.getEntries(e))},t}(),Wi=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new Dr(wr.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Dr(wr.P)).F()},t}(),$i=function(){function t(){this.Fs=new Wi}return t.prototype.Cs=function(t,e){var n=this;if(!this.Fs.has(e)){var r=e.S(),i=e.p();t.Un(function(){n.Fs.add(e)});var o={collectionId:r,parent:se(i)};return he(t).put(o)}return xi.resolve()},t.prototype.rs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[p(e),""],!1,!0);return he(t).$s(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(ce(o.parent))}return n})},t}(),Hi=function(t){this.ks=t},Gi=function(){function t(t,e){this.serializer=t,this.Kn=e}return t.prototype.Nn=function(t,e,n){return we(t).put(Ee(e),n)},t.prototype.xn=function(t,e){var n=we(t),r=Ee(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.xs(t,r)})},t.prototype.Mn=function(t,e){var n=this;return we(t).get(Ee(e)).next(function(t){return n.Ms(t)})},t.prototype.Os=function(t,e){var n=this;return we(t).get(Ee(e)).next(function(t){var e=n.Ms(t);return e?{Ls:e,size:Ie(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=N();return this.qs(t,e,function(t,e){var i=n.Ms(e);r=r.nt(t,i)}).next(function(){return r})},t.prototype.Bs=function(t,e){var n=this,r=N(),i=new Pr(Tr.P);return this.qs(t,e,function(t,e){var o=n.Ms(e);o?(r=r.nt(t,o),i=i.nt(t,Ie(e))):(r=r.nt(t,null),i=i.nt(t,0))}).next(function(){return{Us:r,Ws:i}})},t.prototype.qs=function(t,e,n){if(e._())return xi.resolve();var r=IDBKeyRange.bound(e.first().path.F(),e.last().path.F()),i=e.at(),o=i.dt();return we(t).Qs({range:r},function(t,e,r){for(var s=Tr.j(t);o&&Tr.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.dt():null),o?r.js(o.path.F()):r.done()}).next(function(){for(;o;)n(o,null),o=i.wt()?i.dt():null})},t.prototype.ts=function(t,e,n){var r=this,i=A(),o=e.path.length+1,s={};if(n.isEqual(_r.min())){var a=e.path.F();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.F(),c=pe(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=co.collectionReadTimeIndex}return we(t).Qs(s,function(t,n,s){if(t.length===o){var a=le(r.serializer,n);e.path.D(a.key.path)?a instanceof _i&&Zt(e,a)&&(i=i.nt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Ks=function(t,e){var n=this,r=S(),i=pe(e),o=we(t),s=IDBKeyRange.lowerBound(i,!0);return o.Qs({index:co.readTimeIndex,range:s},function(t,e){var o=le(n.serializer,e);r=r.nt(o.key,o),i=e.readTime}).next(function(){return{Gs:r,readTime:de(i)}})},t.prototype.zs=function(t){var e=we(t),n=_r.min();return e.Qs({index:co.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=de(e.readTime)),r.done()}).next(function(){return n})},t.prototype.Hs=function(e){return new t.Ys(this,!!e&&e.Js)},t.prototype.Xs=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return be(t).get(ho.key).next(function(t){return u(!!t),t})},t.prototype.xs=function(t,e){return be(t).put(ho.key,e)},t.prototype.Ms=function(t){if(t){var e=le(this.serializer,t);return e instanceof bi&&e.version.isEqual(_r.min())?null:e}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Gi.Ys=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Zs=e,r.Js=n,r.ti=new vr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return or.__extends(e,t),e.prototype.qn=function(t){var e=this,n=[],r=0,i=new Dr(function(t,e){return l(t.$(),e.$())});return this.Cn.forEach(function(o,s){var a=e.ti.get(o);if(s){var u=fe(e.Zs.serializer,s,e.readTime);i=i.add(o.path.p());var c=Ie(u);r+=c-a,n.push(e.Zs.Nn(t,o,u))}else if(r-=a,e.Js){var h=fe(e.Zs.serializer,new bi(o,_r.min()),e.readTime);n.push(e.Zs.Nn(t,o,h))}else n.push(e.Zs.xn(t,o))}),i.forEach(function(r){n.push(e.Zs.Kn.Cs(t,r))}),n.push(this.Zs.updateMetadata(t,r)),xi.Sn(n)},e.prototype.On=function(t,e){var n=this;return this.Zs.Os(t,e).next(function(t){return null===t?(n.ti.set(e,0),null):(n.ti.set(e,t.size),t.Ls)})},e.prototype.Ln=function(t,e){var n=this;return this.Zs.Bs(t,e).next(function(t){var e=t.Us;return t.Ws.forEach(function(t,e){n.ti.set(t,e)}),e})},e}(Di);var Ki=function(){function t(t){this.ei=t}return t.prototype.next=function(){return this.ei+=2,this.ei},t.ni=function(){return new t(0)},t.si=function(){return new t(-1)},t}(),zi=function(){function t(t,e){this.ii=t,this.serializer=e}return t.prototype.ri=function(t){var e=this;return this.oi(t).next(function(n){var r=new Ki(n.highestTargetId);return n.highestTargetId=r.next(),e.hi(t,n).next(function(){return n.highestTargetId})})},t.prototype.ai=function(t){return this.oi(t).next(function(t){return _r.I(new mr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ui=function(t){return this.oi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ci=function(t,e,n){var r=this;return this.oi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.hi(t,i)})},t.prototype.li=function(t,e){var n=this;return this._i(t,e).next(function(){return n.oi(t).next(function(r){return r.targetCount+=1,n.fi(e,r),n.hi(t,r)})})},t.prototype.di=function(t,e){return this._i(t,e)},t.prototype.wi=function(t,e){var n=this;return this.Ti(t,e.targetId).next(function(){return Te(t).delete(e.targetId)}).next(function(){return n.oi(t)}).next(function(e){return u(e.targetCount>0),e.targetCount-=1,n.hi(t,e)})},t.prototype.Ei=function(t,e,n){var r=this,i=0,o=[];return Te(t).Qs(function(s,a){var u=me(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.wi(t,u)))}).next(function(){return xi.Sn(o)}).next(function(){return i})},t.prototype.pe=function(t,e){return Te(t).Qs(function(t,n){var r=me(n);e(r)})},t.prototype.oi=function(t){return Ce(t).get(po.key).next(function(t){return u(null!==t),t})},t.prototype.hi=function(t,e){return Ce(t).put(po.key,e)},t.prototype._i=function(t,e){return Te(t).put(_e(this.serializer,e))},t.prototype.fi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Ii=function(t){return this.oi(t).next(function(t){return t.targetCount})},t.prototype.mi=function(t,e){var n=w(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Te(t).Qs({range:r,index:lo.queryTargetsIndexName},function(t,n,r){var o=me(n);E(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.Ai=function(t,e,n){var r=this,i=[],o=Se(t);return e.forEach(function(e){var s=se(e.path);i.push(o.put(new fo(n,s))),i.push(r.ii.Ri(t,n,e))}),xi.Sn(i)},t.prototype.Pi=function(t,e,n){var r=this,i=Se(t);return xi.forEach(e,function(e){var o=se(e.path);return xi.Sn([i.delete([n,o]),r.ii.gi(t,n,e)])})},t.prototype.Ti=function(t,e){var n=Se(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Vi=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Se(t),i=k();return r.Qs({range:n,yi:!0},function(t,e,n){var r=ce(t[1]),o=new Tr(r);i=i.add(o)}).next(function(){return i})},t.prototype.pi=function(t,e){var n=se(e.path),r=IDBKeyRange.bound([n],[p(n)],!1,!0),i=0;return Se(t).Qs({index:fo.documentTargetsIndex,yi:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Me=function(t,e){return Te(t).get(e).next(function(t){return t?me(t):null})},t}(),Qi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bi=e,r.vi=n,r}return or.__extends(e,t),e}(Mi),Yi=function(){function t(e,n,r,i,s,a,u,c,h,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ts=s,this.window=a,this.document=u,this.Si=h,this.Di=l,this.Ci=null,this.Fi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.$i=null,this.inForeground=!1,this.Ni=null,this.ki=null,this.xi=Number.NEGATIVE_INFINITY,this.Mi=function(t){return Promise.resolve()},!t.Oi())throw new yr(gr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.ii=new Ji(this,i),this.Li=n+"main",this.serializer=new Hi(c),this.qi=new zi(this.ii,this.serializer),this.Kn=new $i,this.Qn=new Gi(this.serializer,this.Kn),this.window&&this.window.localStorage?this.Bi=this.window.localStorage:(this.Bi=null,!1===l&&o("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ns=function(t,e){if(t instanceof Xi)return mo.Ns(t.bi,e);throw a()},t.prototype.start=function(){var t=this;return mo.Ui(this.Li,to,new eo(this.serializer)).then(function(e){return t.Wi=e,t.Qi()}).then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new yr(gr.FAILED_PRECONDITION,Qi);return t.ji(),t.Ki(),t.Gi(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qi.ui(e)})}).then(function(e){t.Ci=new Ui(e,t.Si)}).then(function(){t.Fi=!0}).catch(function(e){return t.Wi&&t.Wi.close(),Promise.reject(e)})},t.prototype.zi=function(t){var e=this;return this.Mi=function(n){return or.__awaiter(e,void 0,void 0,function(){return or.__generator(this,function(e){return this.Hi?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Yi=function(t){var e=this;this.Wi.Ji(function(n){return or.__awaiter(e,void 0,void 0,function(){return or.__generator(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Xi=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Ts.Zi(function(){return or.__awaiter(e,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.Hi?[4,this.Qi()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Qi=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ae(e).put(new go(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.tr(e).next(function(e){e||(t.isPrimary=!1,t.Ts.er(function(){return t.Mi(!1)}))})}).next(function(){return t.nr(e)}).next(function(n){return t.isPrimary&&!n?t.sr(e).next(function(){return!1}):!!n&&t.ir(e).next(function(){return!0})})}).catch(function(e){if(Fe(e))return i("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return i("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Ts.er(function(){return t.Mi(e)}),t.isPrimary=e})},t.prototype.tr=function(t){var e=this;return Ne(t).get(ro.key).next(function(t){return xi.resolve(e.rr(t))})},t.prototype.or=function(t){return Ae(t).delete(this.clientId)},t.prototype.hr=function(){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o=this;return or.__generator(this,function(s){switch(s.label){case 0:return!this.isPrimary||this.ar(this.xi,18e5)?[3,2]:(this.xi=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var n=t.Ns(e,go.store);return n.$s().next(function(t){var e=o.ur(t,18e5),r=t.filter(function(t){return-1===e.indexOf(t)});return xi.forEach(r,function(t){return n.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=s.sent(),this.Bi)for(n=0,r=e;n<r.length;n++)i=r[n],this.Bi.removeItem(this.cr(i.clientId));s.label=2;case 2:return[2]}})})},t.prototype.Gi=function(){var t=this;this.ki=this.Ts.bs("client_metadata_refresh",4e3,function(){return t.Qi().then(function(){return t.hr()}).then(function(){return t.Gi()})})},t.prototype.rr=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nr=function(t){var e=this;return this.Di?xi.resolve(!0):Ne(t).get(ro.key).next(function(n){if(null!==n&&e.ar(n.leaseTimestampMs,5e3)&&!e.lr(n.ownerId)){if(e.rr(n)&&e.networkEnabled)return!0;if(!e.rr(n)){if(!n.allowTabSynchronization)throw new yr(gr.FAILED_PRECONDITION,Qi);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ae(t).$s().next(function(t){return void 0===e.ur(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&i("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype._r=function(){return or.__awaiter(this,void 0,void 0,function(){var t=this;return or.__generator(this,function(e){switch(e.label){case 0:return this.Fi=!1,this.dr(),this.ki&&(this.ki.cancel(),this.ki=null),this.wr(),this.Tr(),[4,this.runTransaction("shutdown","readwrite",function(e){return t.sr(e).next(function(){return t.or(e)})}).catch(function(t){i("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)})];case 1:return e.sent(),this.Wi.close(),this.Er(),[2]}})})},t.prototype.ur=function(t,e){var n=this;return t.filter(function(t){return n.ar(t.updateTimeMs,e)&&!n.lr(t.clientId)})},t.prototype.Ir=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ae(e).$s().next(function(e){return t.ur(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Hi",{get:function(){return this.Fi},enumerable:!1,configurable:!0}),t.prototype.mr=function(t){return Zi.Ar(t,this.serializer,this.Kn,this.ii)},t.prototype.Rr=function(){return this.qi},t.prototype.Pr=function(){return this.Qn},t.prototype.gr=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var r=this;i("IndexedDbPersistence","Starting transaction:",t);var s,a="readonly"===e?"readonly":"readwrite";return this.Wi.runTransaction(a,yo,function(i){return s=new Xi(i,r.Ci?r.Ci.next():Ui.ws),"readwrite-primary"===e?r.tr(s).next(function(t){return!!t||r.nr(s)}).next(function(e){if(!e)throw o("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Ts.er(function(){return r.Mi(!1)}),new yr(gr.FAILED_PRECONDITION,Li);return n(s)}).next(function(t){return r.ir(s).next(function(){return t})}):r.Vr(s).next(function(){return n(s)})}).then(function(t){return s.Wn(),t})},t.prototype.Vr=function(t){var e=this;return Ne(t).get(ro.key).next(function(t){if(null!==t&&e.ar(t.leaseTimestampMs,5e3)&&!e.lr(t.ownerId)&&!e.rr(t)&&!(e.Di||e.allowTabSynchronization&&t.allowTabSynchronization))throw new yr(gr.FAILED_PRECONDITION,Qi)})},t.prototype.ir=function(t){var e=new ro(this.clientId,this.allowTabSynchronization,Date.now());return Ne(t).put(ro.key,e)},t.Oi=function(){return mo.Oi()},t.prototype.sr=function(t){var e=this,n=Ne(t);return n.get(ro.key).next(function(t){return e.rr(t)?(i("IndexedDbPersistence","Releasing primary lease."),n.delete(ro.key)):xi.resolve()})},t.prototype.ar=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(o("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.ji=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=function(){t.Ts.Zi(function(){return t.inForeground="visible"===t.document.visibilityState,t.Qi()})},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)},t.prototype.wr=function(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)},t.prototype.Ki=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.$i=function(){e.dr(),e.Ts.Zi(function(){return e._r()})},this.window.addEventListener("unload",this.$i))},t.prototype.Tr=function(){this.$i&&(this.window.removeEventListener("unload",this.$i),this.$i=null)},t.prototype.lr=function(t){var e;try{var n=null!==(null===(e=this.Bi)||void 0===e?void 0:e.getItem(this.cr(t)));return i("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return o("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.dr=function(){if(this.Bi)try{this.Bi.setItem(this.cr(this.clientId),String(Date.now()))}catch(t){o("Failed to set zombie client id.",t)}},t.prototype.Er=function(){if(this.Bi)try{this.Bi.removeItem(this.cr(this.clientId))}catch(t){}},t.prototype.cr=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}(),Ji=function(){function t(t,e){this.db=t,this.yr=new Oo(this,e)}return t.prototype.pr=function(t){var e=this.br(t);return this.db.Rr().Ii(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.br=function(t){var e=0;return this.vr(t,function(t){e++}).next(function(){return e})},t.prototype.pe=function(t,e){return this.db.Rr().pe(t,e)},t.prototype.vr=function(t,e){return this.Sr(t,function(t,n){return e(n)})},t.prototype.Ri=function(t,e,n){return ke(t,n)},t.prototype.gi=function(t,e,n){return ke(t,n)},t.prototype.Ei=function(t,e,n){return this.db.Rr().Ei(t,e,n)},t.prototype.Dr=function(t,e){return ke(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Le(t).Fr(function(r){return Pe(t,r,e).next(function(t){return t&&(n=!0),xi.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.$r=function(t,e){var n=this,r=this.db.Pr().Hs(),i=[],o=0;return this.Sr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r.Mn(t,s).next(function(){return r.xn(s),Se(t).delete([0,se(s.path)])})});i.push(u)}}).next(function(){return xi.Sn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Z(t.vi);return this.db.Rr().di(t,n)},t.prototype.Nr=function(t,e){return ke(t,e)},t.prototype.Sr=function(t,e){var n,r=Se(t),i=Ui.ws;return r.Qs({index:fo.documentTargetsIndex},function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==Ui.ws&&e(new Tr(ce(n)),i),i=a,n=s):i=Ui.ws}).next(function(){i!==Ui.ws&&e(new Tr(ce(n)),i)})},t.prototype.kr=function(t){return this.db.Pr().Xs(t)},t}(),Zi=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Kn=n,this.ii=r,this.xr={}}return t.Ar=function(e,n,r,i){return u(""!==e.uid),new t(e.Mr()?e.uid:"",n,r,i)},t.prototype.Or=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xe(t).Qs({index:oo.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Lr=function(t,e,n,r){var i=this,o=De(t),s=xe(t);return s.add({}).next(function(a){u("number"==typeof a);for(var c=new Pi(a,e,n,r),h=function(t,e,n){var r=n.baseMutations.map(function(e){return ft(t.ks,e)}),i=n.mutations.map(function(e){return ft(t.ks,e)});return new oo(e,n.batchId,n.dn.toMillis(),r,i)}(i.serializer,i.userId,c),f=[],p=new Dr(function(t,e){return l(t.$(),e.$())}),d=0,v=r;d<v.length;d++){var g=v[d],y=so.key(i.userId,g.key.path,a);p=p.add(g.key.path.p()),f.push(s.put(h)),f.push(o.put(y,so.PLACEHOLDER))}return p.forEach(function(e){f.push(i.Kn.Cs(t,e))}),t.Un(function(){i.xr[a]=c.keys()}),xi.Sn(f).next(function(){return c})})},t.prototype.qr=function(t,e){var n=this;return xe(t).get(e).next(function(t){return t?(u(t.userId===n.userId),ye(n.serializer,t)):null})},t.prototype.Br=function(t,e){var n=this;return this.xr[e]?xi.resolve(this.xr[e]):this.qr(t,e).next(function(t){if(t){var r=t.keys();return n.xr[e]=r,r}return null})},t.prototype.Ur=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return xe(t).Qs({index:oo.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(u(e.batchId>=r),o=ye(n.serializer,e)),i.done()}).next(function(){return o})},t.prototype.Wr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xe(t).Qs({index:oo.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.Qr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xe(t).$s(oo.userMutationsIndex,n).next(function(t){return t.map(function(t){return ye(e.serializer,t)})})},t.prototype.zn=function(t,e){var n=this,r=so.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return De(t).Qs({range:i},function(r,i,s){var c=r[0],h=r[1],l=r[2],f=ce(h);if(c===n.userId&&e.path.isEqual(f))return xe(t).get(l).next(function(t){if(!t)throw a();u(t.userId===n.userId),o.push(ye(n.serializer,t))});s.done()}).next(function(){return o})},t.prototype.Zn=function(t,e){var n=this,r=new Dr(l),i=[];return e.forEach(function(e){var o=so.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=De(t).Qs({range:s},function(t,i,o){var s=t[0],a=t[1],u=t[2],c=ce(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(a)}),xi.Sn(i).next(function(){return n.jr(t,r)})},t.prototype.os=function(t,e){var n=this,r=e.path,i=r.length+1,o=so.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Dr(l);return De(t).Qs({range:s},function(t,e,o){var s=t[0],u=t[1],c=t[2],h=ce(u);s===n.userId&&r.D(h)?h.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.jr(t,a)})},t.prototype.jr=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(xe(t).get(e).next(function(t){if(null===t)throw a();u(t.userId===n.userId),r.push(ye(n.serializer,t))}))}),xi.Sn(i).next(function(){return r})},t.prototype.Kr=function(t,e){var n=this;return Re(t.bi,this.userId,e).next(function(r){return t.Un(function(){n.Gr(e.batchId)}),xi.forEach(r,function(e){return n.ii.Dr(t,e)})})},t.prototype.Gr=function(t){delete this.xr[t]},t.prototype.zr=function(t){var e=this;return this.Or(t).next(function(n){if(!n)return xi.resolve();var r=IDBKeyRange.lowerBound(so.prefixForUser(e.userId)),i=[];return De(t).Qs({range:r},function(t,n,r){if(t[0]===e.userId){var o=ce(t[1]);i.push(o)}else r.done()}).next(function(){u(0===i.length)})})},t.prototype.pi=function(t,e){return Pe(t,this.userId,e)},t.prototype.Hr=function(t){var e=this;return Le(t).get(this.userId).next(function(t){return t||new io(e.userId,-1,"")})},t}(),to=10,eo=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;u(n<r&&n>=0&&r<=to);var o=new wo(e);n<1&&r>=1&&(function(t){t.createObjectStore(ro.store)}(t),function(t){t.createObjectStore(io.store,{keyPath:io.keyPath}),t.createObjectStore(oo.store,{keyPath:oo.keyPath,autoIncrement:!0}).createIndex(oo.userMutationsIndex,oo.userMutationsKeyPath,{unique:!0}),t.createObjectStore(so.store)}(t),Me(t),function(t){t.createObjectStore(co.store)}(t));var s=xi.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(fo.store),t.deleteObjectStore(lo.store),t.deleteObjectStore(po.store)}(t),Me(t)),s=s.next(function(){return function(t){var e=t.store(po.store),n=new po(0,0,_r.min().A(),0);return e.put(po.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(oo.store).$s().next(function(n){t.deleteObjectStore(oo.store),t.createObjectStore(oo.store,{keyPath:oo.keyPath,autoIncrement:!0}).createIndex(oo.userMutationsIndex,oo.userMutationsKeyPath,{unique:!0});var r=e.store(oo.store),i=n.map(function(t){return r.put(t)});return xi.Sn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(go.store,{keyPath:go.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.removeAcknowledgedMutations(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(ho.store)}(t),i.addDocumentGlobal(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ensureSequenceNumbers(o)})),n<8&&r>=8&&(s=s.next(function(){return i.createCollectionParentIndex(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(co.store);e.createIndex(co.readTimeIndex,co.readTimeIndexPath,{unique:!1}),e.createIndex(co.collectionReadTimeIndex,co.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.rewriteCanonicalIds(o)})),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(co.store).Qs(function(t,n){e+=Ie(n)}).next(function(){var n=new ho(e);return t.store(ho.store).put(ho.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(io.store),r=t.store(oo.store);return n.$s().next(function(n){return xi.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.$s(oo.userMutationsIndex,i).next(function(r){return xi.forEach(r,function(r){u(r.userId===n.userId);var i=ye(e.serializer,r);return Re(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(fo.store),n=t.store(co.store);return t.store(po.store).get(po.key).next(function(t){var r=[];return n.Qs(function(n,i){var o=new wr(n),s=function(t){return[0,se(t)]}(o);r.push(e.get(s).next(function(n){return n?xi.resolve():function(n){return e.put(new fo(0,se(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return xi.Sn(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(vo.store,{keyPath:vo.keyPath});var n=e.store(vo.store),r=new Wi,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:se(i)})}};return e.store(co.store).Qs({yi:!0},function(t,e){var n=new wr(t);return i(n.p())}).next(function(){return e.store(so.store).Qs({yi:!0},function(t,e){t[0];var n=t[1],r=(t[2],ce(n));return i(r.p())})})},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(lo.store);return n.Qs(function(t,r){var i=me(r),o=_e(e.serializer,i);return n.put(o)})},t}(),no=function(t,e){this.seconds=t,this.nanoseconds=e},ro=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ro.store="owner",ro.key="owner";var io=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};io.store="mutationQueues",io.keyPath="userId";var oo=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};oo.store="mutations",oo.keyPath="batchId",oo.userMutationsIndex="userMutationsIndex",oo.userMutationsKeyPath=["userId","batchId"];var so=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,se(e)]},t.key=function(t,e,n){return[t,se(e),n]},t}();so.store="documentMutations",so.PLACEHOLDER=new so;var ao=function(t,e){this.path=t,this.readTime=e},uo=function(t,e){this.path=t,this.version=e},co=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};co.store="remoteDocuments",co.readTimeIndex="readTimeIndex",co.readTimeIndexPath="readTime",co.collectionReadTimeIndex="collectionReadTimeIndex",co.collectionReadTimeIndexPath=["parentPath","readTime"];var ho=function(t){this.byteSize=t};ho.store="remoteDocumentGlobal",ho.key="remoteDocumentGlobalKey";var lo=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};lo.store="targets",lo.keyPath="targetId",lo.queryTargetsIndexName="queryTargetsIndex",lo.queryTargetsKeyPath=["canonicalId","targetId"];var fo=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};fo.store="targetDocuments",fo.keyPath=["targetId","path"],fo.documentTargetsIndex="documentTargetsIndex",fo.documentTargetsKeyPath=["path","targetId"];var po=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};po.key="targetGlobalKey",po.store="targetGlobal";var vo=function(t,e){this.collectionId=t,this.parent=e};vo.store="collectionParents",vo.keyPath=["collectionId","parent"];var go=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};go.store="clientMetadata",go.keyPath="clientId";var yo=or.__spreadArrays(or.__spreadArrays(or.__spreadArrays([io.store,oo.store,so.store,co.store,lo.store,ro.store,po.store,fo.store],[go.store]),[ho.store]),[vo.store]),mo=function(){function e(t){this.db=t,12.2===e.Yr(ur.getUA())&&o("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.Ui=function(t,n,r){return i("SimpleDb","Opening database:",t),new xi(function(o,s){var a=indexedDB.open(t,n);a.onsuccess=function(t){var n=t.target.result;o(new e(n))},a.onblocked=function(){s(new yr(gr.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;s("VersionError"===e.name?new yr(gr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(e){i("SimpleDb",'Database "'+t+'" requires upgrade from version:',e.oldVersion);var n=e.target.result;r.createOrUpgrade(n,a.transaction,e.oldVersion,to).next(function(){i("SimpleDb","Database upgrade to version "+to+" complete")})}}).bn()},e.delete=function(t){return i("SimpleDb","Removing database:",t),je(window.indexedDB.deleteDatabase(t)).bn()},e.Oi=function(){if("undefined"==typeof indexedDB)return!1;if(e.Jr())return!0;var t=ur.getUA(),n=e.Yr(t),r=0<n&&n<10,i=e.Xr(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Jr=function(){var e;return void 0!==t&&"YES"===(null===(e=Object({NODE_ENV:"production"}))||void 0===e?void 0:e.Zr)},e.Ns=function(t,e){return t.store(e)},e.Yr=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Xr=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Ji=function(t){this.db.onversionchange=function(e){return t(e)}},e.prototype.runTransaction=function(t,e,n){return or.__awaiter(this,void 0,void 0,function(){var r,o,s,a,u;return or.__generator(this,function(c){switch(c.label){case 0:r="readonly"===t,o=0,s=function(){var t,s,u,c,h;return or.__generator(this,function(l){switch(l.label){case 0:++o,t=wo.open(a.db,r?"readonly":"readwrite",e),l.label=1;case 1:return l.trys.push([1,3,,4]),s=n(t).catch(function(e){return t.abort(e),xi.reject(e)}).bn(),u={},s.catch(function(){}),[4,t.to];case 2:return[2,(u.value=(l.sent(),s),u)];case 3:return c=l.sent(),h="FirebaseError"!==c.name&&o<3,i("SimpleDb","Transaction failed with error: %s. Retrying: %s.",c.message,h),h?[3,4]:[2,{value:Promise.reject(c)}];case 4:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db.close()},e}(),_o=function(){function t(t){this.eo=t,this.no=!1,this.so=null}return Object.defineProperty(t.prototype,"gn",{get:function(){return this.no},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"io",{get:function(){return this.so},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.eo=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.no=!0},t.prototype.js=function(t){this.so=t},t.prototype.delete=function(){return je(this.eo.delete())},t}(),bo=function(t){function e(e){var n=this;return(n=t.call(this,gr.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return or.__extends(e,t),e}(yr),wo=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.ro=new Vi,this.transaction.oncomplete=function(){e.ro.resolve()},this.transaction.onabort=function(){t.error?e.ro.reject(new bo(t.error)):e.ro.resolve()},this.transaction.onerror=function(t){var n=Ue(t.target.error);e.ro.reject(new bo(n))}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"to",{get:function(){return this.ro.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ro.reject(t),this.aborted||(i("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Eo(e)},t}(),Eo=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(i("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(i("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),je(n)},t.prototype.add=function(t){return i("SimpleDb","ADD",this.store.name,t,t),je(this.store.add(t))},t.prototype.get=function(t){var e=this;return je(this.store.get(t)).next(function(n){return void 0===n&&(n=null),i("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return i("SimpleDb","DELETE",this.store.name,t),je(this.store.delete(t))},t.prototype.count=function(){return i("SimpleDb","COUNT",this.store.name),je(this.store.count())},t.prototype.$s=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.oo(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.ho=function(t,e){i("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.yi=!1;var r=this.cursor(n);return this.oo(r,function(t,e,n){return n.delete()})},t.prototype.Qs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.oo(r,e)},t.prototype.Fr=function(t){var e=this.cursor({});return new xi(function(n,r){e.onerror=function(t){var e=Ue(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.oo=function(t,e){var n=[];return new xi(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _o(i),s=e(i.primaryKey,i.value,o);if(s instanceof xi){var a=s.catch(function(t){return o.done(),xi.reject(t)});n.push(a)}o.gn?r():null===o.io?i.continue():i.continue(o.io)}else r()}}).next(function(){return xi.Sn(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.yi?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),Io=!1,To=function(){function t(t,e,n,r,i){this.ao=t,this.Es=e,this.uo=n,this.op=r,this.co=i,this.lo=new Vi,this.then=this.lo.promise.then.bind(this.lo.promise),this.lo.promise.catch(function(t){})}return t._o=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.fo=setTimeout(function(){return e.do()},t)},t.prototype.Ss=function(){return this.do()},t.prototype.cancel=function(t){null!==this.fo&&(this.clearTimeout(),this.lo.reject(new yr(gr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.do=function(){var t=this;this.ao.Zi(function(){return null!==t.fo?(t.clearTimeout(),t.op().then(function(e){return t.lo.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.fo&&(this.co(this),clearTimeout(this.fo),this.fo=null)},t}(),Co=function(){function t(){var t=this;this.wo=Promise.resolve(),this.To=[],this.Eo=!1,this.Io=[],this.mo=null,this.Ao=!1,this.Ro=[],this.Po=new qi(this,"async_queue_retry"),this.Vo=function(){return t.Po.vs()};var e=Ve();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vo)}return Object.defineProperty(t.prototype,"yo",{get:function(){return this.Eo},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){this.enqueue(t)},t.prototype.po=function(t){this.bo(),this.vo(t)},t.prototype.So=function(t){return this.bo(),this.vo(t)},t.prototype.Do=function(t){return or.__awaiter(this,void 0,void 0,function(){var e;return or.__generator(this,function(n){switch(n.label){case 0:return this.bo(),this.Eo?[3,2]:(this.Eo=!0,(e=Ve())&&e.removeEventListener("visibilitychange",this.Vo),[4,this.So(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.bo(),this.Eo?new Promise(function(t){}):this.vo(t)},t.prototype.er=function(t){var e=this;this.To.push(t),this.Zi(function(){return e.Co()})},t.prototype.Co=function(){return or.__awaiter(this,void 0,void 0,function(){var t,e=this;return or.__generator(this,function(n){switch(n.label){case 0:if(0===this.To.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.To[0]()];case 2:return n.sent(),this.To.shift(),this.Po.reset(),[3,4];case 3:if(!Fe(t=n.sent()))throw t;return i("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.To.length>0&&this.Po.ys(function(){return e.Co()}),n.label=5;case 5:return[2]}})})},t.prototype.vo=function(t){var e=this,n=this.wo.then(function(){return e.Ao=!0,t().catch(function(t){throw e.mo=t,e.Ao=!1,o("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ao=!1,t})});return this.wo=n,n},t.prototype.bs=function(t,e,n){var r=this;this.bo(),this.Ro.indexOf(t)>-1&&(e=0);var i=To._o(this,t,e,n,function(t){return r.Fo(t)});return this.Io.push(i),i},t.prototype.bo=function(){this.mo&&a()},t.prototype.$o=function(){},t.prototype.No=function(){return or.__awaiter(this,void 0,void 0,function(){var t;return or.__generator(this,function(e){switch(e.label){case 0:return[4,t=this.wo];case 1:e.sent(),e.label=2;case 2:if(t!==this.wo)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.ko=function(t){for(var e=0,n=this.Io;e<n.length;e++)if(n[e].Es===t)return!0;return!1},t.prototype.xo=function(t){var e=this;return this.No().then(function(){e.Io.sort(function(t,e){return t.uo-e.uo});for(var n=0,r=e.Io;n<r.length;n++){var i=r[n];if(i.Ss(),"all"!==t&&i.Es===t)break}return e.No()})},t.prototype.Mo=function(t){this.Ro.push(t)},t.prototype.Fo=function(t){var e=this.Io.indexOf(t);this.Io.splice(e,1)},t}(),So=function(){function t(t){this.Oo=t,this.buffer=new Dr(Be),this.Lo=0}return t.prototype.qo=function(){return++this.Lo},t.prototype.Bo=function(t){var e=[t,this.qo()];if(this.buffer.size<this.Oo)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Be(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),No={Uo:!1,Wo:0,Qo:0,jo:0},Ao=function(){function t(t,e,n){this.Ko=t,this.Go=e,this.zo=n}return t.Ho=function(e){return new t(e,t.Yo,t.Jo)},t}();Ao.Xo=-1,Ao.Zo=1048576,Ao.th=41943040,Ao.Yo=10,Ao.Jo=1e3,Ao.eh=new Ao(Ao.th,Ao.Yo,Ao.Jo),Ao.nh=new Ao(Ao.Xo,0,0);var ko=function(){function t(t,e){this.yr=t,this.ao=e,this.sh=!1,this.ih=null}return t.prototype.start=function(t){this.yr.params.Ko!==Ao.Xo&&this.rh(t)},t.prototype.stop=function(){this.ih&&(this.ih.cancel(),this.ih=null)},Object.defineProperty(t.prototype,"Hi",{get:function(){return null!==this.ih},enumerable:!1,configurable:!0}),t.prototype.rh=function(t){var e=this,n=this.sh?3e5:6e4;i("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ih=this.ao.bs("lru_garbage_collection",n,function(){return or.__awaiter(e,void 0,void 0,function(){var e;return or.__generator(this,function(n){switch(n.label){case 0:this.ih=null,this.sh=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.oh(this.yr)];case 2:return n.sent(),[3,7];case 3:return Fe(e=n.sent())?(i("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,He(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.rh(t)];case 8:return n.sent(),[2]}})})})},t}(),Oo=function(){function t(t,e){this.hh=t,this.params=e}return t.prototype.ah=function(t,e){return this.hh.pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.uh=function(t,e){var n=this;if(0===e)return xi.resolve(Ui.ws);var r=new So(e);return this.hh.pe(t,function(t){return r.Bo(t.sequenceNumber)}).next(function(){return n.hh.vr(t,function(t){return r.Bo(t)})}).next(function(){return r.maxValue})},t.prototype.Ei=function(t,e,n){return this.hh.Ei(t,e,n)},t.prototype.$r=function(t,e){return this.hh.$r(t,e)},t.prototype.lh=function(t,e){var n=this;return this.params.Ko===Ao.Xo?(i("LruGarbageCollector","Garbage collection skipped; disabled"),xi.resolve(No)):this.kr(t).next(function(r){return r<n.params.Ko?(i("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Ko),No):n._h(t,e)})},t.prototype.kr=function(t){return this.hh.kr(t)},t.prototype._h=function(t,e){var n,o,s,a,u,c,h,l=this,f=Date.now();return this.ah(t,this.params.Go).next(function(e){return e>l.params.zo?(i("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.zo+" from "+e),o=l.params.zo):o=e,a=Date.now(),l.uh(t,o)}).next(function(r){return n=r,u=Date.now(),l.Ei(t,n,e)}).next(function(e){return s=e,c=Date.now(),l.$r(t,n)}).next(function(t){return h=Date.now(),r()<=ar.LogLevel.DEBUG&&i("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-f)+"ms\n\tDetermined least recently used "+o+" in "+(u-a)+"ms\n\tRemoved "+s+" targets in "+(c-u)+"ms\n\tRemoved "+t+" documents in "+(h-c)+"ms\nTotal Duration: "+(h-f)+"ms"),xi.resolve({Uo:!0,Wo:o,Qo:s,jo:t})})},t}(),Po=function(){function t(t,e,n){this.persistence=t,this.fh=e,this.dh=new Pr(l),this.wh=new vr(function(t){return w(t)},E),this.Th=_r.min(),this.jn=t.mr(n),this.Eh=t.Pr(),this.qi=t.Rr(),this.Ih=new Fi(this.Eh,this.jn,this.persistence.gr()),this.fh.mh(this.Ih)}return t.prototype.Ah=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,i=this;return or.__generator(this,function(o){switch(o.label){case 0:return e=this.jn,n=this.Ih,[4,this.persistence.runTransaction("Handle user change","readonly",function(r){var o;return i.jn.Qr(r).next(function(s){return o=s,e=i.persistence.mr(t),n=new Fi(i.Eh,e,i.persistence.gr()),e.Qr(r)}).next(function(t){for(var e=[],i=[],s=k(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var h=0,l=c.mutations;h<l.length;h++){var f=l[h];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];s=s.add(m.key)}}return n.Jn(r,s).next(function(t){return{Rh:t,Ph:e,gh:i}})})})];case 1:return r=o.sent(),[2,(this.jn=e,this.Ih=n,this.fh.mh(this.Ih),r)]}})})},t.prototype.Vh=function(t){var e,n=this,r=mr.now(),i=t.reduce(function(t,e){return t.add(e.key)},k());return this.persistence.runTransaction("Locally write mutations","readwrite",function(o){return n.Ih.Jn(o,i).next(function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],h=Dt(c,e.get(c.key));null!=h&&s.push(new fi(c.key,h,Vt(h.proto.mapValue),ci.exists(!0)))}return n.jn.Lr(o,r,s,t)})}).then(function(t){var n=t.In(e);return{batchId:t.batchId,Cn:n}})},t.prototype.yh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.Eh.Hs({Js:!0});return e.ph(n,t,i).next(function(){return i.apply(n)}).next(function(){return e.jn.zr(n)}).next(function(){return e.Ih.Jn(n,r)})})},t.prototype.bh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.jn.qr(n,t).next(function(t){return u(null!==t),r=t.keys(),e.jn.Kr(n,t)}).next(function(){return e.jn.zr(n)}).next(function(){return e.Ih.Jn(n,r)})})},t.prototype.Wr=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.jn.Wr(e)})},t.prototype.ai=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qi.ai(e)})},t.prototype.vh=function(e){var n=this,r=e.X,o=this.dh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Eh.Hs({Js:!0});o=n.dh;var u=[];e.Wt.forEach(function(e,i){var a=o.get(i);if(a){u.push(n.qi.Pi(s,e.Xt,i).next(function(){return n.qi.Ai(s,e.Yt,i)}));var c=e.resumeToken;if(c.H()>0){var h=a.tt(c,r).Z(s.vi);o=o.nt(i,h),t.Sh(a,h,e)&&u.push(n.qi.di(s,h))}}});var c=S(),h=k();if(e.jt.forEach(function(t,e){h=h.add(t)}),u.push(a.getEntries(s,h).next(function(t){e.jt.forEach(function(o,h){var l=t.get(o);h instanceof bi&&h.version.isEqual(_r.min())?(a.xn(o,r),c=c.nt(o,h)):null==l||h.version.o(l.version)>0||0===h.version.o(l.version)&&l.hasPendingWrites?(a.Nn(h,r),c=c.nt(o,h)):i("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",h.version),e.Kt.has(o)&&u.push(n.persistence.ii.Nr(s,o))})})),!r.isEqual(_r.min())){var l=n.qi.ai(s).next(function(t){return n.qi.ci(s,s.vi,r)});u.push(l)}return xi.Sn(u).next(function(){return a.apply(s)}).next(function(){return n.Ih.Xn(s,c)})}).then(function(t){return n.dh=o,t})},t.Sh=function(t,e,n){return u(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Dh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.Ch=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,o,s,a,u,c,h=this;return or.__generator(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return xi.forEach(t,function(t){return xi.forEach(t.as,function(n){return h.persistence.ii.Ri(e,t.targetId,n)}).next(function(){return xi.forEach(t.us,function(n){return h.persistence.ii.gi(e,t.targetId,n)})})})})];case 1:return l.sent(),[3,3];case 2:if(!Fe(e=l.sent()))throw e;return i("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)o=r[n],s=o.targetId,o.fromCache||(a=this.dh.get(s),u=a.X,c=a.et(u),this.dh=this.dh.nt(s,c));return[2]}})})},t.prototype.Fh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.jn.Ur(n,t)})},t.prototype.$h=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.Ih.Gn(n,t)})},t.prototype.Nh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",function(n){var r;return e.qi.mi(n,t).next(function(i){return i?(r=i,xi.resolve(r)):e.qi.ri(n).next(function(i){return r=new kr(t,i,0,n.vi),e.qi.li(n,r).next(function(){return r})})})}).then(function(n){var r=e.dh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.dh=e.dh.nt(n.targetId,n),e.wh.set(t,n.targetId)),n})},t.prototype.mi=function(t,e){var n=this.wh.get(e);return void 0!==n?xi.resolve(this.dh.get(n)):this.qi.mi(t,e)},t.prototype.kh=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,o,s=this;return or.__generator(this,function(a){switch(a.label){case 0:n=this.dh.get(t),r=e?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,function(t){return s.persistence.ii.removeTarget(t,n)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Fe(o=a.sent()))throw o;return i("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return this.dh=this.dh.remove(t),this.wh.delete(n.target),[2]}})})},t.prototype.xh=function(t,e){var n=this,r=_r.min(),i=k();return this.persistence.runTransaction("Execute query","readonly",function(o){return n.mi(o,Gt(t)).next(function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.qi.Vi(o,t.targetId).next(function(t){i=t})}).next(function(){return n.fh.ts(o,t,e?r:_r.min(),e?i:k())}).next(function(t){return{documents:t,Mh:i}})})},t.prototype.ph=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=xi.resolve();return o.forEach(function(r){s=s.next(function(){return n.Mn(t,r)}).next(function(t){var o=t,s=e.An.get(r);u(null!==s),(!o||o.version.o(s)<0)&&(o=i.wn(r,o,e))&&n.Nn(o,e.mn)})}),s.next(function(){return r.jn.Kr(t,i)})},t.prototype.oh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.lh(n,e.dh)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Po.Dh=3e8;var Ro=function(){function t(){this.Oh=new Dr(xo.Lh),this.qh=new Dr(xo.Bh)}return t.prototype._=function(){return this.Oh._()},t.prototype.Ri=function(t,e){var n=new xo(t,e);this.Oh=this.Oh.add(n),this.qh=this.qh.add(n)},t.prototype.Uh=function(t,e){var n=this;t.forEach(function(t){return n.Ri(t,e)})},t.prototype.gi=function(t,e){this.Wh(new xo(t,e))},t.prototype.Qh=function(t,e){var n=this;t.forEach(function(t){return n.gi(t,e)})},t.prototype.jh=function(t){var e=this,n=new Tr(new wr([])),r=new xo(n,t),i=new xo(n,t+1),o=[];return this.qh.vt([r,i],function(t){e.Wh(t),o.push(t.key)}),o},t.prototype.Kh=function(){var t=this;this.Oh.forEach(function(e){return t.Wh(e)})},t.prototype.Wh=function(t){this.Oh=this.Oh.delete(t),this.qh=this.qh.delete(t)},t.prototype.Gh=function(t){var e=new Tr(new wr([])),n=new xo(e,t),r=new xo(e,t+1),i=k();return this.qh.vt([n,r],function(t){i=i.add(t.key)}),i},t.prototype.pi=function(t){var e=new xo(t,0),n=this.Oh.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),xo=function(){function t(t,e){this.key=t,this.zh=e}return t.Lh=function(t,e){return Tr.P(t.key,e.key)||l(t.zh,e.zh)},t.Bh=function(t,e){return l(t.zh,e.zh)||Tr.P(t.key,e.key)},t}(),Do=function(){function t(t){pn(),this.Hh=t}return t.fromBase64String=function(e){Ke("Blob.fromBase64String",arguments,1),Xe("Blob.fromBase64String","string",1,e),pn();try{return new t(Sr.fromBase64String(e))}catch(e){throw new yr(gr.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Ke("Blob.fromUint8Array",arguments,1),fn(),!(e instanceof Uint8Array))throw un("Blob.fromUint8Array","Uint8Array",1,e);return new t(Sr.fromUint8Array(e))},t.prototype.toBase64=function(){return Ke("Blob.toBase64",arguments,0),pn(),this.Hh.toBase64()},t.prototype.toUint8Array=function(){return Ke("Blob.toUint8Array",arguments,0),fn(),this.Hh.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Hh.isEqual(t.Hh)},t}(),Lo=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new yr(gr.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+ln(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Xe("FieldPath","string",e,t[e]),0===t[e].length)throw new yr(gr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Yh=new Ir(t)},Mo=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return or.__extends(e,t),e.documentId=function(){return new e(Ir.L().$())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw un("isEqual","FieldPath",1,t);return this.Yh.isEqual(t.Yh)},e}(Lo),Fo=new RegExp("[~\\*/\\[\\]]"),jo=function(){this.Jh=this},Uo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Xh=e,n}return or.__extends(e,t),e.prototype.Zh=function(t){if(2!==t.ta)throw 1===t.ta?t.ea(this.Xh+"() can only appear at the top level of your update data"):t.ea(this.Xh+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(jo),Vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).Xh=e,n}return or.__extends(e,t),e.prototype.Zh=function(t){return new ai(t.path,new ni)},e.prototype.isEqual=function(t){return t instanceof e},e}(jo),qo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xh=e,r.ia=n,r}return or.__extends(e,t),e.prototype.Zh=function(t){var e=dn(this,t,!0),n=this.ia.map(function(t){return wn(t,e)}),r=new ri(n);return new ai(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jo),Bo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xh=e,r.ia=n,r}return or.__extends(e,t),e.prototype.Zh=function(t){var e=dn(this,t,!0),n=this.ia.map(function(t){return wn(t,e)}),r=new ii(n);return new ai(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jo),Wo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xh=e,r.ra=n,r}return or.__extends(e,t),e.prototype.Zh=function(t){var e=new oi(t.serializer,J(t.serializer,this.ra));return new ai(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(jo),$o=function(t){function e(){return t.call(this)||this}return or.__extends(e,t),e.delete=function(){return Ge("FieldValue.delete",arguments),new Ho(new Uo("FieldValue.delete"))},e.serverTimestamp=function(){return Ge("FieldValue.serverTimestamp",arguments),new Ho(new Vo("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ze("FieldValue.arrayUnion",arguments,1),new Ho(new qo("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ze("FieldValue.arrayRemove",arguments,1),new Ho(new Bo("FieldValue.arrayRemove",t))},e.increment=function(t){return Xe("FieldValue.increment","number",1,t),Ke("FieldValue.increment",arguments,1),new Ho(new Wo("FieldValue.increment",t))},e}(jo),Ho=function(t){function e(e){var n=this;return(n=t.call(this)||this).Jh=e,n.Xh=e.Xh,n}return or.__extends(e,t),e.prototype.Zh=function(t){return this.Jh.Zh(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.Jh.isEqual(t.Jh)},e}($o),Go=function(){function t(t,e){if(Ke("GeoPoint",arguments,2),Xe("GeoPoint","number",1,t),Xe("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new yr(gr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new yr(gr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.oa=t,this.ha=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.oa},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.ha},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.oa===t.oa&&this.ha===t.ha},t.prototype.T=function(t){return l(this.oa,t.oa)||l(this.ha,t.ha)},t}(),Ko=/^__.*__$/,zo=function(t,e,n){this.aa=t,this.ua=e,this.ca=n},Qo=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.la=function(t,e){var n=[];return null!==this.Le?n.push(new fi(t,this.data,this.Le,e)):n.push(new li(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pi(t,this.fieldTransforms)),n},t}(),Xo=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.la=function(t,e){var n=[new fi(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new pi(t,this.fieldTransforms)),n},t}(),Yo=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._a(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ta",{get:function(){return this.settings.ta},enumerable:!1,configurable:!0}),t.prototype.fa=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.da=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.fa({path:n,sa:!1});return r.wa(t),r},t.prototype.Ta=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.fa({path:n,sa:!1});return r._a(),r},t.prototype.Ea=function(t){return this.fa({path:void 0,sa:!0})},t.prototype.ea=function(t){return Nn(t,this.settings.methodName,this.settings.Ia||!1,this.path,this.settings.na)},t.prototype.contains=function(t){return void 0!==this.Le.find(function(e){return t.D(e)})||void 0!==this.fieldTransforms.find(function(e){return t.D(e.field)})},t.prototype._a=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.wa(this.path.get(t))},t.prototype.wa=function(t){if(0===t.length)throw this.ea("Document fields must not be empty");if(gn(this.ta)&&Ko.test(t))throw this.ea('Document fields cannot begin and end with "__"')},t}(),Jo=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||vn(t)}return t.prototype.ma=function(t,e,n,r){return void 0===r&&(r=!1),new Yo({ta:t,methodName:e,na:n,path:Ir.k(),sa:!1,Ia:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}(),Zo=function(){function t(t){this.uid=t}return t.prototype.Mr=function(){return null!=this.uid},t.prototype.Aa=function(){return this.Mr()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Zo.UNAUTHENTICATED=new Zo(null),Zo.Ra=new Zo("google-credentials-uid"),Zo.Pa=new Zo("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ts=function(t,e){this.user=e,this.type="OAuth",this.ga={},this.ga.Authorization="Bearer "+t},es=function(){function t(){this.Va=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.ya=function(){},t.prototype.pa=function(t){this.Va=t,t(Zo.UNAUTHENTICATED)},t.prototype.ba=function(){this.Va=null},t}(),ns=function(){function t(t){var e=this;this.va=null,this.currentUser=Zo.UNAUTHENTICATED,this.Sa=!1,this.Da=0,this.Va=null,this.forceRefresh=!1,this.va=function(){e.Da++,e.currentUser=e.Ca(),e.Sa=!0,e.Va&&e.Va(e.currentUser)},this.Da=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.va):(this.va(null),t.get().then(function(t){e.auth=t,e.va&&e.auth.addAuthTokenListener(e.va)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.Da,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.Da!==e?(i("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(u("string"==typeof n.accessToken),new ts(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.ya=function(){this.forceRefresh=!0},t.prototype.pa=function(t){this.Va=t,this.Sa&&t(this.currentUser)},t.prototype.ba=function(){this.auth&&this.auth.removeAuthTokenListener(this.va),this.va=null,this.Va=null},t.prototype.Ca=function(){var t=this.auth&&this.auth.getUid();return u(null===t||"string"==typeof t),new Zo(t)},t}(),rs=function(){function t(t,e){this.Fa=t,this.$a=e,this.type="FirstParty",this.user=Zo.Pa}return Object.defineProperty(t.prototype,"ga",{get:function(){var t={"X-Goog-AuthUser":this.$a},e=this.Fa.auth.Na([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),is=function(){function t(t,e){this.Fa=t,this.$a=e}return t.prototype.getToken=function(){return Promise.resolve(new rs(this.Fa,this.$a))},t.prototype.pa=function(t){t(Zo.Pa)},t.prototype.ba=function(){},t.prototype.ya=function(){},t}(),os=function(){function t(t,e,n,r,i,o){this.Ts=t,this.ka=n,this.xa=r,this.Ma=i,this.listener=o,this.state=0,this.Oa=0,this.La=null,this.stream=null,this.Po=new qi(t,e)}return t.prototype.qa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ba=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ua()},t.prototype.stop=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.qa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Wa=function(){this.state=0,this.Po.reset()},t.prototype.Qa=function(){var t=this;this.Ba()&&null===this.La&&(this.La=this.Ts.bs(this.ka,6e4,function(){return t.ja()}))},t.prototype.Ka=function(t){this.Ga(),this.stream.send(t)},t.prototype.ja=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){return this.Ba()?[2,this.close(0)]:[2]})})},t.prototype.Ga=function(){this.La&&(this.La.cancel(),this.La=null)},t.prototype.close=function(t,e){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(n){switch(n.label){case 0:return this.Ga(),this.Po.cancel(),this.Oa++,3!==t?this.Po.reset():e&&e.code===gr.RESOURCE_EXHAUSTED?(o(e.toString()),o("Using maximum backoff delay to prevent overloading the backend."),this.Po.Vs()):e&&e.code===gr.UNAUTHENTICATED&&this.Ma.ya(),null!==this.stream&&(this.za(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ha(e)];case 1:return n.sent(),[2]}})})},t.prototype.za=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Ya(this.Oa),n=this.Oa;this.Ma.getToken().then(function(e){t.Oa===n&&t.Ja(e)},function(n){e(function(){var e=new yr(gr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Xa(e)})})},t.prototype.Ja=function(t){var e=this,n=this.Ya(this.Oa);this.stream=this.Za(t),this.stream.tu(function(){n(function(){return e.state=2,e.listener.tu()})}),this.stream.Ha(function(t){n(function(){return e.Xa(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ua=function(){var t=this;this.state=4,this.Po.ys(function(){return or.__awaiter(t,void 0,void 0,function(){return or.__generator(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.Xa=function(t){return i("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Ya=function(t){var e=this;return function(n){e.Ts.Zi(function(){return e.Oa===t?n():(i("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ss=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return or.__extends(e,t),e.prototype.Za=function(t){return this.xa.eu("Listen",t)},e.prototype.onMessage=function(t){this.Po.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:a()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(u(void 0===e||"string"==typeof e),Sr.fromBase64String(e||"")):(u(void 0===e||e instanceof Uint8Array),Sr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(t){var e=void 0===t.code?gr.UNKNOWN:C(t.code);return new yr(e,t.message||"")}(s);n=new zr(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;var h=e.documentChange;h.document,h.document.name,h.document.updateTime;var l=st(t,h.document.name),f=nt(h.document.updateTime),p=new gi({mapValue:{fields:h.document.fields}}),d=new _i(l,f,p,{}),v=h.targetIds||[],g=h.removedTargetIds||[];n=new Gr(v,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;var y=e.documentDelete;y.document;var m=st(t,y.document),_=y.readTime?nt(y.readTime):_r.min(),b=new bi(m,_),w=y.removedTargetIds||[];n=new Gr([],w,b.key,b)}else if("documentRemove"in e){e.documentRemove;var E=e.documentRemove;E.document;var I=st(t,E.document),T=E.removedTargetIds||[];n=new Gr([],T,I,null)}else{if(!("filter"in e))return a();e.filter;var S=e.filter;S.targetId;var N=S.count||0,A=new Or(N),k=S.targetId;n=new Kr(k,A)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return _r.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?_r.min():e.readTime?nt(e.readTime):_r.min()}(t);return this.listener.nu(e,n)},e.prototype.su=function(t){var e={};e.database=ct(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=I(r)?{documents:dt(t,r)}:{query:vt(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=tt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return a()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.Ka(e)},e.prototype.iu=function(t){var e={};e.database=ct(this.serializer),e.removeTarget=t,this.Ka(e)},e}(os),as=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.ru=!1,s}return or.__extends(e,t),Object.defineProperty(e.prototype,"ou",{get:function(){return this.ru},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.ru=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.za=function(){this.ru&&this.hu([])},e.prototype.Za=function(t){return this.xa.eu("Write",t)},e.prototype.onMessage=function(t){if(u(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.Po.reset();var e=function(t,e){return t&&t.length>0?(u(void 0!==e),t.map(function(t){return function(t,e){var n=nt(t.updateTime?t.updateTime:e);n.isEqual(_r.min())&&(n=nt(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ui(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=nt(t.commitTime);return this.listener.au(n,e)}return u(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.uu()},e.prototype.cu=function(){var t={};t.database=ct(this.serializer),this.Ka(t)},e.prototype.hu=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return ft(e.serializer,t)})};this.Ka(n)},e}(os),us=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).credentials=e,r.serializer=n,r.lu=!1,r}return or.__extends(e,t),e.prototype._u=function(){if(this.lu)throw new yr(gr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.start=function(t){this.xa=t},e.prototype.fu=function(t,e){var n=this;return this._u(),this.credentials.getToken().then(function(r){return n.xa.fu(t,e,r)}).catch(function(t){throw t.code===gr.UNAUTHENTICATED&&n.credentials.ya(),t})},e.prototype.du=function(t,e){var n=this;return this._u(),this.credentials.getToken().then(function(r){return n.xa.du(t,e,r)}).catch(function(t){throw t.code===gr.UNAUTHENTICATED&&n.credentials.ya(),t})},e}(function(){}),cs=function(){function t(t){this.wu=t,this.Tu=new Map,this.mutations=[],this.Eu=!1,this.Iu=null,this.mu=new Set}return t.prototype.Au=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n=this;return or.__generator(this,function(r){switch(r.label){case 0:if(this.Ru(),this.mutations.length>0)throw new yr(gr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s;return or.__generator(this,function(h){switch(h.label){case 0:return n=c(t),r={database:ct(n.serializer),documents:e.map(function(t){return ot(n.serializer,t)})},[4,n.du("BatchGetDocuments",r)];case 1:return i=h.sent(),o=new Map,i.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){u(!!e.found),e.found.name,e.found.updateTime;var n=st(t,e.found.name),r=nt(e.found.updateTime),i=new gi({mapValue:{fields:e.found.fields}});return new _i(n,r,i,{})}(t,e):"missing"in e?function(t,e){u(!!e.missing),u(!!e.readTime);var n=st(t,e.missing),r=nt(e.readTime);return new bi(n,r)}(t,e):a()}(n.serializer,t);o.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=o.get(t.toString());u(!!e),s.push(e)}),s)]}})})}(this.wu,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof bi||t instanceof _i?n.Pu(t):a()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.la(t,this.Ue(t))),this.mu.add(t)},t.prototype.update=function(t,e){try{this.write(e.la(t,this.gu(t)))}catch(t){this.Iu=t}this.mu.add(t)},t.prototype.delete=function(t){this.write([new di(t,this.Ue(t))]),this.mu.add(t)},t.prototype.commit=function(){return or.__awaiter(this,void 0,void 0,function(){var t,e=this;return or.__generator(this,function(n){switch(n.label){case 0:if(this.Ru(),this.Iu)throw this.Iu;return t=this.Tu,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=new Tr(wr.N(n));e.mutations.push(new vi(r,e.Ue(r)))}),[4,function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r;return or.__generator(this,function(i){switch(i.label){case 0:return n=c(t),r={database:ct(n.serializer),writes:e.map(function(t){return ft(n.serializer,t)})},[4,n.fu("Commit",r)];case 1:return i.sent(),[2]}})})}(this.wu,this.mutations)];case 1:return n.sent(),this.Eu=!0,[2]}})})},t.prototype.Pu=function(t){var e;if(t instanceof _i)e=t.version;else{if(!(t instanceof bi))throw a();e=_r.min()}var n=this.Tu.get(t.key.toString());if(n){if(!e.isEqual(n))throw new yr(gr.ABORTED,"Document version changed between two reads.")}else this.Tu.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.Tu.get(t.toString());return!this.mu.has(t)&&e?ci.updateTime(e):ci.We()},t.prototype.gu=function(t){var e=this.Tu.get(t.toString());if(!this.mu.has(t)&&e){if(e.isEqual(_r.min()))throw new yr(gr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ci.updateTime(e)}return ci.exists(!0)},t.prototype.write=function(t){this.Ru(),this.mutations=this.mutations.concat(t)},t.prototype.Ru=function(){},t}(),hs=function(){function t(t,e){this.ao=t,this.Vu=e,this.state="Unknown",this.yu=0,this.pu=null,this.bu=!0}return t.prototype.vu=function(){var t=this;0===this.yu&&(this.Su("Unknown"),this.pu=this.ao.bs("online_state_timeout",1e4,function(){return t.pu=null,t.Du("Backend didn't respond within 10 seconds."),t.Su("Offline"),Promise.resolve()}))},t.prototype.Cu=function(t){"Online"===this.state?this.Su("Unknown"):++this.yu>=1&&(this.Fu(),this.Du("Connection failed 1 times. Most recent error: "+t.toString()),this.Su("Offline"))},t.prototype.set=function(t){this.Fu(),this.yu=0,"Online"===t&&(this.bu=!1),this.Su(t)},t.prototype.Su=function(t){t!==this.state&&(this.state=t,this.Vu(t))},t.prototype.Du=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.bu?(o(e),this.bu=!1):i("OnlineStateTracker",e)},t.prototype.Fu=function(){null!==this.pu&&(this.pu.cancel(),this.pu=null)},t}(),ls=function(){function t(t,e,n,r,o){var s=this;this.$u=t,this.wu=e,this.ao=n,this.Nu=[],this.ku=new Map,this.xu=null,this.Mu=new Set,this.Ou=o,this.Ou.Lu(function(t){n.Zi(function(){return or.__awaiter(s,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.qu()?(i("RemoteStore","Restarting streams for network reachability change."),[4,this.Bu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Uu=new hs(n,r),this.Wu=function(t,e,n){var r=c(t);return r._u(),new ss(e,r.xa,r.credentials,r.serializer,n)}(this.wu,n,{tu:this.Qu.bind(this),Ha:this.ju.bind(this),nu:this.Ku.bind(this)}),this.Gu=function(t,e,n){var r=c(t);return r._u(),new as(e,r.xa,r.credentials,r.serializer,n)}(this.wu,n,{tu:this.zu.bind(this),Ha:this.Hu.bind(this),uu:this.Yu.bind(this),au:this.au.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Mu.delete(0),this.Ju()},t.prototype.Ju=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.qu()?(this.Xu()?this.Zu():this.Uu.set("Unknown"),[4,this.tc()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.disableNetwork=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.Mu.add(0),[4,this.ec()];case 1:return t.sent(),this.Uu.set("Offline"),[2]}})})},t.prototype.ec=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return[4,this.Gu.stop()];case 1:return t.sent(),[4,this.Wu.stop()];case 2:return t.sent(),this.Nu.length>0&&(i("RemoteStore","Stopping write stream with "+this.Nu.length+" pending writes"),this.Nu=[]),this.nc(),[2]}})})},t.prototype._r=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return i("RemoteStore","RemoteStore shutting down."),this.Mu.add(5),[4,this.ec()];case 1:return t.sent(),this.Ou._r(),this.Uu.set("Unknown"),[2]}})})},t.prototype.listen=function(t){this.ku.has(t.targetId)||(this.ku.set(t.targetId,t),this.Xu()?this.Zu():this.Wu.Ba()&&this.sc(t))},t.prototype.ic=function(t){this.ku.delete(t),this.Wu.Ba()&&this.rc(t),0===this.ku.size&&(this.Wu.Ba()?this.Wu.Qa():this.qu()&&this.Uu.set("Unknown"))},t.prototype.Me=function(t){return this.ku.get(t)||null},t.prototype.xe=function(t){return this.oc.xe(t)},t.prototype.sc=function(t){this.xu.de(t.targetId),this.Wu.su(t)},t.prototype.rc=function(t){this.xu.de(t),this.Wu.iu(t)},t.prototype.Zu=function(){this.xu=new Xr(this),this.Wu.start(),this.Uu.vu()},t.prototype.Xu=function(){return this.qu()&&!this.Wu.qa()&&this.ku.size>0},t.prototype.qu=function(){return 0===this.Mu.size},t.prototype.nc=function(){this.xu=null},t.prototype.Qu=function(){return or.__awaiter(this,void 0,void 0,function(){var t=this;return or.__generator(this,function(e){return this.ku.forEach(function(e,n){t.sc(e)}),[2]})})},t.prototype.ju=function(t){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(e){return this.nc(),this.Xu()?(this.Uu.Cu(t),this.Zu()):this.Uu.set("Unknown"),[2]})})},t.prototype.Ku=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,o;return or.__generator(this,function(s){switch(s.label){case 0:if(this.Uu.set("Online"),!(t instanceof zr&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,this.hc(t)];case 2:return s.sent(),[3,5];case 3:return n=s.sent(),i("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.ac(n)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Gr?this.xu.Pe(t):t instanceof Kr?this.xu.De(t):this.xu.ye(t),e.isEqual(_r.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,this.$u.ai()];case 8:return r=s.sent(),e.o(r)>=0?[4,this.uc(e)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return i("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,this.ac(o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})},t.prototype.ac=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n=this;return or.__generator(this,function(r){switch(r.label){case 0:if(!Fe(t))throw t;return this.Mu.add(1),[4,this.ec()];case 1:return r.sent(),this.Uu.set("Offline"),e||(e=function(){return n.$u.ai()}),this.ao.er(function(){return or.__awaiter(n,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return i("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Mu.delete(1),[4,this.Ju()];case 2:return t.sent(),[2]}})})}),[2]}})})},t.prototype.cc=function(t){var e=this;return t().catch(function(n){return e.ac(n,t)})},t.prototype.uc=function(t){var e=this,n=this.xu.$e(t);return n.Wt.forEach(function(n,r){if(n.resumeToken.H()>0){var i=e.ku.get(r);i&&e.ku.set(r,i.tt(n.resumeToken,t))}}),n.Qt.forEach(function(t){var n=e.ku.get(t);if(n){e.ku.set(t,n.tt(Sr.Y,n.X)),e.rc(t);var r=new kr(n.target,t,1,n.sequenceNumber);e.sc(r)}}),this.oc.vh(n)},t.prototype.hc=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return or.__generator(this,function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.ku.has(i)?[4,this.oc.lc(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.ku.delete(i),this.xu.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}})})},t.prototype.tc=function(){return or.__awaiter(this,void 0,void 0,function(){var t,e,n;return or.__generator(this,function(r){switch(r.label){case 0:t=this.Nu.length>0?this.Nu[this.Nu.length-1].batchId:-1,r.label=1;case 1:if(!this._c())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.$u.Fh(t)];case 3:return null===(e=r.sent())?(0===this.Nu.length&&this.Gu.Qa(),[3,7]):(t=e.batchId,this.fc(e),[3,6]);case 4:return n=r.sent(),[4,this.ac(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.dc()&&this.wc(),[2]}})})},t.prototype._c=function(){return this.qu()&&this.Nu.length<10},t.prototype.Tc=function(){return this.Nu.length},t.prototype.fc=function(t){this.Nu.push(t),this.Gu.Ba()&&this.Gu.ou&&this.Gu.hu(t.mutations)},t.prototype.dc=function(){return this.qu()&&!this.Gu.qa()&&this.Nu.length>0},t.prototype.wc=function(){this.Gu.start()},t.prototype.zu=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){return this.Gu.cu(),[2]})})},t.prototype.Yu=function(){return or.__awaiter(this,void 0,void 0,function(){var t,e,n;return or.__generator(this,function(r){for(t=0,e=this.Nu;t<e.length;t++)n=e[t],this.Gu.hu(n.mutations);return[2]})})},t.prototype.au=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i=this;return or.__generator(this,function(o){switch(o.label){case 0:return n=this.Nu.shift(),r=Ri.from(n,t,e),[4,this.cc(function(){return i.oc.Ec(r)})];case 1:return o.sent(),[4,this.tc()];case 2:return o.sent(),[2]}})})},t.prototype.Hu=function(t){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(e){switch(e.label){case 0:return t&&this.Gu.ou?[4,this.Ic(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.dc()&&this.wc(),[2]}})})},t.prototype.Ic=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return or.__generator(this,function(i){switch(i.label){case 0:return T(n=t.code)&&n!==gr.ABORTED?(e=this.Nu.shift(),this.Gu.Wa(),[4,this.cc(function(){return r.oc.mc(e.batchId,t)})]):[3,3];case 1:return i.sent(),[4,this.tc()];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.Ac=function(){return new cs(this.wu)},t.prototype.Bu=function(){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.Mu.add(4),[4,this.ec()];case 1:return t.sent(),this.Uu.set("Unknown"),this.Gu.Wa(),this.Wu.Wa(),this.Mu.delete(4),[4,this.Ju()];case 2:return t.sent(),[2]}})})},t.prototype.Rc=function(t){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(e){switch(e.label){case 0:return this.ao.$o(),i("RemoteStore","RemoteStore received new credentials"),this.Mu.add(3),[4,this.ec()];case 1:return e.sent(),this.Uu.set("Unknown"),[4,this.oc.Rc(t)];case 2:return e.sent(),this.Mu.delete(3),[4,this.Ju()];case 3:return e.sent(),[2]}})})},t.prototype.Pc=function(t){return or.__awaiter(this,void 0,void 0,function(){var e;return or.__generator(this,function(n){switch(n.label){case 0:return t?(this.Mu.delete(2),[4,this.Ju()]):[3,2];case 1:return n.sent(),[3,5];case 2:return(e=t)?[3,4]:(this.Mu.add(2),[4,this.ec()]);case 3:n.sent(),e=this.Uu.set("Unknown"),n.label=4;case 4:n.label=5;case 5:return[2]}})})},t}(),fs=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.gc=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new yr(i.error.code,i.error.message)),s?new t(e,n,i.state,a):(o("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Vc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ps=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.gc=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new yr(r.error.code,r.error.message)),i?new t(e,r.state,s):(o("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Vc=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ds=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.gc=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=O(),a=0;i&&a<r.activeTargetIds.length;++a)i=_(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(o("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),vs=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.gc=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(o("SharedClientState","Failed to parse online state: "+e),null)},t}(),gs=function(){function t(){this.activeTargetIds=O()}return t.prototype.yc=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.pc=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Vc=function(){var t={activeTargetIds:this.activeTargetIds.F(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ys=function(){function t(t,e,n,r,i){this.window=t,this.Ts=e,this.persistenceKey=n,this.bc=r,this.oc=null,this.Vu=null,this.ls=null,this.vc=this.Sc.bind(this),this.Dc=new Pr(l),this.Hi=!1,this.Cc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Fc=kn(this.persistenceKey,this.bc),this.$c=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Dc=this.Dc.nt(this.bc,new gs),this.Nc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.kc=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.xc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Mc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.vc)}return t.Oi=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return or.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,h,l=this;return or.__generator(this,function(f){switch(f.label){case 0:return[4,this.oc.Ir()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.bc&&(i=this.getItem(kn(this.persistenceKey,r)))&&(o=ds.gc(r,i))&&(this.Dc=this.Dc.nt(o.clientId,o));for(this.Oc(),(s=this.storage.getItem(this.Mc))&&(a=this.Lc(s))&&this.qc(a),u=0,c=this.Cc;u<c.length;u++)h=c[u],this.Sc(h);return this.Cc=[],this.window.addEventListener("unload",function(){return l._r()}),this.Hi=!0,[2]}})})},t.prototype.ds=function(t){this.setItem(this.$c,JSON.stringify(t))},t.prototype.Bc=function(){return this.Uc(this.Dc)},t.prototype.Wc=function(t){var e=!1;return this.Dc.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Qc=function(t){this.jc(t,"pending")},t.prototype.Kc=function(t,e,n){this.jc(t,e,n),this.Gc(t)},t.prototype.zc=function(t){var e="not-current";if(this.Wc(t)){var n=this.storage.getItem(Pn(this.persistenceKey,t));if(n){var r=ps.gc(t,n);r&&(e=r.state)}}return this.Hc.yc(t),this.Oc(),e},t.prototype.Yc=function(t){this.Hc.pc(t),this.Oc()},t.prototype.Jc=function(t){return this.Hc.activeTargetIds.has(t)},t.prototype.Xc=function(t){this.removeItem(Pn(this.persistenceKey,t))},t.prototype.Zc=function(t,e,n){this.tl(t,e,n)},t.prototype.Ah=function(t,e,n){var r=this;e.forEach(function(t){r.Gc(t)}),this.currentUser=t,n.forEach(function(t){r.Qc(t)})},t.prototype.el=function(t){this.nl(t)},t.prototype._r=function(){this.Hi&&(this.window.removeEventListener("storage",this.vc),this.removeItem(this.Fc),this.Hi=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return i("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){i("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){i("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Sc=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(i("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fc)return void o("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ts.er(function(){return or.__awaiter(e,void 0,void 0,function(){var t,e,r,i,s,a;return or.__generator(this,function(c){if(this.Hi){if(null!==n.key)if(this.Nc.test(n.key)){if(null==n.newValue)return t=this.sl(n.key),[2,this.il(t,null)];if(e=this.rl(n.key,n.newValue))return[2,this.il(e.clientId,e)]}else if(this.kc.test(n.key)){if(null!==n.newValue&&(r=this.ol(n.key,n.newValue)))return[2,this.hl(r)]}else if(this.xc.test(n.key)){if(null!==n.newValue&&(i=this.al(n.key,n.newValue)))return[2,this.ul(i)]}else if(n.key===this.Mc){if(null!==n.newValue&&(s=this.Lc(n.newValue)))return[2,this.qc(s)]}else n.key===this.$c&&(a=function(t){var e=Ui.ws;if(null!=t)try{var n=JSON.parse(t);u("number"==typeof n),e=n}catch(t){o("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ui.ws&&this.ls(a)}else this.Cc.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Hc",{get:function(){return this.Dc.get(this.bc)},enumerable:!1,configurable:!0}),t.prototype.Oc=function(){this.setItem(this.Fc,this.Hc.Vc())},t.prototype.jc=function(t,e,n){var r=new fs(this.currentUser,t,e,n),i=On(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Vc())},t.prototype.Gc=function(t){var e=On(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.nl=function(t){var e={clientId:this.bc,onlineState:t};this.storage.setItem(this.Mc,JSON.stringify(e))},t.prototype.tl=function(t,e,n){var r=Pn(this.persistenceKey,t),i=new ps(t,e,n);this.setItem(r,i.Vc())},t.prototype.sl=function(t){var e=this.Nc.exec(t);return e?e[1]:null},t.prototype.rl=function(t,e){var n=this.sl(t);return ds.gc(n,e)},t.prototype.ol=function(t,e){var n=this.kc.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fs.gc(new Zo(i),r,e)},t.prototype.al=function(t,e){var n=this.xc.exec(t),r=Number(n[1]);return ps.gc(r,e)},t.prototype.Lc=function(t){return vs.gc(t)},t.prototype.hl=function(t){return or.__awaiter(this,void 0,void 0,function(){return or.__generator(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.oc.cl(t.batchId,t.state,t.error)]:(i("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.ul=function(t){return this.oc.ll(t.targetId,t.state,t.error)},t.prototype.il=function(t,e){var n=this,r=e?this.Dc.nt(t,e):this.Dc.remove(t),i=this.Uc(this.Dc),o=this.Uc(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.oc._l(s,a).then(function(){n.Dc=r})},t.prototype.qc=function(t){this.Dc.get(t.clientId)&&this.Vu(t.onlineState)},t.prototype.Uc=function(t){var e=O();return t.forEach(function(t,n){e=e.Ct(n.activeTargetIds)}),e},t}(),ms=function(){function t(){this.fl=new gs,this.dl={},this.Vu=null,this.ls=null}return t.prototype.Qc=function(t){},t.prototype.Kc=function(t,e,n){},t.prototype.zc=function(t){return this.fl.yc(t),this.dl[t]||"not-current"},t.prototype.Zc=function(t,e,n){this.dl[t]=e},t.prototype.Yc=function(t){this.fl.pc(t)},t.prototype.Jc=function(t){return this.fl.activeTargetIds.has(t)},t.prototype.Xc=function(t){delete this.dl[t]},t.prototype.Bc=function(){return this.fl.activeTargetIds},t.prototype.Wc=function(t){return this.fl.activeTargetIds.has(t)},t.prototype.start=function(){return this.fl=new gs,Promise.resolve()},t.prototype.Ah=function(t,e,n){},t.prototype.el=function(t){},t.prototype._r=function(){},t.prototype.ds=function(t){},t}(),_s=function(t){this.key=t},bs=function(t){this.key=t},ws=function(){function t(t,e){this.query=t,this.wl=e,this.Tl=null,this.Ht=!1,this.El=k(),this.Lt=k(),this.Il=te(t),this.ml=new qr(this.Il)}return Object.defineProperty(t.prototype,"Al",{get:function(){return this.wl},enumerable:!1,configurable:!0}),t.prototype.Rl=function(t,e){var n=this,r=e?e.Pl:new Br,i=e?e.ml:this.ml,o=e?e.Lt:this.Lt,s=i,a=!1,u=this.query.hn()&&i.size===this.query.limit?i.last():null,c=this.query.an()&&i.size===this.query.limit?i.first():null;if(t.ot(function(t,e){var h=i.get(t),l=e instanceof _i?e:null;l&&(l=Zt(n.query,l)?l:null);var f=!!h&&n.Lt.has(h.key),p=!!l&&(l.Ke||n.Lt.has(l.key)&&l.hasCommittedMutations),d=!1;h&&l?h.data().isEqual(l.data())?f!==p&&(r.track({type:3,doc:l}),d=!0):n.gl(h,l)||(r.track({type:2,doc:l}),d=!0,(u&&n.Il(l,u)>0||c&&n.Il(l,c)<0)&&(a=!0)):!h&&l?(r.track({type:0,doc:l}),d=!0):h&&!l&&(r.track({type:1,doc:h}),d=!0,(u||c)&&(a=!0)),d&&(l?(s=s.add(l),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),this.query.hn()||this.query.an())for(;s.size>this.query.limit;){var h=this.query.hn()?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{ml:s,Pl:r,Vl:a,Lt:o}},t.prototype.gl=function(t,e){return t.Ke&&e.hasCommittedMutations&&!e.Ke},t.prototype.qn=function(t,e,n){var r=this,i=this.ml;this.ml=t.ml,this.Lt=t.Lt;var o=t.Pl.Mt();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return a()}};return n(t)-n(e)}(t.type,e.type)||r.Il(t.doc,e.doc)}),this.yl(n);var s=e?this.pl():[],u=0===this.El.size&&this.Ht?1:0,c=u!==this.Tl;return this.Tl=u,0!==o.length||c?{snapshot:new Wr(this.query,t.ml,i,o,t.Lt,0===u,c,!1),bl:s}:{bl:s}},t.prototype.vl=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.qn({ml:this.ml,Pl:new Br,Lt:this.Lt,Vl:!1},!1)):{bl:[]}},t.prototype.Sl=function(t){return!this.wl.has(t)&&!!this.ml.has(t)&&!this.ml.get(t).Ke},t.prototype.yl=function(t){var e=this;t&&(t.Yt.forEach(function(t){return e.wl=e.wl.add(t)}),t.Jt.forEach(function(t){}),t.Xt.forEach(function(t){return e.wl=e.wl.delete(t)}),this.Ht=t.Ht)},t.prototype.pl=function(){var t=this;if(!this.Ht)return[];var e=this.El;this.El=k(),this.ml.forEach(function(e){t.Sl(e.key)&&(t.El=t.El.add(e.key))});var n=[];return e.forEach(function(e){t.El.has(e)||n.push(new bs(e))}),this.El.forEach(function(t){e.has(t)||n.push(new _s(t))}),n},t.prototype.Dl=function(t){this.wl=t.Mh,this.El=k();var e=this.Rl(t.documents);return this.qn(e,!0)},t.prototype.Cl=function(){return Wr.Ut(this.query,this.ml,this.Lt,0===this.Tl)},t}(),Es=function(){function t(t,e,n,r){this.ao=t,this.wu=e,this.updateFunction=n,this.lo=r,this.Fl=5,this.Po=new qi(this.ao,"transaction_retry")}return t.prototype.run=function(){this.$l()},t.prototype.$l=function(){var t=this;this.Po.ys(function(){return or.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return or.__generator(this,function(r){return t=new cs(this.wu),(e=this.Nl(t))&&e.then(function(e){n.ao.Zi(function(){return t.commit().then(function(){n.lo.resolve(e)}).catch(function(t){n.kl(t)})})}).catch(function(t){n.kl(t)}),[2]})})})},t.prototype.Nl=function(t){try{var e=this.updateFunction(t);return!y(e)&&e.catch&&e.then?e:(this.lo.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.lo.reject(t),null}},t.prototype.kl=function(t){var e=this;this.Fl>0&&this.xl(t)?(this.Fl-=1,this.ao.Zi(function(){return e.$l(),Promise.resolve()})):this.lo.reject(t)},t.prototype.xl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!T(e)}return!1},t}(),Is=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ts=function(t){this.key=t,this.Ml=!1},Cs=function(){function t(t,e,n,r,i,o){this.$u=t,this.Ol=e,this.wu=n,this.Ll=r,this.currentUser=i,this.ql=o,this.Bl=null,this.Ul=new vr(function(t){return Yt(t)},Xt),this.Wl=new Map,this.Ql=[],this.jl=new Pr(Tr.P),this.Kl=new Map,this.Gl=new Ro,this.zl={},this.Hl=new Map,this.Yl=Ki.si(),this.onlineState="Unknown",this.Jl=void 0}return Object.defineProperty(t.prototype,"Xl",{get:function(){return!0===this.Jl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Bl=t},t.prototype.listen=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return or.__generator(this,function(s){switch(s.label){case 0:return this.Zl("listen()"),(r=this.Ul.get(t))?(e=r.targetId,this.Ll.zc(e),n=r.view.Cl(),[3,4]):[3,1];case 1:return[4,this.$u.Nh(Gt(t))];case 2:return i=s.sent(),o=this.Ll.zc(i.targetId),e=i.targetId,[4,this.t_(t,e,"current"===o)];case 3:n=s.sent(),this.Xl&&this.Ol.listen(i),s.label=4;case 4:return[2,n]}})})},t.prototype.t_=function(t,e,n){return or.__awaiter(this,void 0,void 0,function(){var r,i,o,s,a,u;return or.__generator(this,function(c){switch(c.label){case 0:return[4,this.$u.xh(t,!0)];case 1:return r=c.sent(),i=new ws(t,r.Mh),o=i.Rl(r.documents),s=Hr.zt(e,n&&"Offline"!==this.onlineState),a=i.qn(o,this.Xl,s),this.e_(e,a.bl),u=new Is(t,e,i),[2,(this.Ul.set(t,u),this.Wl.has(e)?this.Wl.get(e).push(t):this.Wl.set(e,[t]),a.snapshot)]}})})},t.prototype.ic=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return or.__generator(this,function(i){switch(i.label){case 0:return this.Zl("unlisten()"),e=this.Ul.get(t),(n=this.Wl.get(e.targetId)).length>1?[2,(this.Wl.set(e.targetId,n.filter(function(e){return!Xt(e,t)})),void this.Ul.delete(t))]:this.Xl?(this.Ll.Yc(e.targetId),this.Ll.Wc(e.targetId)?[3,2]:[4,this.$u.kh(e.targetId,!1).then(function(){r.Ll.Xc(e.targetId),r.Ol.ic(e.targetId),r.n_(e.targetId)}).catch(He)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.n_(e.targetId),[4,this.$u.kh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i;return or.__generator(this,function(o){switch(o.label){case 0:this.Zl("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.$u.Vh(t)];case 2:return n=o.sent(),this.Ll.Qc(n.batchId),this.s_(n.batchId,e),[4,this.i_(n.Cn)];case 3:return o.sent(),[4,this.Ol.tc()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),i=qe(r,"Failed to persist write"),e.reject(i),[3,6];case 6:return[2]}})})},t.prototype.runTransaction=function(t,e,n){new Es(t,this.wu,e,n).run()},t.prototype.vh=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n=this;return or.__generator(this,function(r){switch(r.label){case 0:this.Zl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.vh(t)];case 2:return e=r.sent(),t.Wt.forEach(function(t,e){var r=n.Kl.get(e);r&&(u(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.Ml=!0:t.Jt.size>0?u(r.Ml):t.Xt.size>0&&(u(r.Ml),r.Ml=!1))}),[4,this.i_(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,He(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.vl=function(t,e){if(this.Xl&&0===e||!this.Xl&&1===e){this.Zl("applyOnlineStateChange()");var n=[];this.Ul.forEach(function(e,r){var i=r.view.vl(t);i.snapshot&&n.push(i.snapshot)}),this.Bl.r_(t),this.Bl.nu(n),this.onlineState=t,this.Xl&&this.Ll.el(t)}},t.prototype.lc=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,a=this;return or.__generator(this,function(u){switch(u.label){case 0:return this.Zl("rejectListens()"),this.Ll.Zc(t,"rejected",e),n=this.Kl.get(t),(r=n&&n.key)?(i=(i=new Pr(Tr.P)).nt(r,new bi(r,_r.min())),o=k().add(r),s=new $r(_r.min(),new Map,new Dr(l),i,o),[4,this.vh(s)]):[3,2];case 1:return u.sent(),this.jl=this.jl.remove(r),this.Kl.delete(t),this.o_(),[3,4];case 2:return[4,this.$u.kh(t,!1).then(function(){return a.n_(t,e)}).catch(He)];case 3:u.sent(),u.label=4;case 4:return[2]}})})},t.prototype.Ec=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n;return or.__generator(this,function(r){switch(r.label){case 0:this.Zl("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.yh(t)];case 2:return n=r.sent(),this.h_(e,null),this.a_(e),this.Ll.Kc(e,"acknowledged"),[4,this.i_(n)];case 3:return r.sent(),[3,6];case 4:return[4,He(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.mc=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n;return or.__generator(this,function(r){switch(r.label){case 0:this.Zl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.$u.bh(t)];case 2:return n=r.sent(),this.h_(t,e),this.a_(t),this.Ll.Kc(t,"rejected",e),[4,this.i_(n)];case 3:return r.sent(),[3,6];case 4:return[4,He(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.u_=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return or.__generator(this,function(s){switch(s.label){case 0:this.Ol.qu()||i("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.$u.Wr()];case 2:return-1===(e=s.sent())?[2,void t.resolve()]:((n=this.Hl.get(e)||[]).push(t),this.Hl.set(e,n),[3,4]);case 3:return r=s.sent(),o=qe(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(o),[3,4];case 4:return[2]}})})},t.prototype.a_=function(t){(this.Hl.get(t)||[]).forEach(function(t){t.resolve()}),this.Hl.delete(t)},t.prototype.c_=function(t){this.Hl.forEach(function(e){e.forEach(function(e){e.reject(new yr(gr.CANCELLED,t))})}),this.Hl.clear()},t.prototype.s_=function(t,e){var n=this.zl[this.currentUser.Aa()];n||(n=new Pr(l)),n=n.nt(t,e),this.zl[this.currentUser.Aa()]=n},t.prototype.h_=function(t,e){var n=this.zl[this.currentUser.Aa()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.zl[this.currentUser.Aa()]=n}},t.prototype.n_=function(t,e){var n=this;void 0===e&&(e=null),this.Ll.Yc(t);for(var r=0,i=this.Wl.get(t);r<i.length;r++){var o=i[r];this.Ul.delete(o),e&&this.Bl.l_(o,e)}this.Wl.delete(t),this.Xl&&this.Gl.jh(t).forEach(function(t){n.Gl.pi(t)||n.__(t)})},t.prototype.__=function(t){var e=this.jl.get(t);null!==e&&(this.Ol.ic(e),this.jl=this.jl.remove(t),this.Kl.delete(e),this.o_())},t.prototype.e_=function(t,e){for(var n=0,r=e;n<r.length;n++){var o=r[n];o instanceof _s?(this.Gl.Ri(o.key,t),this.f_(o)):o instanceof bs?(i("SyncEngine","Document no longer in limbo: "+o.key),this.Gl.gi(o.key,t),this.Gl.pi(o.key)||this.__(o.key)):a()}},t.prototype.f_=function(t){var e=t.key;this.jl.get(e)||(i("SyncEngine","New document in limbo: "+e),this.Ql.push(e),this.o_())},t.prototype.o_=function(){for(;this.Ql.length>0&&this.jl.size<this.ql;){var t=this.Ql.shift(),e=this.Yl.next();this.Kl.set(e,new Ts(t)),this.jl=this.jl.nt(t,e),this.Ol.listen(new kr(Gt(Wt(t.path)),e,2,Ui.ws))}},t.prototype.d_=function(){return this.jl},t.prototype.w_=function(){return this.Ql},t.prototype.i_=function(t,e){return or.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return or.__generator(this,function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.Ul.forEach(function(s,a){i.push(Promise.resolve().then(function(){var e=a.view.Rl(t);return e.Vl?o.$u.xh(a.query,!1).then(function(t){var n=t.documents;return a.view.Rl(n,e)}):e}).then(function(t){var i=e&&e.Wt.get(a.targetId),s=a.view.qn(t,o.Xl,i);if(o.e_(a.targetId,s.bl),s.snapshot){o.Xl&&o.Ll.Zc(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=ji.cs(a.targetId,s.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return s.sent(),this.Bl.nu(n),[4,this.$u.Ch(r)];case 2:return s.sent(),[2]}})})},t.prototype.Zl=function(t){},t.prototype.Rc=function(t){return or.__awaiter(this,void 0,void 0,function(){var e;return or.__generator(this,function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(i("SyncEngine","User change. New user:",t.Aa()),[4,this.$u.Ah(t)]);case 1:return e=n.sent(),this.currentUser=t,this.c_("'waitForPendingWrites' promise is rejected due to a user change."),this.Ll.Ah(t,e.Ph,e.gh),[4,this.i_(e.Rh)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.xe=function(t){var e=this.Kl.get(t);if(e&&e.Ml)return k().add(e.key);var n=k(),r=this.Wl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.Ul.get(s);n=n.Ct(a.view.Al)}return n},t}(),Ss=function(){this.T_=void 0,this.listeners=[]},Ns=function(){function t(t){this.oc=t,this.E_=new vr(function(t){return Yt(t)},Xt),this.onlineState="Unknown",this.I_=new Set,this.oc.subscribe(this)}return t.prototype.listen=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s;return or.__generator(this,function(a){switch(a.label){case 0:if(e=t.query,n=!1,(r=this.E_.get(e))||(n=!0,r=new Ss),!n)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),i=r,[4,this.oc.listen(e)];case 2:return i.T_=a.sent(),[3,4];case 3:return o=a.sent(),s=qe(o,"Initialization of query '"+Jt(t.query)+"' failed"),[2,void t.onError(s)];case 4:return this.E_.set(e,r),r.listeners.push(t),t.vl(this.onlineState),r.T_&&t.m_(r.T_)&&this.A_(),[2]}})})},t.prototype.ic=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return or.__generator(this,function(o){return e=t.query,n=!1,(r=this.E_.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?[2,(this.E_.delete(e),this.oc.ic(e))]:[2]})})},t.prototype.nu=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.E_.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].m_(i)&&(e=!0);s.T_=i}}e&&this.A_()},t.prototype.l_=function(t,e){var n=this.E_.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.E_.delete(t)},t.prototype.r_=function(t){this.onlineState=t;var e=!1;this.E_.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].vl(t)&&(e=!0)}),e&&this.A_()},t.prototype.R_=function(t){this.I_.add(t),t.next()},t.prototype.P_=function(t){this.I_.delete(t)},t.prototype.A_=function(){this.I_.forEach(function(t){t.next()})},t}(),As=function(){function t(t,e,n){this.query=t,this.g_=e,this.V_=!1,this.y_=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.m_=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Wr(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.qt,!0)}var o=!1;return this.V_?this.p_(t)&&(this.g_.next(t),o=!0):this.b_(t,this.onlineState)&&(this.v_(t),o=!0),this.y_=t,o},t.prototype.onError=function(t){this.g_.error(t)},t.prototype.vl=function(t){this.onlineState=t;var e=!1;return this.y_&&!this.V_&&this.b_(this.y_,t)&&(this.v_(this.y_),e=!0),e},t.prototype.b_=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.S_&&n||t.docs._()&&"Offline"!==e)},t.prototype.p_=function(t){if(t.docChanges.length>0)return!0;var e=this.y_&&this.y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.qt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.v_=function(t){t=Wr.Ut(t.query,t.docs,t.Lt,t.fromCache),this.V_=!0,this.g_.next(t)},t}(),ks=function(){function t(){}return t.prototype.mh=function(t){this.D_=t},t.prototype.ts=function(t,e,n,o){var s=this;return e.on()||n.isEqual(_r.min())?this.C_(t,e):this.D_.Jn(t,o).next(function(a){var u=s.F_(e,a);return(e.hn()||e.an())&&s.Vl(e.en,u,o,n)?s.C_(t,e):(r()<=ar.LogLevel.DEBUG&&i("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jt(e)),s.D_.ts(t,e,n).next(function(t){return u.forEach(function(e){t=t.nt(e.key,e)}),t}))})},t.prototype.F_=function(t,e){var n=new Dr(te(t));return e.forEach(function(e,r){r instanceof _i&&Zt(t,r)&&(n=n.add(r))}),n},t.prototype.Vl=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.C_=function(t,e){return r()<=ar.LogLevel.DEBUG&&i("IndexFreeQueryEngine","Using full collection scan to execute query:",Jt(e)),this.D_.ts(t,e,_r.min())},t}(),Os=function(){function t(t,e){this.Kn=t,this.ii=e,this.jn=[],this.N_=1,this.k_=new Dr(xo.Lh)}return t.prototype.Or=function(t){return xi.resolve(0===this.jn.length)},t.prototype.Lr=function(t,e,n,r){var i=this.N_;this.N_++,this.jn.length>0&&this.jn[this.jn.length-1];var o=new Pi(i,e,n,r);this.jn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.k_=this.k_.add(new xo(u.key,i)),this.Kn.Cs(t,u.key.path.p())}return xi.resolve(o)},t.prototype.qr=function(t,e){return xi.resolve(this.x_(e))},t.prototype.Ur=function(t,e){var n=e+1,r=this.M_(n),i=r<0?0:r;return xi.resolve(this.jn.length>i?this.jn[i]:null)},t.prototype.Wr=function(){return xi.resolve(0===this.jn.length?-1:this.N_-1)},t.prototype.Qr=function(t){return xi.resolve(this.jn.slice())},t.prototype.zn=function(t,e){var n=this,r=new xo(e,0),i=new xo(e,Number.POSITIVE_INFINITY),o=[];return this.k_.vt([r,i],function(t){var e=n.x_(t.zh);o.push(e)}),xi.resolve(o)},t.prototype.Zn=function(t,e){var n=this,r=new Dr(l);return e.forEach(function(t){var e=new xo(t,0),i=new xo(t,Number.POSITIVE_INFINITY);n.k_.vt([e,i],function(t){r=r.add(t.zh)})}),xi.resolve(this.O_(r))},t.prototype.os=function(t,e){var n=e.path,r=n.length+1,i=n;Tr.W(i)||(i=i.child(""));var o=new xo(new Tr(i),0),s=new Dr(l);return this.k_.St(function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.zh)),!0)},o),xi.resolve(this.O_(s))},t.prototype.O_=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.x_(t);null!==r&&n.push(r)}),n},t.prototype.Kr=function(t,e){var n=this;u(0===this.L_(e.batchId,"removed")),this.jn.shift();var r=this.k_;return xi.forEach(e.mutations,function(i){var o=new xo(i.key,e.batchId);return r=r.delete(o),n.ii.Dr(t,i.key)}).next(function(){n.k_=r})},t.prototype.Gr=function(t){},t.prototype.pi=function(t,e){var n=new xo(e,0),r=this.k_.Dt(n);return xi.resolve(e.isEqual(r&&r.key))},t.prototype.zr=function(t){return this.jn.length,xi.resolve()},t.prototype.L_=function(t,e){return this.M_(t)},t.prototype.M_=function(t){return 0===this.jn.length?0:t-this.jn[0].batchId},t.prototype.x_=function(t){var e=this.M_(t);return e<0||e>=this.jn.length?null:this.jn[e]},t}(),Ps=function(){function t(t,e){this.Kn=t,this.q_=e,this.docs=new Pr(Tr.P),this.size=0}return t.prototype.Nn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.q_(e);return this.docs=this.docs.nt(r,{Ls:e,size:s,readTime:n}),this.size+=s-o,this.Kn.Cs(t,r.path.p())},t.prototype.xn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Mn=function(t,e){var n=this.docs.get(e);return xi.resolve(n?n.Ls:null)},t.prototype.getEntries=function(t,e){var n=this,r=N();return e.forEach(function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Ls:null)}),xi.resolve(r)},t.prototype.ts=function(t,e,n){for(var r=A(),i=new Tr(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.key,u=s.value,c=u.Ls,h=u.readTime;if(!e.path.D(a.path))break;h.o(n)<=0||c instanceof _i&&Zt(e,c)&&(r=r.nt(c.key,c))}return xi.resolve(r)},t.prototype.B_=function(t,e){return xi.forEach(this.docs,function(t){return e(t)})},t.prototype.Hs=function(e){return new t.Ys(this)},t.prototype.Xs=function(t){return xi.resolve(this.size)},t}();Ps.Ys=function(t){function e(e){var n=this;return(n=t.call(this)||this).Zs=e,n}return or.__extends(e,t),e.prototype.qn=function(t){var e=this,n=[];return this.Cn.forEach(function(r,i){i?n.push(e.Zs.Nn(t,i,e.readTime)):e.Zs.xn(r)}),xi.Sn(n)},e.prototype.On=function(t,e){return this.Zs.Mn(t,e)},e.prototype.Ln=function(t,e){return this.Zs.getEntries(t,e)},e}(Di);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rs=function(){function t(t){this.persistence=t,this.U_=new vr(function(t){return w(t)},E),this.lastRemoteSnapshotVersion=_r.min(),this.highestTargetId=0,this.W_=0,this.Q_=new Ro,this.targetCount=0,this.j_=Ki.ni()}return t.prototype.pe=function(t,e){return this.U_.forEach(function(t,n){return e(n)}),xi.resolve()},t.prototype.ai=function(t){return xi.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ui=function(t){return xi.resolve(this.W_)},t.prototype.ri=function(t){return this.highestTargetId=this.j_.next(),xi.resolve(this.highestTargetId)},t.prototype.ci=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.W_&&(this.W_=e),xi.resolve()},t.prototype._i=function(t){this.U_.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.j_=new Ki(e),this.highestTargetId=e),t.sequenceNumber>this.W_&&(this.W_=t.sequenceNumber)},t.prototype.li=function(t,e){return this._i(e),this.targetCount+=1,xi.resolve()},t.prototype.di=function(t,e){return this._i(e),xi.resolve()},t.prototype.wi=function(t,e){return this.U_.delete(e.target),this.Q_.jh(e.targetId),this.targetCount-=1,xi.resolve()},t.prototype.Ei=function(t,e,n){var r=this,i=0,o=[];return this.U_.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.U_.delete(s),o.push(r.Ti(t,a.targetId)),i++)}),xi.Sn(o).next(function(){return i})},t.prototype.Ii=function(t){return xi.resolve(this.targetCount)},t.prototype.mi=function(t,e){var n=this.U_.get(e)||null;return xi.resolve(n)},t.prototype.Ai=function(t,e,n){return this.Q_.Uh(e,n),xi.resolve()},t.prototype.Pi=function(t,e,n){this.Q_.Qh(e,n);var r=this.persistence.ii,i=[];return r&&e.forEach(function(e){i.push(r.Dr(t,e))}),xi.Sn(i)},t.prototype.Ti=function(t,e){return this.Q_.jh(e),xi.resolve()},t.prototype.Vi=function(t,e){var n=this.Q_.Gh(e);return xi.resolve(n)},t.prototype.pi=function(t,e){return xi.resolve(this.Q_.pi(e))},t}(),xs=function(){function t(t){var e=this;this.K_={},this.Ci=new Ui(0),this.Fi=!1,this.Fi=!0,this.ii=t(this),this.qi=new Rs(this),this.Kn=new Bi,this.Qn=new Ps(this.Kn,function(t){return e.ii.G_(t)})}return t.prototype.start=function(){return Promise.resolve()},t.prototype._r=function(){return this.Fi=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Hi",{get:function(){return this.Fi},enumerable:!1,configurable:!0}),t.prototype.Yi=function(){},t.prototype.Xi=function(){},t.prototype.gr=function(){return this.Kn},t.prototype.mr=function(t){var e=this.K_[t.Aa()];return e||(e=new Os(this.Kn,this.ii),this.K_[t.Aa()]=e),e},t.prototype.Rr=function(){return this.qi},t.prototype.Pr=function(){return this.Qn},t.prototype.runTransaction=function(t,e,n){var r=this;i("MemoryPersistence","Starting transaction:",t);var o=new Ds(this.Ci.next());return this.ii.z_(),n(o).next(function(t){return r.ii.H_(o).next(function(){return t})}).bn().then(function(t){return o.Wn(),t})},t.prototype.Y_=function(t,e){return xi.Dn(Object.values(this.K_).map(function(n){return function(){return n.pi(t,e)}}))},t}(),Ds=function(t){function e(e){var n=this;return(n=t.call(this)||this).vi=e,n}return or.__extends(e,t),e}(Mi),Ls=function(){function t(t){this.persistence=t,this.J_=new Ro,this.X_=null}return t.Z_=function(e){return new t(e)},Object.defineProperty(t.prototype,"tf",{get:function(){if(this.X_)return this.X_;throw a()},enumerable:!1,configurable:!0}),t.prototype.Ri=function(t,e,n){return this.J_.Ri(n,e),this.tf.delete(n),xi.resolve()},t.prototype.gi=function(t,e,n){return this.J_.gi(n,e),this.tf.add(n),xi.resolve()},t.prototype.Dr=function(t,e){return this.tf.add(e),xi.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.J_.jh(e.targetId).forEach(function(t){return n.tf.add(t)});var r=this.persistence.Rr();return r.Vi(t,e.targetId).next(function(t){t.forEach(function(t){return n.tf.add(t)})}).next(function(){return r.wi(t,e)})},t.prototype.z_=function(){this.X_=new Set},t.prototype.H_=function(t){var e=this,n=this.persistence.Pr().Hs();return xi.forEach(this.tf,function(r){return e.ef(t,r).next(function(t){t||n.xn(r)})}).next(function(){return e.X_=null,n.apply(t)})},t.prototype.Nr=function(t,e){var n=this;return this.ef(t,e).next(function(t){t?n.tf.delete(e):n.tf.add(e)})},t.prototype.G_=function(t){return 0},t.prototype.ef=function(t,e){var n=this;return xi.Dn([function(){return xi.resolve(n.J_.pi(e))},function(){return n.persistence.Rr().pi(t,e)},function(){return n.persistence.Y_(t,e)}])},t}(),Ms=function(){function t(t){this.nf=t.nf,this.sf=t.sf}return t.prototype.tu=function(t){this.if=t},t.prototype.Ha=function(t){this.rf=t},t.prototype.onMessage=function(t){this.hf=t},t.prototype.close=function(){this.sf()},t.prototype.send=function(t){this.nf(t)},t.prototype.af=function(){this.if()},t.prototype.uf=function(t){this.rf(t)},t.prototype.cf=function(t){this.hf(t)},t}(),Fs={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},js=function(){function t(t){this.s=t.s;var e=t.ssl?"https":"http";this.lf=e+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype._f=function(t,e){if(e)for(var n in e.ga)e.ga.hasOwnProperty(n)&&(t[n]=e.ga[n]);t["X-Goog-Api-Client"]="gl-js/ fire/7.17.1"},t.prototype.fu=function(t,e,n){var r=this,o=this.ff(t);return new Promise(function(s,u){var c=new cr.XhrIo;c.listenOnce(cr.EventType.COMPLETE,function(){try{switch(c.getLastErrorCode()){case cr.ErrorCode.NO_ERROR:var e=c.getResponseJson();i("Connection","XHR received:",JSON.stringify(e)),s(e);break;case cr.ErrorCode.TIMEOUT:i("Connection",'RPC "'+t+'" timed out'),u(new yr(gr.DEADLINE_EXCEEDED,"Request time out"));break;case cr.ErrorCode.HTTP_ERROR:var n=c.getStatus();if(i("Connection",'RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0){var r=c.getResponseJson().error;if(r&&r.status&&r.message){var o=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(gr).indexOf(e)>=0?e:gr.UNKNOWN}(r.status);u(new yr(o,r.message))}else u(new yr(gr.UNKNOWN,"Server responded with status "+c.getStatus()))}else i("Connection",'RPC "'+t+'" failed'),u(new yr(gr.UNAVAILABLE,"Connection failed."));break;default:a()}}finally{i("Connection",'RPC "'+t+'" completed.')}});var h=Object.assign({},e);delete h.database;var l=JSON.stringify(h);i("Connection","XHR sending: ",o+" "+l);var f={"Content-Type":"text/plain"};r._f(f,n),c.send(o,"POST",l,f,15)})},t.prototype.du=function(t,e,n){return this.fu(t,e,n)},t.prototype.eu=function(t,e){var n=[this.lf,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=cr.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this._f(o.initMessageHeaders,e),ur.isMobileCordova()||ur.isReactNative()||ur.isElectron()||ur.isIE()||ur.isUWP()||ur.isBrowserExtension()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");i("Connection","Creating WebChannel: "+a+" "+o);var c=r.createWebChannel(a,o),h=!1,l=!1,f=new Ms({nf:function(t){l?i("Connection","Not sending because WebChannel is closed:",t):(h||(i("Connection","Opening WebChannel transport."),c.open(),h=!0),i("Connection","WebChannel sending:",t),c.send(t))},sf:function(){return c.close()}}),p=function(t,e){c.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return p(cr.WebChannel.EventType.OPEN,function(){l||i("Connection","WebChannel transport opened.")}),p(cr.WebChannel.EventType.CLOSE,function(){l||(l=!0,i("Connection","WebChannel transport closed"),f.uf())}),p(cr.WebChannel.EventType.ERROR,function(t){l||(l=!0,function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(lr.logLevel<=ar.LogLevel.WARN){var r=e.map(s);lr.warn.apply(lr,or.__spreadArrays(["Firestore (7.17.1): "+t],r))}}("Connection","WebChannel transport errored:",t),f.uf(new yr(gr.UNAVAILABLE,"The operation could not be completed")))}),p(cr.WebChannel.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];u(!!n);var r=n,o=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(o){i("Connection","WebChannel received error:",o);var s=o.status,a=function(t){var e=Nr[t];if(void 0!==e)return C(e)}(s),h=o.message;void 0===a&&(a=gr.INTERNAL,h="Unknown error status: "+s+" with message "+o.message),l=!0,f.uf(new yr(a,h)),c.close()}else i("Connection","WebChannel received:",n),f.cf(n)}}),setTimeout(function(){f.af()},0),f},t.prototype.ff=function(t){var e=Fs[t];return this.lf+"/v1/projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents:"+e},t}(),Us=function(){function t(){var t=this;this.df=function(){return t.wf()},this.Tf=function(){return t.Ef()},this.If=[],this.mf()}return t.prototype.Lu=function(t){this.If.push(t)},t.prototype._r=function(){window.removeEventListener("online",this.df),window.removeEventListener("offline",this.Tf)},t.prototype.mf=function(){window.addEventListener("online",this.df),window.addEventListener("offline",this.Tf)},t.prototype.wf=function(){i("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.If;t<e.length;t++)(0,e[t])(0)},t.prototype.Ef=function(){i("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.If;t<e.length;t++)(0,e[t])(1)},t.Oi=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Vs=function(){function t(){}return t.prototype.Lu=function(t){},t.prototype._r=function(){},t}(),qs="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Bs=function(){function t(){}return t.prototype.initialize=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n=this;return or.__generator(this,function(r){switch(r.label){case 0:return this.Ll=this.Af(t),this.persistence=this.Rf(t),[4,this.persistence.start()];case 1:return r.sent(),this.Pf=this.gf(t),this.$u=this.Vf(t),this.wu=this.yf(t),[4,this.pf(t)];case 2:return e=r.sent(),this.wu.start(e),this.Ol=this.bf(t),this.oc=this.vf(t),this.Sf=this.Df(t),this.Ll.Vu=function(t){return n.oc.vl(t,1)},this.Ol.oc=this.oc,[4,this.Ll.start()];case 3:return r.sent(),[4,this.Ol.start()];case 4:return r.sent(),[4,this.Ol.Pc(this.oc.Xl)];case 5:return r.sent(),[2]}})})},t.prototype.pf=function(t){return e=t.Cf,Promise.resolve(new js(e));var e},t.prototype.Df=function(t){return new Ns(this.oc)},t.prototype.gf=function(t){return null},t.prototype.Vf=function(t){return We(this.persistence,new ks,t.Ff)},t.prototype.Rf=function(t){if(t.Nf.$f)throw new yr(gr.FAILED_PRECONDITION,qs);return new xs(Ls.Z_)},t.prototype.yf=function(t){var e=vn(t.Cf.s);return function(t,e){return new us(t,e)}(t.credentials,e)},t.prototype.bf=function(t){var e=this;return new ls(this.$u,this.wu,t.ao,function(t){return e.oc.vl(t,0)},Us.Oi()?new Us:new Vs)},t.prototype.Af=function(t){return new ms},t.prototype.vf=function(t){return Rn(this.$u,this.Ol,this.wu,this.Ll,t.Ff,t.ql,!0)},t.prototype.clearPersistence=function(t,e){throw new yr(gr.FAILED_PRECONDITION,qs)},t}(),Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e.prototype.initialize=function(e){return or.__awaiter(this,void 0,void 0,function(){var n=this;return or.__generator(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,this.persistence.zi(function(t){return or.__awaiter(n,void 0,void 0,function(){return or.__generator(this,function(e){switch(e.label){case 0:return[4,Ln(this.oc,t)];case 1:return e.sent(),this.Pf&&(t&&!this.Pf.Hi?this.Pf.start(this.$u):t||this.Pf.stop()),[2]}})})})];case 2:return r.sent(),[4,function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n;return or.__generator(this,function(r){return e=c(t),n=c(e.Eh),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return n.zs(t)}).then(function(t){e.Th=t})]})})}(this.$u)];case 3:return r.sent(),[2]}})})},e.prototype.vf=function(t){var e=!t.Nf.$f||!t.Nf.synchronizeTabs,n=Rn(this.$u,this.Ol,this.wu,this.Ll,t.Ff,t.ql,e);return this.Ll instanceof ys&&(this.Ll.oc={cl:Dn.bind(null,n),ll:Un.bind(null,n),_l:Vn.bind(null,n),Ir:jn.bind(null,n)}),n},e.prototype.Af=function(t){if(t.Nf.$f&&t.Nf.synchronizeTabs){var e=Ve();if(!ys.Oi(e))throw new yr(gr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Oe(t.Cf.s,t.Cf.persistenceKey);return new ys(e,t.ao,n,t.clientId,t.Ff)}return new ms},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e.prototype.Vf=function(t){return We(this.persistence,new ks,t.Ff)},e.prototype.gf=function(t){var e=this.persistence.ii.yr;return new ko(e,t.ao)},e.prototype.Rf=function(t){var e=Oe(t.Cf.s,t.Cf.persistenceKey),n=vn(t.Cf.s);return new Yi(t.Nf.synchronizeTabs,e,t.clientId,Ao.Ho(t.Nf.cacheSizeBytes),t.ao,Ve(),"undefined"!=typeof document?document:null,n,this.Ll,t.Nf.Di)},e.prototype.Af=function(t){return new ms},e.prototype.clearPersistence=function(t,e){return function(t){return or.__awaiter(this,void 0,void 0,function(){var e;return or.__generator(this,function(n){switch(n.label){case 0:return mo.Oi()?(e=t+"main",[4,mo.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(Oe(t,e))},e}(Bs)),$s=function(){function t(t,e){this.credentials=t,this.ao=e,this.clientId=fr.t()}return t.prototype.start=function(t,e,n){var r=this;this.kf(),this.Cf=t;var o=new Vi,s=new Vi,a=!1;return this.credentials.pa(function(t){if(!a)return a=!0,i("FirestoreClient","Initializing. user=",t.uid),r.xf(e,n,t,s).then(o.resolve,o.reject);r.ao.er(function(){return r.Ol.Rc(t)})}),this.ao.Zi(function(){return o.promise}),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.kf(),this.ao.enqueue(function(){return t.persistence.Xi(!0),t.Ol.enableNetwork()})},t.prototype.xf=function(t,e,n,r){return or.__awaiter(this,void 0,void 0,function(){var i,o=this;return or.__generator(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,t.initialize({ao:this.ao,Cf:this.Cf,clientId:this.clientId,credentials:this.credentials,Ff:n,ql:100,Nf:e})];case 1:return s.sent(),this.persistence=t.persistence,this.Ll=t.Ll,this.$u=t.$u,this.Ol=t.Ol,this.oc=t.oc,this.Pf=t.Pf,this.Mf=t.Sf,this.persistence.Yi(function(){return or.__awaiter(o,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),r.resolve(),[3,3];case 2:if(i=s.sent(),r.reject(i),!this.Of(i))throw i;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),this.xf(new Bs,{$f:!1},n,r))];case 3:return[2]}})})},t.prototype.Of=function(t){return"FirebaseError"===t.name?t.code===gr.FAILED_PRECONDITION||t.code===gr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.kf=function(){if(this.ao.yo)throw new yr(gr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.kf(),this.ao.enqueue(function(){return t.persistence.Xi(!1),t.Ol.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.ao.Do(function(){return or.__awaiter(t,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.Pf&&this.Pf.stop(),[4,this.Ol._r()];case 1:return t.sent(),[4,this.Ll._r()];case 2:return t.sent(),[4,this.persistence._r()];case 3:return t.sent(),this.credentials.ba(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.kf();var e=new Vi;return this.ao.Zi(function(){return t.oc.u_(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.kf();var i=new As(t,e,n);return this.ao.Zi(function(){return r.Mf.listen(i)}),i},t.prototype.ic=function(t){var e=this;this.Lf||this.ao.Zi(function(){return e.Mf.ic(t)})},t.prototype.qf=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n=this;return or.__generator(this,function(r){switch(r.label){case 0:return this.kf(),e=new Vi,[4,this.ao.enqueue(function(){return or.__awaiter(n,void 0,void 0,function(){var n,r,i;return or.__generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.$u.$h(t)];case 1:return(n=o.sent())instanceof _i?e.resolve(n):n instanceof bi?e.resolve(null):e.reject(new yr(gr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=qe(r,"Failed to get document '"+t+" from cache"),e.reject(i),[3,3];case 3:return[2]}})})})];case 1:return[2,(r.sent(),e.promise)]}})})},t.prototype.Bf=function(t){return or.__awaiter(this,void 0,void 0,function(){var e,n=this;return or.__generator(this,function(r){switch(r.label){case 0:return this.kf(),e=new Vi,[4,this.ao.enqueue(function(){return or.__awaiter(n,void 0,void 0,function(){var n,r,i,o,s,a;return or.__generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,this.$u.xh(t,!0)];case 1:return n=u.sent(),r=new ws(t,n.Mh),i=r.Rl(n.documents),o=r.qn(i,!1),e.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=qe(s,"Failed to execute query '"+t+" against cache"),e.reject(a),[3,3];case 3:return[2]}})})})];case 1:return[2,(r.sent(),e.promise)]}})})},t.prototype.write=function(t){var e=this;this.kf();var n=new Vi;return this.ao.Zi(function(){return e.oc.write(t,n)}),n.promise},t.prototype.s=function(){return this.Cf.s},t.prototype.R_=function(t){var e=this;this.kf(),this.ao.Zi(function(){return e.Mf.R_(t),Promise.resolve()})},t.prototype.P_=function(t){var e=this;this.Lf||this.ao.Zi(function(){return e.Mf.P_(t),Promise.resolve()})},Object.defineProperty(t.prototype,"Lf",{get:function(){return this.ao.yo},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.kf();var n=new Vi;return this.ao.Zi(function(){return e.oc.runTransaction(e.ao,t,n),Promise.resolve()}),n.promise},t}(),Hs=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Uf(this.observer.next,t)},t.prototype.error=function(t){this.Uf(this.observer.error,t)},t.prototype.Wf=function(){this.muted=!0},t.prototype.Uf=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Gs=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Qf=n,this.jf=r}return t.prototype.Kf=function(t){switch(L(t)){case 0:return null;case 1:return t.booleanValue;case 2:return B(t.integerValue||t.doubleValue);case 3:return this.Gf(t.timestampValue);case 4:return this.zf(t);case 5:return t.stringValue;case 6:return new Do(W(t.bytesValue));case 7:return this.Hf(t.referenceValue);case 8:return this.Yf(t.geoPointValue);case 9:return this.Jf(t.arrayValue);case 10:return this.Xf(t.mapValue);default:throw a()}},t.prototype.Xf=function(t){var e=this,n={};return v(t.fields||{},function(t,r){n[t]=e.Kf(r)}),n},t.prototype.Yf=function(t){return new Go(B(t.latitude),B(t.longitude))},t.prototype.Jf=function(t){var e=this;return(t.values||[]).map(function(t){return e.Kf(t)})},t.prototype.zf=function(t){switch(this.Qf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return x(n)?t(n):n}(t);return null==e?null:this.Kf(e);case"estimate":return this.Gf(D(t));default:return null}},t.prototype.Gf=function(t){var e=q(t),n=new mr(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Hf=function(t){var e=wr.N(t);u(It(e));var n=new dr(e.get(1),e.get(3)),r=new Tr(e.V(5));return n.isEqual(this.s)||o("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.jf(r)},t}(),Ks=Ao.Xo,zs=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new yr(gr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Je("settings","non-empty string","host",t.host),this.host=t.host,Ze("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(an("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),Ze("settings","object","credentials",t.credentials),this.credentials=t.credentials,Ze("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),Ze("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?o("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&o("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,Ze("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ao.th;else{if(t.cacheSizeBytes!==Ks&&t.cacheSizeBytes<Ao.Zo)throw new yr(gr.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ao.Zo);this.cacheSizeBytes=t.cacheSizeBytes}Ze("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Qs=function(){function t(e,n,r){var i=this;if(void 0===r&&(r=new Bs),this.Zf=null,this.td=new Co,this.INTERNAL={delete:function(){return or.__awaiter(i,void 0,void 0,function(){return or.__generator(this,function(t){switch(t.label){case 0:return this.ed(),[4,this.nd.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var o=e;this.Zf=o,this.aa=t.sd(o),this.rd=o.name,this.od=new ns(n)}else{var s=e;if(!s.projectId)throw new yr(gr.INVALID_ARGUMENT,"Must provide projectId");this.aa=new dr(s.projectId,s.database),this.rd="[DEFAULT]",this.od=new es}this.hd=r,this.ad=new zs({})}return Object.defineProperty(t.prototype,"ud",{get:function(){return this.ld||(this.ld=new Jo(this.aa,this.ad.ignoreUndefinedProperties)),this.ld},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Ke("Firestore.settings",arguments,1),Xe("Firestore.settings","object",1,t);var e=new zs(t);if(this.nd&&!this.ad.isEqual(e))throw new yr(gr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.ad=e,void 0!==e.credentials&&(this.od=function(t){if(!t)return new es;switch(t.type){case"gapi":var e=t._d;return u(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new is(e,t.$a||"0");case"provider":return t._d;default:throw new yr(gr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ed(),this.nd.enableNetwork()},t.prototype.disableNetwork=function(){return this.ed(),this.nd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.nd)throw new yr(gr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&o("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new yr(gr.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.fd(this.hd,{$f:!0,cacheSizeBytes:this.ad.cacheSizeBytes,synchronizeTabs:r,Di:i})},t.prototype.clearPersistence=function(){return or.__awaiter(this,void 0,void 0,function(){var t,e=this;return or.__generator(this,function(n){if(void 0!==this.nd&&!this.nd.Lf)throw new yr(gr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Vi,[2,(this.td.po(function(){return or.__awaiter(e,void 0,void 0,function(){var e;return or.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hd.clearPersistence(this.aa,this.rd)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}})})}),t.promise)]})})},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"dd",{get:function(){return this.ed(),this.nd.Lf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ed(),this.nd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this.ed(),qn(t))return Bn(this.nd,t);Xe("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return Bn(this.nd,e)},t.prototype.ed=function(){return this.nd||this.fd(new Bs,{$f:!1}),this.nd},t.prototype.wd=function(){return new pr(this.aa,this.rd,this.ad.host,this.ad.ssl,this.ad.forceLongPolling)},t.prototype.fd=function(t,e){var n=this.wd();return this.nd=new $s(this.od,this.td),this.nd.start(n,t,e)},t.sd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new yr(gr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(!n||"string"!=typeof n)throw new yr(gr.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new dr(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zf)throw new yr(gr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Ke("Firestore.collection",arguments,1),Xe("Firestore.collection","non-empty string",1,t),this.ed(),new ia(wr.N(t),this,null)},t.prototype.doc=function(t){return Ke("Firestore.doc",arguments,1),Xe("Firestore.doc","non-empty string",1,t),this.ed(),Js.Td(wr.N(t),this,null)},t.prototype.collectionGroup=function(t){if(Ke("Firestore.collectionGroup",arguments,1),Xe("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ed(),new na(function(t){return new Ei(wr.k(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Ke("Firestore.runTransaction",arguments,1),Xe("Firestore.runTransaction","function",1,t),this.ed().transaction(function(n){return t(new Xs(e,n))})},t.prototype.batch=function(){return this.ed(),new Ys(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(r()){case ar.LogLevel.DEBUG:return"debug";case ar.LogLevel.ERROR:return"error";case ar.LogLevel.SILENT:return"silent";case ar.LogLevel.WARN:return"warn";case ar.LogLevel.INFO:return"info";case ar.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;Ke("Firestore.setLogLevel",arguments,1),en("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,lr.setLogLevel(e)},t.prototype.Ed=function(){return this.ad.timestampsInSnapshots},t}(),Xs=function(){function t(t,e){this.Id=t,this.md=e}return t.prototype.get=function(t){var e=this;Ke("Transaction.get",arguments,1);var n=tr("Transaction.get",t,this.Id);return this.md.Au([n.ua]).then(function(t){if(!t||1!==t.length)return a();var r=t[0];if(r instanceof bi)return new ta(e.Id,n.ua,null,!1,!1,n.ca);if(r instanceof _i)return new ta(e.Id,n.ua,r,!1,!1,n.ca);throw a()})},t.prototype.set=function(t,e,n){Qe("Transaction.set",arguments,2,3);var r=tr("Transaction.set",t,this.Id);n=Yn("Transaction.set",n);var i=nr(r.ca,e,n),o=yn(this.Id.ud,"Transaction.set",r.ua,i,null!==r.ca,n);return this.md.set(r.ua,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Mo?(ze("Transaction.update",arguments,3),r=tr("Transaction.update",t,this.Id),i=_n(this.Id.ud,"Transaction.update",r.ua,e,n,o)):(Ke("Transaction.update",arguments,2),r=tr("Transaction.update",t,this.Id),i=mn(this.Id.ud,"Transaction.update",r.ua,e)),this.md.update(r.ua,i),this},t.prototype.delete=function(t){Ke("Transaction.delete",arguments,1);var e=tr("Transaction.delete",t,this.Id);return this.md.delete(e.ua),this},t}(),Ys=function(){function t(t){this.Id=t,this.Ad=[],this.Rd=!1}return t.prototype.set=function(t,e,n){Qe("WriteBatch.set",arguments,2,3),this.Pd();var r=tr("WriteBatch.set",t,this.Id);n=Yn("WriteBatch.set",n);var i=nr(r.ca,e,n),o=yn(this.Id.ud,"WriteBatch.set",r.ua,i,null!==r.ca,n);return this.Ad=this.Ad.concat(o.la(r.ua,ci.We())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Pd(),"string"==typeof e||e instanceof Mo?(ze("WriteBatch.update",arguments,3),r=tr("WriteBatch.update",t,this.Id),i=_n(this.Id.ud,"WriteBatch.update",r.ua,e,n,o)):(Ke("WriteBatch.update",arguments,2),r=tr("WriteBatch.update",t,this.Id),i=mn(this.Id.ud,"WriteBatch.update",r.ua,e)),this.Ad=this.Ad.concat(i.la(r.ua,ci.exists(!0))),this},t.prototype.delete=function(t){Ke("WriteBatch.delete",arguments,1),this.Pd();var e=tr("WriteBatch.delete",t,this.Id);return this.Ad=this.Ad.concat(new di(e.ua,ci.We())),this},t.prototype.commit=function(){return this.Pd(),this.Rd=!0,this.Ad.length>0?this.Id.ed().write(this.Ad):Promise.resolve()},t.prototype.Pd=function(){if(this.Rd)throw new yr(gr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.aa,e,r)||this).ua=e,i.firestore=n,i.ca=r,i.nd=i.firestore.ed(),i}return or.__extends(e,t),e.Td=function(t,n,r){if(t.length%2!=0)throw new yr(gr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.$()+" has "+t.length);return new e(new Tr(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.ua.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ia(this.ua.path.p(),this.firestore,this.ca)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.ua.path.$()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Ke("DocumentReference.collection",arguments,1),Xe("DocumentReference.collection","non-empty string",1,t),!t)throw new yr(gr.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=wr.N(t);return new ia(this.ua.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw un("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.ua.isEqual(t.ua)&&this.ca===t.ca},e.prototype.set=function(t,e){Qe("DocumentReference.set",arguments,1,2),e=Yn("DocumentReference.set",e);var n=nr(this.ca,t,e),r=yn(this.firestore.ud,"DocumentReference.set",this.ua,n,null!==this.ca,e);return this.nd.write(r.la(this.ua,ci.We()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Mo?(ze("DocumentReference.update",arguments,2),n=_n(this.firestore.ud,"DocumentReference.update",this.ua,t,e,r)):(Ke("DocumentReference.update",arguments,1),n=mn(this.firestore.ud,"DocumentReference.update",this.ua,t)),this.nd.write(n.la(this.ua,ci.exists(!0)))},e.prototype.delete=function(){return Ke("DocumentReference.delete",arguments,0),this.nd.write([new di(this.ua,ci.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Qe("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||qn(i[a])||(an("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),Ze("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(qn(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Xe("DocumentReference.onSnapshot","function",a,i[a]),Ye("DocumentReference.onSnapshot","function",a+1,i[a+1]),Ye("DocumentReference.onSnapshot","function",a+2,i[a+2]);var h={next:function(t){i[a]&&i[a](r.gd(t))},error:i[a+1],complete:i[a+2]};return Wn(this.nd,this.ua,u,h)},e.prototype.get=function(t){var e=this;return Qe("DocumentReference.get",arguments,0,1),Zn("DocumentReference.get",t),t&&"cache"===t.source?this.firestore.ed().qf(this.ua).then(function(t){return new ta(e.firestore,e.ua,t,!0,t instanceof _i&&t.Ke,e.ca)}):function(t,e,n){var r=new Vi,i=Wn(t,e,{includeMetadataChanges:!0,S_:!0},{next:function(t){i();var o=t.docs.has(e);!o&&t.fromCache?r.reject(new yr(gr.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&t.fromCache&&n&&"server"===n.source?r.reject(new yr(gr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(this.nd,this.ua,t).then(function(t){return e.gd(t)})},e.prototype.withConverter=function(t){return new e(this.ua,this.firestore,t)},e.prototype.gd=function(t){var e=t.docs.get(this.ua);return new ta(this.firestore,this.ua,e,t.fromCache,t.hasPendingWrites,this.ca)},e}(zo),Zs=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ta=function(){function t(t,e,n,r,i,o){this.Id=t,this.ua=e,this.Vd=n,this.yd=r,this.pd=i,this.ca=o}return t.prototype.data=function(t){var e=this;if(Qe("DocumentSnapshot.data",arguments,0,1),t=Jn("DocumentSnapshot.data",t),this.Vd){if(this.ca){var n=new ea(this.Id,this.ua,this.Vd,this.yd,this.pd,null);return this.ca.fromFirestore(n,t)}return new Gs(this.Id.aa,this.Id.Ed(),t.serverTimestamps||"none",function(t){return new Js(t,e.Id,null)}).Kf(this.Vd.Ze())}},t.prototype.get=function(t,e){var n=this;if(Qe("DocumentSnapshot.get",arguments,1,2),e=Jn("DocumentSnapshot.get",e),this.Vd){var r=this.Vd.data().field(Cn("DocumentSnapshot.get",t,this.ua));if(null!==r)return new Gs(this.Id.aa,this.Id.Ed(),e.serverTimestamps||"none",function(t){return new Js(t,n.Id,n.ca)}).Kf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.ua.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Js(this.ua,this.Id,this.ca)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Vd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Zs(this.pd,this.yd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw un("isEqual","DocumentSnapshot",1,e);return this.Id===e.Id&&this.yd===e.yd&&this.ua.isEqual(e.ua)&&(null===this.Vd?null===e.Vd:this.Vd.isEqual(e.Vd))&&this.ca===e.ca},t}(),ea=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return or.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(ta),na=function(){function t(t,e,n){this.bd=t,this.firestore=e,this.ca=n}return t.prototype.where=function(e,n,r){Ke("Query.where",arguments,3),sn("Query.where",3,r);var i=en("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n),o=Cn("Query.where",e),s=$n(this.bd,"Query.where",this.firestore.ud,this.firestore.aa,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Ei(t.path,t.collectionGroup,t.tn.slice(),n,t.limit,t.en,t.startAt,t.endAt)}(this.bd,s),this.firestore,this.ca)},t.prototype.orderBy=function(e,n){var r;if(Qe("Query.orderBy",arguments,1,2),Ye("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new yr(gr.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Cn("Query.orderBy",e),o=Hn(this.bd,i,r);return new t(function(t,e){var n=t.tn.concat([e]);return new Ei(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.en,t.startAt,t.endAt)}(this.bd,o),this.firestore,this.ca)},t.prototype.limit=function(e){return Ke("Query.limit",arguments,1),Xe("Query.limit","number",1,e),cn("Query.limit",1,e),new t(Kt(this.bd,e,"F"),this.firestore,this.ca)},t.prototype.limitToLast=function(e){return Ke("Query.limitToLast",arguments,1),Xe("Query.limitToLast","number",1,e),cn("Query.limitToLast",1,e),new t(Kt(this.bd,e,"L"),this.firestore,this.ca)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ze("Query.startAt",arguments,1);var i=this.vd("Query.startAt",e,n,!0);return new t(zt(this.bd,i),this.firestore,this.ca)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ze("Query.startAfter",arguments,1);var i=this.vd("Query.startAfter",e,n,!1);return new t(zt(this.bd,i),this.firestore,this.ca)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ze("Query.endBefore",arguments,1);var i=this.vd("Query.endBefore",e,n,!0);return new t(Qt(this.bd,i),this.firestore,this.ca)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ze("Query.endAt",arguments,1);var i=this.vd("Query.endAt",e,n,!1);return new t(Qt(this.bd,i),this.firestore,this.ca)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw un("isEqual","Query",1,e);return this.firestore===e.firestore&&Xt(this.bd,e.bd)&&this.ca===e.ca},t.prototype.withConverter=function(e){return new t(this.bd,this.firestore,e)},t.prototype.vd=function(t,e,n,r){if(sn(t,1,e),e instanceof ta)return Ke(t,or.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new yr(gr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ht(t);s<a.length;s++){var u=a[s];if(u.field.O())o.push($(e,r.key));else{var c=r.field(u.field);if(x(c))throw new yr(gr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var h=u.field.$();throw new yr(gr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ki(o,i)}(this.bd,this.firestore.aa,t,e.Vd,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.tn;if(i.length>s.length)throw new yr(gr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.O()){if("string"!=typeof c)throw new yr(gr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!$t(t)&&-1!==c.indexOf("/"))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var h=t.path.child(wr.N(c));if(!Tr.W(h))throw new yr(gr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var l=new Tr(h);a.push($(e,l))}else{var f=bn(n,r,c);a.push(f)}}return new ki(a,o)}(this.bd,this.firestore.aa,this.firestore.ud,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];Qe("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||qn(i[a])||(an("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),Ze("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),qn(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Xe("Query.onSnapshot","function",a,i[a]),Ye("Query.onSnapshot","function",a+1,i[a+1]),Ye("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new ra(r.firestore,r.bd,t,r.ca))},error:i[a+1],complete:i[a+2]};return Qn(this.bd),Xn(this.firestore.ed(),this.bd,s,c)},t.prototype.get=function(t){var e=this;Qe("Query.get",arguments,0,1),Zn("Query.get",t),Qn(this.bd);var n=this.firestore.ed();return(t&&"cache"===t.source?n.Bf(this.bd):function(t,e,n){var r=new Vi,i=Xn(t,e,{includeMetadataChanges:!0,S_:!0},{next:function(t){i(),t.fromCache&&n&&"server"===n.source?r.reject(new yr(gr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(t)},error:function(t){return r.reject(t)}});return r.promise}(n,this.bd,t)).then(function(t){return new ra(e.firestore,e.bd,t,e.ca)})},t}(),ra=function(){function t(t,e,n,r){this.Id=t,this.Sd=e,this.Dd=n,this.ca=r,this.Cd=null,this.Fd=null,this.metadata=new Zs(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Dd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Dd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;Qe("QuerySnapshot.forEach",arguments,1,2),Xe("QuerySnapshot.forEach","function",1,t),this.Dd.docs.forEach(function(r){t.call(e,n.$d(r,n.metadata.fromCache,n.Dd.Lt.has(r.key)))})},Object.defineProperty(t.prototype,"query",{get:function(){return new na(this.Sd,this.Id,this.ca)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(an("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Ze("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Dd.Bt)throw new yr(gr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Cd&&this.Fd===e||(this.Cd=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map(function(e){var i=n(e.doc,t.fromCache,t.Lt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}})}var i=t.Ot;return t.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:er(e.type),doc:r,oldIndex:o,newIndex:s}})}(this.Dd,e,this.$d.bind(this)),this.Fd=e),this.Cd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw un("isEqual","QuerySnapshot",1,e);return this.Id===e.Id&&Xt(this.Sd,e.Sd)&&this.Dd.isEqual(e.Dd)&&this.ca===e.ca},t.prototype.$d=function(t,e,n){return new ea(this.Id,t.key,t,e,n,this.ca)},t}(),ia=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Wt(e),n,r)||this).Nd=e,e.length%2!=1)throw new yr(gr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.$()+" has "+e.length);return i}return or.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.bd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.bd.path.p();return t._()?null:new Js(new Tr(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.bd.path.$()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){Qe("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=fr.t()),Xe("CollectionReference.doc","non-empty string",1,t);var e=wr.N(t);return Js.Td(this.bd.path.child(e),this.firestore,this.ca)},e.prototype.add=function(t){Ke("CollectionReference.add",arguments,1),Xe("CollectionReference.add","object",1,this.ca?this.ca.toFirestore(t):t);var e=this.doc();return e.set(t).then(function(){return e})},e.prototype.withConverter=function(t){return new e(this.Nd,this.firestore,t)},e}(na),oa={Firestore:Qs,GeoPoint:Go,Timestamp:mr,Blob:Do,Transaction:Xs,WriteBatch:Ys,DocumentReference:Js,DocumentSnapshot:ta,Query:na,QueryDocumentSnapshot:ea,QuerySnapshot:ra,CollectionReference:ia,FieldPath:Mo,FieldValue:$o,setLogLevel:Qs.setLogLevel,CACHE_SIZE_UNLIMITED:Ks};rr(sr),e.__PRIVATE_registerFirestore=rr}).call(e,n(7))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(){}function o(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){var e=o(t);return"array"==e||"object"==e&&"number"==typeof t.length}function a(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function u(t){return Object.prototype.hasOwnProperty.call(t,sn)&&t[sn]||(t[sn]=++an)}function c(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function l(t,e,n){return l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h,l.apply(null,arguments)}function f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function p(t,e){function n(){}n.prototype=e.prototype,t.M=e.prototype,t.prototype=new n,t.prototype.constructor=t}function d(){this.j=this.j,this.i=this.i}function v(t){t:{for(var e=we,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}function g(t){return Array.prototype.concat.apply([],arguments)}function y(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function m(t){return/^[\s\xa0]*$/.test(t)}function _(t,e){return-1!=t.indexOf(e)}function b(t,e){return t<e?-1:t>e?1:0}function w(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function E(t){var e={};for(var n in t)e[n]=t[n];return e}function I(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<vn.length;o++)n=vn[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function T(t){return T[" "](t),t}function C(t,e){var n=Nn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function S(){var t=on.document;return t?t.documentMode:void 0}function N(t){return C(t,function(){for(var e=0,n=fn(String(gn)).split("."),r=fn(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=b(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||b(0==s[2].length,0==a[2].length)||b(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function k(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(wn){t:{try{T(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:xn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function O(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.aa=i,this.key=++Ln,this.V=this.X=!1}function P(t){t.V=!0,t.listener=null,t.proxy=null,t.src=null,t.aa=null}function R(t){this.src=t,this.a={},this.b=0}function x(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=hn(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(P(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function D(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.V&&o.listener==e&&o.capture==!!n&&o.aa==r)return i}return-1}function L(t,e,n,r,i){if(r&&r.once)return j(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)L(t,e[o],n,r,i);return null}return n=H(n),t&&t[Dn]?t.ra(e,n,a(r)?!!r.capture:!!r,i):M(t,e,n,!1,r,i)}function M(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i;if(s&&!On)return null;var u=$(t);if(u||(t[Mn]=u=new R(t)),n=u.add(e,n,r,s,o),n.proxy)return n;if(r=F(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(q(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function F(){var t=W,e=On?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function j(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)j(t,e[o],n,r,i);return null}return n=H(n),t&&t[Dn]?t.sa(e,n,a(r)?!!r.capture:!!r,i):M(t,e,n,!0,r,i)}function U(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)U(t,e[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=H(n),t&&t[Dn]?(t=t.c,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=D(o,n,r,i))&&(P(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=$(t))&&(e=t.a[e.toString()],t=-1,e&&(t=D(e,n,r,i)),(n=-1<t?e[t]:null)&&V(n))}function V(t){if("number"!=typeof t&&t&&!t.V){var e=t.src;if(e&&e[Dn])x(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(q(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$(e))?(x(n,t),0==n.b&&(n.src=null,e[Mn]=null)):P(t)}}}function q(t){return t in Fn?Fn[t]:Fn[t]="on"+t}function B(t,e){var n=t.listener,r=t.aa||t.src;return t.X&&V(t),n.call(r,e)}function W(t,e){if(t.V)return!0;if(!On){if(!e)t:{e=["window","event"];for(var n=on,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return e=new k(e,this),B(t,e)}return B(t,new k(e,this))}function $(t){return t=t[Mn],t instanceof R?t:null}function H(t){return"function"==o(t)?t:(t[jn]||(t[jn]=function(e){return t.handleEvent(e)}),t[jn])}function G(){d.call(this),this.c=new R(this),this.J=this,this.A=null}function K(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.V&&s.capture==n){var a=s.listener,u=s.aa||s.src;s.X&&x(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function z(){this.b=this.a=null}function Q(){var t=Wn,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function X(){this.next=this.b=this.a=null}function Y(t){on.setTimeout(function(){throw t},0)}function J(t,e){qn||Z(),Bn||(qn(),Bn=!0),Wn.add(t,e)}function Z(){var t=on.Promise.resolve(void 0);qn=function(){t.then(tt)}}function tt(){for(var t;t=Q();){try{t.a.call(t.b)}catch(t){Y(t)}var e=Vn;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Bn=!1}function et(t,e){G.call(this),this.b=t||1,this.a=e||on,this.f=l(this.Ua,this),this.g=un()}function nt(t){t.Z=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function rt(t,e,n){if("function"==o(t))n&&(t=l(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=l(t.handleEvent,t)}return 2147483647<Number(e)?-1:on.setTimeout(t,e||0)}function it(t,e,n){d.call(this),this.f=null!=n?l(t,n):t,this.c=e,this.b=l(this.Pa,this),this.a=[]}function ot(t){t.T=rt(t.b,t.c),t.f.apply(null,t.a)}function st(t){d.call(this),this.b=t,this.a={}}function at(t,e,n,r){Array.isArray(n)||(n&&($n[0]=n.toString()),n=$n);for(var i=0;i<n.length;i++){var o=L(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ut(t){w(t.a,function(t,e){this.a.hasOwnProperty(e)&&V(t)},t),t.a={}}function ct(){}function ht(){return Hn=Hn||new G}function lt(t){A.call(this,"serverreachability",t)}function ft(t){var e=ht();e.dispatchEvent(new lt(e,t))}function pt(t){A.call(this,"statevent",t)}function dt(t){var e=ht();e.dispatchEvent(new pt(e,t))}function vt(t){A.call(this,"timingevent",t)}function gt(t,e){if("function"!=o(t))throw Error("Fn must not be null and must be a function");return on.setTimeout(function(){t()},e)}function yt(){}function mt(t){var e;return(e=t.a)||(e=t.a={}),e}function _t(){}function bt(){A.call(this,"d")}function wt(){A.call(this,"c")}function Et(){}function It(t,e,n){this.g=t,this.W=e,this.U=n||1,this.G=new st(this),this.N=Xn,t=bn?125:void 0,this.O=new et(t),this.m=null,this.b=!1,this.j=this.A=this.f=this.B=this.s=this.P=this.h=null,this.i=[],this.a=null,this.w=0,this.c=this.v=null,this.H=-1,this.l=!1,this.J=0,this.D=null,this.o=this.R=this.F=!1}function Tt(t,e,n){t.B=1,t.f=Kt(qt(e)),t.j=n,t.F=!0,Ct(t,null)}function Ct(t,e){t.s=un(),At(t),t.A=qt(t.f);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),re(n.b,"t",r),t.w=0,t.a=ze(t.g,t.g.w?e:null),0<t.J&&(t.D=new it(l(t.ya,t,t.a),t.J)),at(t.G,t.a,"readystatechange",t.Sa),e=t.m?E(t.m):{},t.j?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.$(t.A,t.v,t.j,e)):(t.v="GET",t.a.$(t.A,t.v,null,e)),ft(1)}function St(t,e,n){for(var r=!0;!t.l&&t.w<n.length;){var i=Nt(t,n);if(i==Jn){4==e&&(t.c=4,dt(14),r=!1);break}if(i==Yn){t.c=4,dt(15),r=!1;break}xt(t,i)}4==e&&0==n.length&&(t.c=1,dt(16),r=!1),t.b=t.b&&r,r||(Rt(t),Pt(t))}function Nt(t,e){var n=t.w,r=e.indexOf("\n",n);return-1==r?Jn:(n=Number(e.substring(n,r)),isNaN(n)?Yn:(r+=1)+n>e.length?Jn:(e=e.substr(r,n),t.w=r+n,e))}function At(t){t.P=un()+t.N,kt(t,t.N)}function kt(t,e){if(null!=t.h)throw Error("WatchDog timer not null");t.h=gt(l(t.Qa,t),e)}function Ot(t){t.h&&(on.clearTimeout(t.h),t.h=null)}function Pt(t){0==t.g.u||t.l||We(t.g,t)}function Rt(t){Ot(t);var e=t.D;e&&"function"==typeof e.da&&e.da(),t.D=null,nt(t.O),ut(t.G),t.a&&(e=t.a,t.a=null,e.abort(),e.da())}function xt(t,e){try{var n=t.g;if(0!=n.u&&(n.a==t||he(n.b,t)))if(n.A=t.H,!t.o&&he(n.b,t)&&3==n.u){try{var r=n.ja.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.i){if(n.a){if(!(n.a.s+3e3<t.s))break t;Be(n),n.a.cancel(),n.a=null}qe(n),dt(18)}}else n.ia=i[1],0<n.ia-n.G&&37500>i[2]&&n.U&&0==n.m&&!n.l&&(n.l=gt(l(n.Na,n),6e3));if(1>=ce(n.b)&&n.O){try{n.O()}catch(t){}n.O=void 0}}else He(n,11)}else if((t.o||n.a==t)&&Be(n),!m(e))for(e=r=n.ja.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.G=i[0],i=i[1],2==n.u)if("c"==i[0]){n.B=i[1],n.R=i[2];var o=i[3];null!=o&&(n.oa=o);var s=i[5];null!=s&&"number"==typeof s&&0<s&&(n.D=1.5*s);var a=n,u=t.a;if(u){var c=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=a.b;!h.a&&(_(c,"spdy")||_(c,"quic")||_(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(le(h,h.b),h.b=null))}if(a.s){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.ha=f,Gt(a.v,a.s,f))}}n.u=3,n.c&&n.c.na(),a=n;var p=t;if(a.ea=Ke(a,a.w?a.R:null,a.P),p.o){fe(a.b,p);var d=p,v=a.D;v&&d.setTimeout(v),d.h&&(Ot(d),At(d)),a.a=p}else Ve(a);0<n.f.length&&Le(n)}else"stop"!=i[0]&&"close"!=i[0]||He(n,7);else 3==n.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?He(n,7):Re(n):"noop"!=i[0]&&n.c&&n.c.ma(i),n.m=0);ft(4)}catch(t){}}function Dt(t){if(t.I&&"function"==typeof t.I)return t.I();if("string"==typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function Lt(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"==typeof t)ln(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.I&&"function"==typeof t.I)n=void 0;else if(s(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Dt(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Mt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Mt)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ft(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];jt(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],jt(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ut(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vt(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Vt){this.a=void 0!==e?e:t.a,Bt(this,t.f),this.j=t.j,Wt(this,t.c),$t(this,t.h),this.g=t.g,e=t.b;var n=new Zt;n.c=e.c,e.a&&(n.a=new Mt(e.a),n.b=e.b),Ht(this,n),this.i=t.i}else t&&(n=String(t).match(Zn))?(this.a=!!e,Bt(this,n[1]||"",!0),this.j=Xt(n[2]||""),Wt(this,n[3]||"",!0),$t(this,n[4]),this.g=Xt(n[5]||"",!0),Ht(this,n[6]||"",!0),this.i=Xt(n[7]||"")):(this.a=!!e,this.b=new Zt(null,this.a))}function qt(t){return new Vt(t)}function Bt(t,e,n){t.f=n?Xt(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Wt(t,e,n){t.c=n?Xt(e,!0):e}function $t(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ht(t,e,n){e instanceof Zt?(t.b=e,oe(t.b,t.a)):(n||(e=Yt(e,rr)),t.b=new Zt(e,t.a))}function Gt(t,e,n){t.b.set(e,n)}function Kt(t){return Gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^un()).toString(36)),t}function zt(t){return t instanceof Vt?qt(t):new Vt(t,void 0)}function Qt(t,e,n,r){var i=new Vt(null,void 0);return t&&Bt(i,t),e&&Wt(i,e),n&&$t(i,n),r&&(i.g=r),i}function Xt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yt(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Jt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jt(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function Zt(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function te(t){t.a||(t.a=new Mt,t.b=0,t.c&&Ut(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ee(t,e){te(t),e=ie(t,e),jt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,jt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ft(t)))}function ne(t,e){return te(t),e=ie(t,e),jt(t.a.b,e)}function re(t,e,n){ee(t,e),0<n.length&&(t.c=null,t.a.set(ie(t,e),y(n)),t.b+=n.length)}function ie(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function oe(t,e){e&&!t.f&&(te(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(ee(this,e),re(this,n,t))},t)),t.f=e}function se(t,e){this.b=t,this.a=e}function ae(t){this.g=t||or,on.PerformanceNavigationTiming?(t=on.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(on.ca&&on.ca.ua&&on.ca.ua()&&on.ca.ua().mb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}function ue(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ce(t){return t.b?1:t.a?t.a.size:0}function he(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function le(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function pe(t){var e,n;if(null!=t.b)return t.c.concat(t.b.i);if(null!=t.a&&0!==t.a.size){var i=t.c;try{for(var o=r(t.a.values()),s=o.next();!s.done;s=o.next()){var a=s.value;i=i.concat(a.i)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return y(t.c)}function de(){}function ve(){this.a=new de}function ge(t,e,n){var r=n||"";try{Lt(t,function(t,n){var i=t;a(t)&&(i=Un(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function ye(t,e){var n=new ct;if(on.Image){var r=new Image;r.onload=f(me,n,r,"TestLoadImage: loaded",!0,e),r.onerror=f(me,n,r,"TestLoadImage: error",!1,e),r.onabort=f(me,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=f(me,n,r,"TestLoadImage: timeout",!1,e),on.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function me(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function _e(t){G.call(this),this.headers=new Mt,this.G=t||null,this.b=!1,this.s=this.a=null,this.D="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.H=ar,this.B=this.F=!1}function be(t){return mn&&N(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function we(t){return"content-type"==t.toLowerCase()}function Ee(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ie(t),Ce(t)}function Ie(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Te(t){if(t.b&&void 0!==rn&&(!t.s[1]||4!=Ne(t)||2!=t.S()))if(t.l&&4==Ne(t))rt(t.va,0,t);else if(t.dispatchEvent("readystatechange"),4==Ne(t)){t.b=!1;try{var e=t.S();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.D).match(Zn)[1]||null;if(!o&&on.self&&on.self.location){var s=on.self.location.protocol;o=s.substr(0,s.length-1)}i=!ur.test(o?o.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Ne(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.S()+"]",Ie(t)}}finally{Ce(t)}}}function Ce(t,e){if(t.a){Se(t);var n=t.a,r=t.s[0]?i:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Se(t){t.a&&t.B&&(t.a.ontimeout=null),t.m&&(on.clearTimeout(t.m),t.m=null)}function Ne(t){return t.a?t.a.readyState:0}function Ae(t){var e="";return w(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function ke(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Ae(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Gt(t,e,n))}function Oe(t,e,n){return n&&n.internalChannelParams?n.internalChannelParams[t]||e:e}function Pe(t){this.f=[],this.R=this.ea=this.v=this.P=this.a=this.ha=this.s=this.N=this.h=this.F=this.j=null,this.Fa=this.H=0,this.Ca=Oe("failFast",!1,t),this.U=this.l=this.i=this.g=this.c=null,this.W=!0,this.A=this.ia=this.G=-1,this.J=this.m=this.o=0,this.Ba=Oe("baseRetryDelayMs",5e3,t),this.Ga=Oe("retryDelaySeedMs",1e4,t),this.Da=Oe("forwardChannelMaxRetries",2,t),this.ga=Oe("forwardChannelRequestTimeoutMs",2e4,t),this.Ea=t&&t.nb||void 0,this.D=void 0,this.w=t&&t.supportsCrossDomainXhr||!1,this.B="",this.b=new ae(t&&t.concurrentRequestLimit),this.ja=new ve,this.fa=t&&t.fastHandshake||!1,t&&t.forceLongPolling&&(this.W=!1),this.O=void 0}function Re(t){if(xe(t),3==t.u){var e=t.H++,n=qt(t.v);Gt(n,"SID",t.B),Gt(n,"RID",e),Gt(n,"TYPE","terminate"),je(t,n),e=new It(t,e,void 0),e.B=2,e.f=Kt(qt(n)),n=!1,on.navigator&&on.navigator.sendBeacon&&(n=on.navigator.sendBeacon(e.f.toString(),"")),!n&&on.Image&&((new Image).src=e.f,n=!0),n||(e.a=ze(e.g,null),e.a.$(e.f)),e.s=un(),At(e)}Ge(t)}function xe(t){t.a&&(t.a.cancel(),t.a=null),t.i&&(on.clearTimeout(t.i),t.i=null),Be(t),t.b.cancel(),t.g&&("number"==typeof t.g&&on.clearTimeout(t.g),t.g=null)}function De(t,e){t.f.push(new se(t.Fa++,e)),3==t.u&&Le(t)}function Le(t){ue(t.b)||t.g||(t.g=!0,J(t.xa,t),t.o=0)}function Me(t,e){return!(ce(t.b)>=t.b.f-(t.g?1:0))&&(t.g?(t.f=e.i.concat(t.f),!0):!(1==t.u||2==t.u||t.o>=(t.Ca?0:t.Da))&&(t.g=gt(l(t.xa,t,e),$e(t,t.o)),t.o++,!0))}function Fe(t,e){var n;n=e?e.W:t.H++;var r=qt(t.v);Gt(r,"SID",t.B),Gt(r,"RID",n),Gt(r,"AID",t.G),je(t,r),t.h&&t.j&&ke(r,t.h,t.j),n=new It(t,n,t.o+1),null===t.h&&(n.m=t.j),e&&(t.f=e.i.concat(t.f)),e=Ue(t,n,1e3),n.setTimeout(Math.round(.5*t.ga)+Math.round(.5*t.ga*Math.random())),le(t.b,n),Tt(n,r,e)}function je(t,e){t.c&&Lt({},function(t,n){Gt(e,n,t)})}function Ue(t,e,n){n=Math.min(t.f.length,n);var r=t.c?l(t.c.Ha,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{ge(h,s,"req"+c+"_")}catch(t){r&&r(h)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.i=t,r}function Ve(t){t.a||t.i||(t.J=1,J(t.wa,t),t.m=0)}function qe(t){return!(t.a||t.i||3<=t.m)&&(t.J++,t.i=gt(l(t.wa,t),$e(t,t.m)),t.m++,!0)}function Be(t){null!=t.l&&(on.clearTimeout(t.l),t.l=null)}function We(t,e){var n=null;if(t.a==e){Be(t),t.a=null;var r=2}else{if(!he(t.b,e))return;n=e.i,fe(t.b,e),r=1}if(t.A=e.H,0!=t.u)if(e.b)if(1==r){n=e.j?e.j.length:0,e=un()-e.s;var i=t.o;r=ht(),r.dispatchEvent(new vt(r,n,e,i)),Le(t)}else Ve(t);else if(3==(i=e.c)||0==i&&0<t.A||!(1==r&&Me(t,e)||2==r&&qe(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:He(t,5);break;case 4:He(t,10);break;case 3:He(t,6);break;default:He(t,2)}}function $e(t,e){var n=t.Ba+Math.floor(Math.random()*t.Ga);return t.c||(n*=2),n*e}function He(t,e){if(2==e){var n=null;t.c&&(n=null);var r=l(t.Ta,t);n||(n=new Vt("//www.google.com/images/cleardot.gif"),on.location&&"http"==on.location.protocol||Bt(n,"https"),Kt(n)),ye(n.toString(),r)}else dt(2);t.u=0,t.c&&t.c.la(e),Ge(t),xe(t)}function Ge(t){t.u=0,t.A=-1,t.c&&(0==pe(t.b).length&&0==t.f.length||(t.b.c.length=0,y(t.f),t.f.length=0),t.c.ka())}function Ke(t,e,n){var r=zt(n);if(""!=r.c)e&&Wt(r,e+"."+r.c),$t(r,r.h);else{var i=on.location;r=Qt(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.N&&w(t.N,function(t,e){Gt(r,e,t)}),e=t.s,n=t.ha,e&&n&&Gt(r,e,n),Gt(r,"VER",t.oa),je(t,r),r}function ze(t,e){if(e&&!t.w)throw Error("Can't create secondary domain capable XhrIo object.");return e=new _e(t.Ea),e.F=t.w,e}function Qe(){}function Xe(){if(mn&&!(10<=Number(kn)))throw Error("Environmental error: no available transport.")}function Ye(t,e){G.call(this),this.a=new Pe(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.j=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.pa&&(t?t["X-WebChannel-Client-Profile"]=e.pa:t={"X-WebChannel-Client-Profile":e.pa}),this.a.F=t,(t=e&&e.httpHeadersOverwriteParam)&&!m(t)&&(this.a.h=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!m(e)&&(this.a.s=e,null!==(t=this.b)&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new tn(this)}function Je(t){bt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ze(){wt.call(this),this.status=1}function tn(t){this.a=t}n.d(e,"ErrorCode",function(){return fr}),n.d(e,"EventType",function(){return pr}),n.d(e,"WebChannel",function(){return dr}),n.d(e,"XhrIo",function(){return vr}),n.d(e,"createWebChannelTransport",function(){return lr});var en,nn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},rn=rn||{},on=nn||self,sn="closure_uid_"+(1e9*Math.random()>>>0),an=0,un=Date.now||function(){return+new Date};d.prototype.j=!1,d.prototype.da=function(){if(!this.j&&(this.j=!0,this.C(),!1)){u(this)}},d.prototype.C=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var cn,hn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ln=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},fn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};t:{var pn=on.navigator;if(pn){var dn=pn.userAgent;if(dn){cn=dn;break t}}cn=""}var vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");T[" "]=i;var gn,yn=_(cn,"Opera"),mn=_(cn,"Trident")||_(cn,"MSIE"),_n=_(cn,"Edge"),bn=_n||mn,wn=_(cn,"Gecko")&&!(_(cn.toLowerCase(),"webkit")&&!_(cn,"Edge"))&&!(_(cn,"Trident")||_(cn,"MSIE"))&&!_(cn,"Edge"),En=_(cn.toLowerCase(),"webkit")&&!_(cn,"Edge");t:{var In="",Tn=function(){var t=cn;return wn?/rv:([^\);]+)(\)|;)/.exec(t):_n?/Edge\/([\d\.]+)/.exec(t):mn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):En?/WebKit\/(\S+)/.exec(t):yn?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Tn&&(In=Tn?Tn[1]:""),mn){var Cn=S();if(null!=Cn&&Cn>parseFloat(In)){gn=String(Cn);break t}}gn=In}var Sn,Nn={};if(on.document&&mn){var An=S();Sn=An||(parseInt(gn,10)||void 0)}else Sn=void 0;var kn=Sn,On=!mn||9<=Number(kn),Pn=mn&&!N("9"),Rn=function(){if(!on.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{on.addEventListener("test",i,e),on.removeEventListener("test",i,e)}catch(t){}return t}();A.prototype.b=function(){this.defaultPrevented=!0},p(k,A);var xn={2:"touch",3:"pen",4:"mouse"};k.prototype.b=function(){k.M.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Pn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Dn="closure_listenable_"+(1e6*Math.random()|0),Ln=0;R.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=D(t,e,r,i);return-1<s?(e=t[s],n||(e.X=!1)):(e=new O(e,this.src,o,!!r,i),e.X=n,t.push(e)),e};var Mn="closure_lm_"+(1e6*Math.random()|0),Fn={},jn="__closure_events_fn_"+(1e9*Math.random()>>>0);p(G,d),G.prototype[Dn]=!0,en=G.prototype,en.addEventListener=function(t,e,n,r){L(this,t,e,n,r)},en.removeEventListener=function(t,e,n,r){U(this,t,e,n,r)},en.dispatchEvent=function(t){var e,n=this.A;if(n)for(e=[];n;n=n.A)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var i=t;t=new A(r,n),I(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=K(s,r,!0,t)&&i}if(s=t.a=n,i=K(s,r,!0,t)&&i,i=K(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)s=t.a=e[o],i=K(s,r,!1,t)&&i;return i},en.C=function(){if(G.M.C.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)P(n[r]);delete e.a[t],e.b--}}this.A=null},en.ra=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},en.sa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Un=on.JSON.stringify,Vn=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new X},function(t){t.reset()},100);z.prototype.add=function(t,e){var n=Vn.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},X.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},X.prototype.reset=function(){this.next=this.b=this.a=null};var qn,Bn=!1,Wn=new z;p(et,G),en=et.prototype,en.Z=!1,en.L=null,en.Ua=function(){if(this.Z){var t=un()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.Z&&(nt(this),this.start()))}},en.start=function(){this.Z=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=un())},en.C=function(){et.M.C.call(this),nt(this),delete this.a},p(it,d),en=it.prototype,en.ba=!1,en.T=null,en.Ia=function(t){this.a=arguments,this.T?this.ba=!0:ot(this)},en.C=function(){it.M.C.call(this),this.T&&(on.clearTimeout(this.T),this.T=null,this.ba=!1,this.a=[])},en.Pa=function(){this.T=null,this.ba&&(this.ba=!1,ot(this))},p(st,d);var $n=[];st.prototype.C=function(){st.M.C.call(this),ut(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hn=null;p(lt,A),p(pt,A),p(vt,A);var Gn={NO_ERROR:0,Va:1,bb:2,ab:3,Ya:4,$a:5,cb:6,za:7,TIMEOUT:8,gb:9},Kn={Xa:"complete",kb:"success",Aa:"error",za:"abort",ib:"ready",jb:"readystatechange",TIMEOUT:"timeout",eb:"incrementaldata",hb:"progress",Za:"downloadprogress",lb:"uploadprogress"};yt.prototype.a=null;var zn={OPEN:"a",Wa:"b",Aa:"c",fb:"d"};p(bt,A),p(wt,A);var Qn;p(Et,yt),Qn=new Et;var Xn=45e3,Yn={},Jn={};en=It.prototype,en.setTimeout=function(t){this.N=t},en.Sa=function(t){t=t.target;var e=this.D;e&&3==Ne(t)?e.Ia():this.ya(t)},en.ya=function(t){try{if(t==this.a)t:{var e=Ne(this.a),n=this.a.qa(),r=this.a.S();if(!(3>e||3==e&&!bn&&!this.a.Y())){this.l||4!=e||7==n||ft(8==n||0>=r?3:2),Ot(this);var i=this.a.S();this.H=i;var o=this.a.Y();if(this.b=200==i){if(this.R&&!this.o){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.c=3,dt(12),Rt(this),Pt(this);break t}this.o=!0,xt(this,u)}this.F?(St(this,e,o),bn&&this.b&&3==e&&(at(this.G,this.O,"tick",this.Ra),this.O.start())):xt(this,o),4==e&&Rt(this),this.b&&!this.l&&(4==e?We(this.g,this):(this.b=!1,At(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,dt(12)):(this.c=0,dt(13)),Rt(this),Pt(this)}}}catch(t){}},en.Ra=function(){if(this.a){var t=Ne(this.a),e=this.a.Y();this.w<e.length&&(Ot(this),St(this,t,e),this.b&&4!=t&&At(this))}},en.cancel=function(){this.l=!0,Rt(this)},en.Qa=function(){this.h=null;var t=un();0<=t-this.P?(2!=this.B&&(ft(3),dt(17)),Rt(this),this.c=2,Pt(this)):kt(this,this.P-t)},en=Mt.prototype,en.I=function(){Ft(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},en.K=function(){return Ft(this),this.a.concat()},en.get=function(t,e){return jt(this.b,t)?this.b[t]:e},en.set=function(t,e){jt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},en.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Zn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Vt.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Yt(e,tr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Yt(e,tr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yt(n,"/"==n.charAt(0)?nr:er,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Yt(n,ir)),t.join("")};var tr=/[#\/\?@]/g,er=/[#\?:]/g,nr=/[#\?]/g,rr=/[#\?@]/g,ir=/#/g;en=Zt.prototype,en.add=function(t,e){te(this),this.c=null,t=ie(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},en.forEach=function(t,e){te(this),this.a.forEach(function(n,r){ln(n,function(n){t.call(e,n,r,this)},this)},this)},en.K=function(){te(this);for(var t=this.a.I(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},en.I=function(t){te(this);var e=[];if("string"==typeof t)ne(this,t)&&(e=g(e,this.a.get(ie(this,t))));else{t=this.a.I();for(var n=0;n<t.length;n++)e=g(e,t[n])}return e},en.set=function(t,e){return te(this),this.c=null,t=ie(this,t),ne(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},en.get=function(t,e){return t?(t=this.I(t),0<t.length?String(t[0]):e):e},en.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.I(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or=10;ae.prototype.cancel=function(){var t,e;if(this.c=pe(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=r(this.a.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},de.prototype.stringify=function(t){return on.JSON.stringify(t,void 0)},de.prototype.parse=function(t){return on.JSON.parse(t,void 0)};var sr=on.JSON.parse;p(_e,G);var ar="",ur=/^https?$/i,cr=["POST","PUT"];en=_e.prototype,en.$=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=mt(this.G?this.G:Qn),this.a.onreadystatechange=l(this.va,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(t){return void Ee(this,t)}t=n||"";var i=new Mt(this.headers);r&&Lt(r,function(t,e){i.set(e,t)}),r=v(i.K()),n=on.FormData&&t instanceof on.FormData,!(0<=hn(cr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.H&&(this.a.responseType=this.H),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Se(this),0<this.o&&((this.B=be(this.a))?(this.a.timeout=this.o,this.a.ontimeout=l(this.ta,this)):this.m=rt(this.ta,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Ee(this,t)}},en.ta=function(){void 0!==rn&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},en.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ce(this))},en.C=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ce(this,!0)),_e.M.C.call(this)},en.va=function(){this.j||(this.w||this.l||this.g?Te(this):this.Oa())},en.Oa=function(){Te(this)},en.S=function(){try{return 2<Ne(this)?this.a.status:-1}catch(t){return-1}},en.Y=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},en.Ja=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),sr(e)}},en.qa=function(){return this.h},en.Ma=function(){return"string"==typeof this.f?this.f:String(this.f)},en=Pe.prototype,en.oa=8,en.u=1,en.xa=function(t){if(this.g)if(this.g=null,1==this.u){if(!t){this.H=Math.floor(1e5*Math.random()),t=this.H++;var e=new It(this,t,void 0),n=this.j;this.F&&(n?(n=E(n),I(n,this.F)):n=this.F),null===this.h&&(e.m=n);var r;if(this.fa)t:{for(var i=r=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.f.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Ue(this,e,r),i=qt(this.v),Gt(i,"RID",t),Gt(i,"CVER",22),this.s&&Gt(i,"X-HTTP-Session-Id",this.s),je(this,i),this.h&&n&&ke(i,this.h,n),le(this.b,e),this.fa?(Gt(i,"$req",r),Gt(i,"SID","null"),e.R=!0,Tt(e,i,null)):Tt(e,i,r),this.u=2}}else 3==this.u&&(t?Fe(this,t):0==this.f.length||ue(this.b)||Fe(this))},en.wa=function(){this.i=null,this.a=new It(this,"rpc",this.J),null===this.h&&(this.a.m=this.j),this.a.J=0;var t=qt(this.ea);Gt(t,"RID","rpc"),Gt(t,"SID",this.B),Gt(t,"CI",this.U?"0":"1"),Gt(t,"AID",this.G),je(this,t),Gt(t,"TYPE","xmlhttp"),this.h&&this.j&&ke(t,this.h,this.j),this.D&&this.a.setTimeout(this.D);var e=this.a,n=this.R;e.B=1,e.f=Kt(qt(t)),e.j=null,e.F=!0,Ct(e,n)},en.Na=function(){null!=this.l&&(this.l=null,this.a.cancel(),this.a=null,qe(this),dt(19))},en.Ta=function(t){dt(t?2:1)},en=Qe.prototype,en.na=function(){},en.ma=function(){},en.la=function(){},en.ka=function(){},en.Ha=function(){},Xe.prototype.a=function(t,e){return new Ye(t,e)},p(Ye,G),en=Ye.prototype,en.addEventListener=function(t,e,n,r){Ye.M.addEventListener.call(this,t,e,n,r)},en.removeEventListener=function(t,e,n,r){Ye.M.removeEventListener.call(this,t,e,n,r)},en.Ka=function(){this.a.c=this.f,this.h&&(this.a.w=!0);var t=this.a,e=this.l,n=this.b||void 0;dt(0),t.P=e,t.N=n||{},t.U=t.W,t.v=Ke(t,null,t.P),Le(t)},en.close=function(){Re(this.a)},en.La=function(t){if("string"==typeof t){var e={};e.__data__=t,De(this.a,e)}else this.g?(e={},e.__data__=Un(t),De(this.a,e)):De(this.a,t)},en.C=function(){this.a.c=null,delete this.f,Re(this.a),delete this.a,Ye.M.C.call(this)},p(Je,bt),p(Ze,wt),p(tn,Qe),tn.prototype.na=function(){this.a.dispatchEvent("a")},tn.prototype.ma=function(t){this.a.dispatchEvent(new Je(t))},tn.prototype.la=function(t){this.a.dispatchEvent(new Ze(t))},tn.prototype.ka=function(){this.a.dispatchEvent("b")},Xe.prototype.createWebChannel=Xe.prototype.a,Ye.prototype.send=Ye.prototype.La,Ye.prototype.open=Ye.prototype.Ka,Ye.prototype.close=Ye.prototype.close,Gn.NO_ERROR=0,Gn.TIMEOUT=8,Gn.HTTP_ERROR=6,Kn.COMPLETE="complete",_t.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",G.prototype.listen=G.prototype.ra,_e.prototype.listenOnce=_e.prototype.sa,_e.prototype.getLastError=_e.prototype.Ma,_e.prototype.getLastErrorCode=_e.prototype.qa,_e.prototype.getStatus=_e.prototype.S,_e.prototype.getResponseJson=_e.prototype.Ja,_e.prototype.getResponseText=_e.prototype.Y,_e.prototype.send=_e.prototype.$;var hr={createWebChannelTransport:function(){return new Xe},ErrorCode:Gn,EventType:Kn,WebChannel:_t,XhrIo:_e},lr=hr.createWebChannelTransport,fr=hr.ErrorCode,pr=hr.EventType,dr=hr.WebChannel,vr=hr.XhrIo;e.default=hr}.call(e,n(4))},function(t,e,n){"use strict";function r(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function i(t,e,n){var i=r(t),o=i,s=void 0;try{var a=e&&e.error;if(a){var u=a.status;if("string"==typeof u){if(!f[u])return new p("internal","internal");i=f[u],o=u}var c=a.message;"string"==typeof c&&(o=c),s=a.details,void 0!==s&&(s=n.decode(s))}}catch(t){}return"ok"===i?null:new p(i,o,s)}function o(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new p("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}function a(t,e){return h.__awaiter(this,void 0,void 0,function(){var n;return h.__generator(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}function u(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new g(n,r,i,e)}var c=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(1)),h=n(0),l=n(2),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return h.__extends(e,t),e}(Error),d=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return h.__awaiter(this,void 0,void 0,function(){var t,e;return h.__generator(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e=n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return h.__awaiter(this,void 0,void 0,function(){return h.__generator(this,function(t){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return h.__awaiter(this,void 0,void 0,function(){var t,e;return h.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}(),v=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return o(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?o(t,function(t){return e.decode(t)}):t},t}(),g=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new v,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new d(e,n),this.cancelAllRequests=new Promise(function(t){i.deleteService=function(){return t()}})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;if(null!==this.emulatorOrigin){return this.emulatorOrigin+"/"+e+"/"+n+"/"+t}return"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return h.__awaiter(this,void 0,void 0,function(){var r,i,o,s;return h.__generator(this,function(a){switch(a.label){case 0:n.append("Content-Type","application/json"),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=a.sent(),[3,4];case 3:return i=a.sent(),[2,{status:0,json:null}];case 4:o=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,r.json()];case 6:return o=a.sent(),[3,8];case 7:return s=a.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}})})},t.prototype.call=function(t,e,n){return h.__awaiter(this,void 0,void 0,function(){var r,o,u,c,l,f,d,v,g,y,m,_;return h.__generator(this,function(h){switch(h.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},u=new Headers,[4,this.contextProvider.getContext()];case 1:return c=h.sent(),c.authToken&&u.append("Authorization","Bearer "+c.authToken),c.instanceIdToken&&u.append("Firebase-Instance-ID-Token",c.instanceIdToken),l=n.timeout||7e4,f=s(l),d=f.timer,v=f.promise,[4,Promise.race([a(d,this.postJSON(r,o,u)),v,a(d,this.cancelAllRequests)])];case 2:if(!(g=h.sent()))throw new p("cancelled","Firebase Functions instance was deleted.");if(y=i(g.status,g.json,this.serializer))throw y;if(!g.json)throw new p("internal","Response is not valid JSON object.");if(m=g.json.data,void 0===m&&(m=g.json.result),void 0===m)throw new p("internal","Response is missing data field.");return _=this.serializer.decode(m),[2,{data:_}]}})})},t}(),y="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){var e={Functions:g};t.INTERNAL.registerComponent(new l.Component(y,u,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(c),c.registerVersion("@firebase/functions","0.4.49")},function(t,e,n){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(t){var e,n;if(!t||!t.options)throw i("App Configuration Object");if(!t.name)throw i("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],o=t.options;try{for(var s=Object(K.__values)(r),a=s.next();!a.done;a=s.next()){var u=a.value;if(!o[u])throw i(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:o.projectId,apiKey:o.apiKey,appId:o.appId,senderId:o.messagingSenderId}}function i(t){return Y.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function o(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(K.__spread)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function a(t){return Object(K.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,s=this;return Object(K.__generator)(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(t){return t.name}),!n.includes(nt))return[2,null];a.label=2;case 2:return r=null,[4,Object(Q.openDb)(nt,rt,function(e){return Object(K.__awaiter)(s,void 0,void 0,function(){var n,i,s,s,s,a;return Object(K.__generator)(this,function(u){switch(u.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(it)?(n=e.transaction.objectStore(it),[4,n.index("fcmSenderId").get(t)]):[2];case 1:return i=u.sent(),[4,n.clear()];case 2:if(u.sent(),!i)return[2];if(2===e.oldVersion){if(s=i,!s.auth||!s.p256dh||!s.endpoint)return[2];r={token:s.fcmToken,createTime:null!==(a=s.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"==typeof s.vapidKey?s.vapidKey:o(s.vapidKey)}}}else 3===e.oldVersion?(s=i,r={token:s.fcmToken,createTime:s.createTime,subscriptionOptions:{auth:o(s.auth),p256dh:o(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:o(s.vapidKey)}}):4===e.oldVersion&&(s=i,r={token:s.fcmToken,createTime:s.createTime,subscriptionOptions:{auth:o(s.auth),p256dh:o(s.p256dh),endpoint:s.endpoint,swScope:s.swScope,vapidKey:o(s.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Object(Q.deleteDb)(nt)];case 4:return a.sent(),[4,Object(Q.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,Object(Q.deleteDb)("undefined")];case 6:return a.sent(),[2,u(r)?r:null]}})})}function u(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}function c(){return ut||(ut=Object(Q.openDb)(ot,st,function(t){switch(t.oldVersion){case 0:t.createObjectStore(at)}})),ut}function h(t){return Object(K.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(K.__generator)(this,function(o){switch(o.label){case 0:return e=p(t),[4,c()];case 1:return n=o.sent(),[4,n.transaction(at).objectStore(at).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,a(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,l(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}})})}function l(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(K.__generator)(this,function(o){switch(o.label){case 0:return n=p(t),[4,c()];case 1:return r=o.sent(),i=r.transaction(at,"readwrite"),[4,i.objectStore(at).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function f(t){return Object(K.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(K.__generator)(this,function(i){switch(i.label){case 0:return e=p(t),[4,c()];case 1:return n=i.sent(),r=n.transaction(at,"readwrite"),[4,r.objectStore(at).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function p(t){return t.appConfig.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function d(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(K.__generator)(this,function(c){switch(c.label){case 0:return[4,m(t)];case 1:n=c.sent(),r=_(e),i={method:"POST",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(y(t.appConfig),i)];case 3:return s=c.sent(),[4,s.json()];case 4:return o=c.sent(),[3,6];case 5:throw a=c.sent(),Y.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,Y.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw Y.create("token-subscribe-no-token");return[2,o.token]}})})}function v(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(K.__generator)(this,function(c){switch(c.label){case 0:return[4,m(t)];case 1:n=c.sent(),r=_(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(y(t.appConfig)+"/"+e.token,i)];case 3:return s=c.sent(),[4,s.json()];case 4:return o=c.sent(),[3,6];case 5:throw a=c.sent(),Y.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,Y.create("token-update-failed",{errorInfo:u});if(!o.token)throw Y.create("token-update-no-token");return[2,o.token]}})})}function g(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(K.__generator)(this,function(u){switch(u.label){case 0:return[4,m(t)];case 1:n=u.sent(),r={method:"DELETE",headers:n},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(y(t.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw s=o.error.message,Y.create("token-unsubscribe-failed",{errorInfo:s});return[3,6];case 5:throw a=u.sent(),Y.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function y(t){var e=t.projectId;return Z+"/projects/"+e+"/registrations"}function m(t){var e=t.appConfig,n=t.installations;return Object(K.__awaiter)(this,void 0,void 0,function(){var t;return Object(K.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function _(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==J&&(o.web.applicationPubKey=i),o}function b(t,e,n){return Object(K.__awaiter)(this,void 0,void 0,function(){var r,i,s,a;return Object(K.__generator)(this,function(u){switch(u.label){case 0:if("granted"!==Notification.permission)throw Y.create("permission-blocked");return[4,T(e,n)];case 1:return r=u.sent(),[4,h(t)];case 2:return i=u.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:o(r.getKey("auth")),p256dh:o(r.getKey("p256dh"))},i?[3,3]:[2,I(t,s)];case 3:if(C(i.subscriptionOptions,s))return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,g(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,I(t,s)];case 8:return Date.now()>=i.createTime+ct?[2,E({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function w(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(K.__generator)(this,function(i){switch(i.label){case 0:return[4,h(t)];case 1:return n=i.sent(),n?[4,g(t,n.token)]:[3,4];case 2:return i.sent(),[4,f(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function E(t,e,n){return Object(K.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(K.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,v(e,t)];case 1:return r=s.sent(),i=Object(K.__assign)(Object(K.__assign)({},t),{token:r,createTime:Date.now()}),[4,l(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,w(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function I(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(K.__generator)(this,function(i){switch(i.label){case 0:return[4,d(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,l(t,r)];case 2:return i.sent(),[2,r.token]}})})}function T(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n;return Object(K.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s(e)})]}})})}function C(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function S(t){return"object"==typeof t&&!!t&&et in t}function N(t){switch(t){case W.NOTIFICATION_CLICKED:return"notification_open";case W.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function A(t){return new Promise(function(e){setTimeout(e,t)})}function k(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}function O(t){var e;if(t&&"object"==typeof t.notification){var n=Object(K.__assign)({},t.notification);return n.data=Object(K.__assign)(Object(K.__assign)({},t.notification.data),(e={},e[tt]=t,e)),n}}function P(t){return Object(K.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u;return Object(K.__generator)(this,function(c){switch(c.label){case 0:return e=new URL(t,self.location.href),[4,D()];case 1:n=c.sent();try{for(r=Object(K.__values)(n),i=r.next();!i.done;i=r.next())if(o=i.value,s=new URL(o.url,self.location.href),s.host===e.host)return[2,o]}catch(t){a={error:t}}finally{try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}}return[2,null]}})})}function R(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}function x(t,e){var n,r,i=L(W.PUSH_RECEIVED,e);try{for(var o=Object(K.__values)(t),s=o.next();!s.done;s=o.next()){s.value.postMessage(i)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function D(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function L(t,e){return{firebaseMessaging:{type:t,payload:e}}}function M(t){var e,n=null!==(e=t.title)&&void 0!==e?e:"",r=t.actions,i=Notification.maxActions;return r&&i&&r.length>i&&console.warn("This browser only supports "+i+" actions. The remaining actions will not be displayed."),self.registration.showNotification(n,t)}function F(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(S(t.data)?self.location.origin:null)}function j(t){var e=t.getProvider("app").getImmediate(),n=r(e),i=t.getProvider("installations").getImmediate(),o=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:i,analyticsProvider:o};if(!U())throw Y.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new lt(s):new ht(s)}function U(){return self&&"ServiceWorkerGlobalScope"in self?q():V()}function V(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function q(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Object.defineProperty(e,"__esModule",{value:!0});var B,W,$=n(1),H=n.n($),G=(n(6),n(2)),K=(n.n(G),n(0)),z=n(3),Q=(n.n(z),n(10)),X=(n.n(Q),B={},B["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',B["only-available-in-window"]="This method is available in a Window context.",B["only-available-in-sw"]="This method is available in a service worker context.",B["permission-default"]="The notification permission was not granted and dismissed instead.",B["permission-blocked"]="The notification permission was not granted and blocked instead.",B["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",B["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",B["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",B["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",B["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",B["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",B["token-update-no-token"]="FCM returned no token when updating the user to push.",B["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",B["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",B["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",B["invalid-vapid-key"]="The public VAPID key must be a string.",B["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",B),Y=new z.ErrorFactory("messaging","Messaging",X),J="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Z="https://fcmregistrations.googleapis.com/v1",tt="FCM_MSG",et="google.c.a.c_id";!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(W||(W={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nt="fcm_token_details_db",rt=5,it="fcm_token_object_Store",ot="firebase-messaging-database",st=1,at="firebase-messaging-store",ut=null,ct=6048e5,ht=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.getToken=function(){return Object(K.__awaiter)(this,void 0,void 0,function(){var t;return Object(K.__generator)(this,function(e){switch(e.label){case 0:return this.vapidKey||(this.vapidKey=J),[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:e.sent(),e.label=3;case 3:if("granted"!==Notification.permission)throw Y.create("permission-blocked");return[2,b(this.firebaseDependencies,t,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Object(K.__awaiter)(this,void 0,void 0,function(){var t;return Object(K.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return t=e.sent(),[2,w(this.firebaseDependencies,t)]}})})},t.prototype.requestPermission=function(){return Object(K.__awaiter)(this,void 0,void 0,function(){var t;return Object(K.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?Y.create("permission-blocked"):Y.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Y.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Y.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Y.create("invalid-sw-registration");if(this.swRegistration)throw Y.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Y.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.getServiceWorkerRegistration=function(){return Object(K.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(K.__generator)(this,function(n){switch(n.label){case 0:if(this.swRegistration)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,4];case 3:throw e=n.sent(),Y.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 4:return[2,this.swRegistration]}})})},t.prototype.messageEventListener=function(t){var e;return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(K.__generator)(this,function(s){switch(s.label){case 0:return(null===(e=t.data)||void 0===e?void 0:e.firebaseMessaging)?(n=t.data.firebaseMessaging,r=n.type,i=n.payload,this.onMessageCallback&&r===W.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(i):this.onMessageCallback.next(i)),o=i.data,S(o)&&"1"===o["google.c.a.e"]?[4,this.logEvent(r,o)]:[3,2]):[2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.logEvent=function(t,e){return Object(K.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(K.__generator)(this,function(i){switch(i.label){case 0:return n=N(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:e[et],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}(),lt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw Y.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.getToken=function(){var t,e;return Object(K.__awaiter)(this,void 0,void 0,function(){var n;return Object(K.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,h(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:J,r.label=2;case 2:return[2,b(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return w(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Y.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Y.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw Y.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Y.create("only-available-in-window")},t.prototype.onMessage=function(){throw Y.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Y.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(K.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(K.__generator)(this,function(i){switch(i.label){case 0:return e=k(t),e?[4,D()]:[2];case 1:return n=i.sent(),R(n)?[2,x(n,e)]:(r=O(e),r?[4,M(r)]:[3,3]);case 2:return i.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(K.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(K.__generator)(this,function(o){switch(o.label){case 0:return r=t.newSubscription,r?[3,2]:[4,w(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,h(this.firebaseDependencies)];case 3:return i=o.sent(),[4,w(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,b(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:J)];case 5:return o.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(K.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(K.__generator)(this,function(a){switch(a.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[tt])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),i=F(r),i?[4,P(i)]:[2]):[2];case 1:return o=a.sent(),o?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=a.sent(),[4,A(3e3)];case 3:return a.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=a.sent(),a.label=6;case 6:return o?(s=L(W.NOTIFICATION_CLICKED,r),[2,o.postMessage(s)]):[2]}})})},t}(),ft={isSupported:U};H.a.INTERNAL.registerComponent(new G.Component("messaging",j,"PUBLIC").setServiceProps(ft))},function(t,e,n){"use strict";function r(t){return"storage/"+t}function i(){return new Zt(te.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(t){return new Zt(te.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function s(t){return new Zt(te.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function a(){return new Zt(te.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(t){return new Zt(te.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c(){return new Zt(te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h(){return new Zt(te.CANCELED,"User canceled the upload/download.")}function l(t){return new Zt(te.INVALID_URL,"Invalid URL '"+t+"'.")}function f(t){return new Zt(te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p(){return new Zt(te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function d(){return new Zt(te.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function v(){return new Zt(te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function g(t,e,n){return new Zt(te.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function y(t,e,n,r){var i,o;return t===e?(i=t,o=1===t?"argument":"arguments"):(i="between "+t+" and "+e,o="arguments"),new Zt(te.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function m(){return new Zt(te.APP_DELETED,"The Firebase app was deleted.")}function _(t){return new Zt(te.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function b(t,e){return new Zt(te.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new Zt(te.INTERNAL_ERROR,"Internal error: "+t)}function E(t){switch(t){case ee.RAW:case ee.BASE64:case ee.BASE64URL:case ee.DATA_URL:return;default:throw"Expected one of the event types: ["+ee.RAW+", "+ee.BASE64+", "+ee.BASE64URL+", "+ee.DATA_URL+"]."}}function I(t,e){switch(t){case ee.RAW:return new ne(T(e));case ee.BASE64:case ee.BASE64URL:return new ne(S(t,e));case ee.DATA_URL:return new ne(N(e),A(e))}throw i()}function T(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var i=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(i){var o=r,s=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&s,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function C(t){var e;try{e=decodeURIComponent(t)}catch(t){throw b(ee.DATA_URL,"Malformed data URL.")}return T(e)}function S(t,e){switch(t){case ee.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw b(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case ee.BASE64URL:var o=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(o||s){var i=o?"+":"/";throw b(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw b(t,"Invalid character found")}for(var u=new Uint8Array(a.length),c=0;c<a.length;c++)u[c]=a.charCodeAt(c);return u}function N(t){var e=new re(t);return e.base64?S(ee.BASE64,e.rest):C(e.rest)}function A(t){return new re(t).contentType}function k(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}function O(t){switch(t){case oe.RUNNING:case oe.PAUSING:case oe.CANCELING:return se.RUNNING;case oe.PAUSED:return se.PAUSED;case oe.SUCCESS:return se.SUCCESS;case oe.CANCELED:return se.CANCELED;case oe.ERROR:default:return se.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(t){return null!=t}function R(t){return void 0!==t}function x(t){return"function"==typeof t}function D(t){return"object"==typeof t}function L(t){return D(t)&&null!==t}function M(t){return D(t)&&!Array.isArray(t)}function F(t){return"string"==typeof t||t instanceof String}function j(t){return U(t)&&Number.isInteger(t)}function U(t){return"number"==typeof t||t instanceof Number}function V(t){return q()&&t instanceof Blob}function q(){return"undefined"!=typeof Blob}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=B();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(q())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function $(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(t){var e;try{e=JSON.parse(t)}catch(t){return null}return M(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function G(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}function K(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function z(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(t){return"https://"+Xt+"/v0"+t}function X(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Y(t,e){return e}function J(t){return!F(t)||t.length<2?t:z(t)}function Z(){function t(t,e){return J(e)}function e(t,e){return P(e)?Number(e):e}if(fe)return fe;var n=[];n.push(new le("bucket")),n.push(new le("generation")),n.push(new le("metageneration")),n.push(new le("name","fullPath",!0));var r=new le("name");r.xform=t,n.push(r);var i=new le("size");return i.xform=e,n.push(i),n.push(new le("timeCreated")),n.push(new le("updated")),n.push(new le("md5Hash",null,!0)),n.push(new le("cacheControl",null,!0)),n.push(new le("contentDisposition",null,!0)),n.push(new le("contentEncoding",null,!0)),n.push(new le("contentLanguage",null,!0)),n.push(new le("contentType",null,!0)),n.push(new le("metadata","customMetadata",!0)),fe=n}function tt(t,e){function n(){var n=t.bucket,r=t.fullPath,i=new he(n,r);return e.makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function et(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return tt(r,t),r}function nt(t,e,n){var r=H(e);return null===r?null:et(t,r,n)}function rt(t,e){var n=H(e);if(null===n)return null;if(!F(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,r=t.fullPath;return Q("/b/"+i(n)+"/o/"+i(r))+X({alt:"media",token:e})})[0]}function it(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ot(t){if(!D(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!D(n))throw"Expected object for 'customMetadata' mapping."}else if(L(n))throw"Mapping for '"+e+"' cannot be an object."}}function st(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ge])for(var i=0,o=n[ge];i<o.length;i++){var s=o[i],a=s.replace(/\/$/,""),u=t.makeStorageReference(new he(e,a));r.prefixes.push(u)}if(n[ye])for(var c=0,h=n[ye];c<h.length;c++){var l=h[c],u=t.makeStorageReference(new he(e,l.name));r.items.push(u)}return r}function at(t,e,n){var r=H(n);return null===r?null:st(t,e,r)}function ut(t){if(!D(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===pe){if(!j(t[pe])||t[pe]<=0)throw"Expected maxResults to be a positive number.";if(t[pe]>1e3)throw"Expected maxResults to be less than or equal to "+de+"."}else{if(e!==ve)throw"Unknown option: "+e;if(t[ve]&&!F(t[ve]))throw"Expected pageToken to be string."}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ct(t){if(!t)throw i()}function ht(t,e){function n(n,r){var i=nt(t,r,e);return ct(null!==i),i}return n}function lt(t,e){function n(n,r){var i=at(t,e,r);return ct(null!==i),i}return n}function ft(t,e){function n(n,r){var i=nt(t,r,e);return ct(null!==i),rt(i,r)}return n}function pt(t){function e(e,n){var r;return r=401===e.getStatus()?a():402===e.getStatus()?s(t.bucket):403===e.getStatus()?u(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function dt(t){function e(e,r){var i=n(e,r);return 404===e.getStatus()&&(i=o(t.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=pt(t);return e}function vt(t,e,n){var r=e.fullServerUrl(),i=Q(r),o=t.maxOperationRetryTime,s=new me(i,"GET",ht(t,n),o);return s.errorHandler=dt(e),s}function gt(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=e.bucketOnlyServerUrl(),a=Q(s),u=t.maxOperationRetryTime,c=new me(a,"GET",lt(t,e.bucket),u);return c.urlParams=o,c.errorHandler=pt(e),c}function yt(t,e,n){var r=e.fullServerUrl(),i=Q(r),o=t.maxOperationRetryTime,s=new me(i,"GET",ft(t,n),o);return s.errorHandler=dt(e),s}function mt(t,e,n,r){var i=e.fullServerUrl(),o=Q(i),s=it(n,r),a={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime,c=new me(o,"PATCH",ht(t,r),u);return c.headers=a,c.body=s,c.errorHandler=dt(e),c}function _t(t,e){function n(t,e){}var r=e.fullServerUrl(),i=Q(r),o=t.maxOperationRetryTime,s=new me(i,"DELETE",n,o);return s.successCodes=[200,204],s.errorHandler=dt(e),s}function bt(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wt(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bt(null,e)),r}function Et(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=wt(e,r,i),c=it(u,n),h="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",f=ce.getBlob(h,r,l);if(null===f)throw p();var d={name:u.fullPath},v=Q(o),g=t.maxUploadRetryTime,y=new me(v,"POST",ht(t,n),g);return y.urlParams=d,y.headers=s,y.body=f.uploadData(),y.errorHandler=pt(e),y}function It(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){ct(!1)}var r=e||["active"];return ct(!!n&&-1!==r.indexOf(n)),n}function Tt(t,e,n,r,i){function o(t){It(t);var e;try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){ct(!1)}return ct(F(e)),e}var s=e.bucketOnlyServerUrl(),a=wt(e,r,i),u={name:a.fullPath},c=Q(s),h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=it(a,n),f=t.maxUploadRetryTime,p=new me(c,"POST",o,f);return p.urlParams=u,p.headers=h,p.body=l,p.errorHandler=pt(e),p}function Ct(t,e,n,r){function i(t){var e=It(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){ct(!1)}n||ct(!1);var i=Number(n);return ct(!isNaN(i)),new _e(i,r.size(),"final"===e)}var o={"X-Goog-Upload-Command":"query"},s=t.maxUploadRetryTime,a=new me(n,"POST",i,s);return a.headers=o,a.errorHandler=pt(e),a}function St(t,e,n,r,i,o,s,a){function u(t,n){var i,s=It(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?ht(e,o)(t,n):null,new _e(a,u,"final"===s,i)}var c=new _e(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw d();var h=c.total-c.current,l=h;i>0&&(l=Math.min(l,i));var f=c.current,v=f+l,g=l===h?"upload, finalize":"upload",y={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":c.current},m=r.slice(f,v);if(null===m)throw p();var _=e.maxUploadRetryTime,b=new me(n,"POST",u,_);return b.headers=y,b.body=m.uploadData(),b.progressCallback=a||null,b.errorHandler=pt(t),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Nt(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw y(r,i,t,n.length);for(var o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?g(o,t,e.message):g(o,t,e)}}function At(t,e){return function(n){t(n),e(n)}}function kt(t,e){function n(t){if(!F(t))throw"Expected string."}var r;return r=t?At(n,t):n,new Ee(r,e)}function Ot(){function t(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||q()&&t instanceof Blob))throw"Expected Blob or File."}return new Ee(t)}function Pt(t){return new Ee(ot,t)}function Rt(t){return new Ee(ut,t)}function xt(){function t(t){if(!(U(t)&&t>=0))throw"Expected a number 0 or greater."}return new Ee(t)}function Dt(t,e){function n(e){if(!(null===e||P(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new Ee(n,e)}function Lt(t){function e(t){if(null!==t&&!x(t))throw"Expected a Function."}return new Ee(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ft(t,e,n){function r(){return 2===l}function i(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];f||(f=!0,e.apply(null,t))}function o(e){c=setTimeout(function(){c=null,t(s,r())},e)}function s(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!f){if(t)return void i.call.apply(i,Object(zt.__spreadArrays)([null,t],e));if(r()||h)return void i.call.apply(i,Object(zt.__spreadArrays)([null,t],e));u<64&&(u*=2);var s;1===l?(l=2,s=0):s=1e3*(u+Math.random()),o(s)}}function a(t){p||(p=!0,f||(null!==c?(t||(l=2),clearTimeout(c),o(0)):t||(l=1)))}var u=1,c=null,h=!1,l=0,f=!1,p=!1;return o(0),setTimeout(function(){h=!0,a(!0)},n),a}function jt(t){t(!1)}function Ut(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function Vt(t){var e=void 0!==Kt.a?Kt.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function qt(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Bt(t,e,n,r){var i=X(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return qt(s,e),Ut(s,n),Vt(s),new Se(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}function Wt(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Ae(n,r,new ue,e)}function $t(t){var e={TaskState:se,TaskEvent:ie,StringFormat:ee,Storage:Ae,Reference:Te};t.INTERNAL.registerComponent(new Qt.Component(Re,Wt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Oe,Pe)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerStorage",function(){return $t});var Ht,Gt=n(1),Kt=n.n(Gt),zt=n(0),Qt=n(2),Xt=(n.n(Qt),"firebasestorage.googleapis.com"),Yt=12e4,Jt=6e5,Zt=function(){function t(t,e){this.code_=r(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return r(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),te={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ee={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ne=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}(),re=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw b(ee.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=k(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}(),ie={STATE_CHANGED:"state_changed"},oe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},se={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Ht||(Ht={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ae=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ht.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ht.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ht.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),P(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return P(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){P(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){P(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ue=function(){function t(){}return t.prototype.createXhrIo=function(){return new ae},t}(),ce=function(){function t(t,e){var n=0,r="";V(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(V(this.data_)){var r=this.data_,i=$(r,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(q()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(W.apply(null,r))}var i=e.map(function(t){return F(t)?I(ee.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),he=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw f(e)},t.makeFromUrl=function(e){function n(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}function r(t){t.path_=decodeURIComponent(t.path)}for(var i=null,o=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),s={bucket:1,path:3},a=Xt.replace(/[.]/g,"\\."),u=new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),c={bucket:1,path:3},h=new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),f={bucket:1,path:2},p=[{regex:o,indices:s,postModify:n},{regex:u,indices:c,postModify:r},{regex:h,indices:f,postModify:r}],d=0;d<p.length;d++){var v=p[d],g=v.regex.exec(e);if(g){var y=g[v.indices.bucket],m=g[v.indices.path];m||(m=""),i=new t(y,m),v.postModify(i);break}}if(null==i)throw l(e);return i},t}(),le=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Y}return t}(),fe=null,pe="maxResults",de=1e3,ve="pageToken",ge="prefixes",ye="items",me=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}(),_e=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}(),be=function(){function t(t,e,n){if(x(t)||P(e)||P(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return t}(),we=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return t}(),Ee=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!R(e)||t(e)},this.optional=!!e}return t}(),Ie=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=oe.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(te.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(oe.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(te.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(oe.ERROR))},this.promise_=new Promise(function(t,e){s.resolve_=t,s.reject_=e,s.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===oe.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then(function(n){switch(e.state_){case oe.RUNNING:t(n);break;case oe.CANCELING:e.transition_(oe.CANCELED);break;case oe.PAUSING:e.transition_(oe.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=Tt(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=Ct(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new _e(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=St(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(oe.ERROR)}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(oe.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=vt(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(oe.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=Et(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(oe.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case oe.CANCELING:case oe.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case oe.RUNNING:var e=this.state_===oe.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case oe.PAUSED:this.state_=t,this.notifyObservers_();break;case oe.CANCELED:this.error_=h(),this.state_=t,this.notifyObservers_();break;case oe.ERROR:case oe.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case oe.PAUSING:this.transition_(oe.PAUSED);break;case oe.CANCELING:this.transition_(oe.CANCELED);break;case oe.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=O(this.state_);return new we(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==ie.STATE_CHANGED)throw"Expected one of the event types: ["+ie.STATE_CHANGED+"]."}function o(t){try{return void c(t)}catch(t){}try{h(t);if(!(R(t.next)||R(t.error)||R(t.complete)))throw"";return}catch(t){throw u}}function s(t){function e(e,n,i){null!==t&&Nt("on",t,arguments);var o=new be(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}return e}function a(t){if(null===t)throw u;o(t)}var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=Lt(!0).validator,h=Dt(null,!0).validator;Nt("on",[kt(i),Dt(o,!0),Lt(!0),Lt(!0)],arguments);var l=this,f=[Dt(a),Lt(!0),Lt(!0)];return R(e)||R(n)||R(r)?s(null)(e,n,r):s(f)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(O(this.state_)){case se.SUCCESS:Mt(this.resolve_.bind(null,this.snapshot))();break;case se.CANCELED:case se.ERROR:Mt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(O(this.state_)){case se.RUNNING:case se.PAUSED:t.next&&Mt(t.next.bind(t,this.snapshot))();break;case se.SUCCESS:t.complete&&Mt(t.complete.bind(t))();break;case se.CANCELED:case se.ERROR:t.error&&Mt(t.error.bind(t,this.error_))();break;default:t.error&&Mt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Nt("resume",[],arguments);var t=this.state_===oe.PAUSED||this.state_===oe.PAUSING;return t&&this.transition_(oe.RUNNING),t},t.prototype.pause=function(){Nt("pause",[],arguments);var t=this.state_===oe.RUNNING;return t&&this.transition_(oe.PAUSING),t},t.prototype.cancel=function(){Nt("cancel",[],arguments);var t=this.state_===oe.RUNNING||this.state_===oe.PAUSING;return t&&this.transition_(oe.CANCELING),t},t}(),Te=function(){function t(t,e){this.service=t,this.location=e instanceof he?e:he.makeFromUrl(e)}return t.prototype.toString=function(){return Nt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Z()},t.prototype.child=function(t){Nt("child",[kt()],arguments);var e=K(this.location.path,t),n=new he(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=G(this.location.path);if(null===t)return null;var e=new he(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new he(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return z(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Nt("put",[Ot(),Pt(!0)],arguments),this.throwIfRoot_("put"),new Ie(this,this.service,this.location,this.mappings(),new ce(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ee.RAW),Nt("putString",[kt(),kt(E,!0),Pt(!0)],arguments),this.throwIfRoot_("putString");var r=I(e,t),i=Object.assign({},n);return!P(i.contentType)&&P(r.contentType)&&(i.contentType=r.contentType),new Ie(this,this.service,this.location,this.mappings(),new ce(r.data,!0),i)},t.prototype.delete=function(){var t=this;return Nt("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(e){var n=_t(t.service,t.location);return t.service.makeRequest(n,e).getPromise()})},t.prototype.listAll=function(){Nt("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},t.prototype.listAllHelper=function(t,e){return Object(zt.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(zt.__generator)(this,function(s){switch(s.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.list=function(t){Nt("list",[Rt(!0)],arguments);var e=this;return this.service.getAuthToken().then(function(n){var r=t||{},i=gt(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()})},t.prototype.getMetadata=function(){var t=this;return Nt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(e){var n=vt(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){var e=this;return Nt("updateMetadata",[Pt()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(n){var r=mt(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){var t=this;return Nt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(e){var n=yt(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw v();return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw _(t)},t}(),Ce=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),Se=function(){function t(t,e,n,r,i,o,s,a,u,c,h){var l=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise(function(t,e){l.resolve_=t,l.reject_=e,l.start_()})}return t.prototype.start_=function(){function t(t,e){function r(t){var e=t.loaded,r=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,r)}if(e)return void t(!1,new Ne(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(r),n.pendingXhr_=null,e=e;var i=e.getErrorCode()===Ht.NO_ERROR,o=e.getStatus();if(!i||n.isRetryStatusCode_(o)){var s=e.getErrorCode()===Ht.ABORT;return void t(!1,new Ne(!1,null,s))}var a=-1!==n.successCodes_.indexOf(o);t(!0,new Ne(a,e))})}function e(t,e){var r=n.resolve_,o=n.reject_,s=e.xhr;if(e.wasSuccessCode)try{var a=n.callback_(s,s.getResponseText());R(a)?r(a):r()}catch(t){o(t)}else if(null!==s){var u=i();u.setServerResponseProp(s.getResponseText()),o(n.errorCallback_?n.errorCallback_(s,u):u)}else if(e.canceled){var u=n.appDelete_?m():h();o(u)}else{var u=c();o(u)}}var n=this;this.canceled_?e(!1,new Ne(!1,null,!0)):this.backoffId_=Ft(t,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&jt(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),Ne=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}(),Ae=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=Yt,this.maxUploadRetryTime_=Jt,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?he.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new ke(this)}return t.extractBucket_=function(t){var e=null===t||void 0===t?void 0:t.storageBucket;return null==e?null:he.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return Object(zt.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(zt.__generator)(this,function(n){switch(n.label){case 0:return t=this.authProvider_.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(t){return t.cancel()}),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new Te(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new Ce(m());var r=Bt(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then(function(){return n.requests_.delete(r)},function(){return n.requests_.delete(r)}),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Nt("ref",[kt(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Te(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{he.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return Nt("refFromURL",[kt(e,!1)],arguments),new Te(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Nt("setMaxUploadRetryTime",[xt()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){Nt("setMaxOperationRetryTime",[xt()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),ke=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}(),Oe="@firebase/storage",Pe="0.3.41",Re="storage";$t(Kt.a)},function(t,e,n){"use strict";function r(t){Y=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(t,e){var n=t.length-e.length;if(n<0||n>1)throw vt.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}function o(){var t=yt.getInstance().installationsService.getId();return t.then(function(t){Z=t}),t}function s(){return Z}function a(){var t=yt.getInstance().installationsService.getToken();return t.then(function(t){}),t}function u(){var t=gt.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function c(){switch(gt.getInstance().document.visibilityState){case"visible":return tt.VISIBLE;case"hidden":return tt.HIDDEN;default:return tt.UNKNOWN}}function h(){var t=gt.getInstance().navigator,e=t.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function l(t){return!(0===t.length||t.length>bt)&&(!mt.some(function(e){return t.startsWith(e)})&&!!t.match(_t))}function f(t){return 0!==t.length&&t.length<=wt}function p(t){var e=d();return e?(y(e),Promise.resolve()):g(t).then(y).then(function(t){return v(t)},function(){})}function d(){var t=gt.getInstance().localStorage;if(t){var e=t.getItem(pt);if(e&&m(e)){var n=t.getItem(ft);if(n)try{return JSON.parse(n)}catch(t){return}}}}function v(t){var e=gt.getInstance().localStorage;t&&e&&(e.setItem(ft,JSON.stringify(t)),e.setItem(pt,String(Date.now()+60*yt.getInstance().configTimeToLive*60*1e3)))}function g(t){return a().then(function(e){var n=yt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+yt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Nt+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:yt.getInstance().getAppId(),app_version:at,sdk_version:Ct})});return fetch(i).then(function(t){if(t.ok)return t.json();throw vt.create("RC response not ok")})}).catch(function(){Et.info(At)})}function y(t){if(!t)return t;var e=yt.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):St.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=_(e.tracesSamplingRate),e.logNetworkAfterSampling=_(e.networkRequestsSamplingRate),t}function m(t){return Number(t)>Date.now()}function _(t){return Math.random()<=t}function b(){return kt=2,It=It||E()}function w(){return 3===kt}function E(){return I().then(function(){return o()}).then(function(t){return p(t)}).then(function(){return T()},function(){return T()})}function I(){var t=gt.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function T(){kt=3}function C(){Lt||(S(Pt),Lt=!0)}function S(t){setTimeout(function(){if(0!==xt)return Dt.length?void N():S(Ot)},t)}function N(){var t=et.__spreadArrays(Dt);Dt=[];var e=t.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}});A({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:yt.getInstance().logSource,log_event:e},t).catch(function(){Dt=et.__spreadArrays(t,Dt),xt--,Et.info("Tries left: "+xt+"."),S(Ot)})}function A(t,e){return k(t).then(function(t){return t.ok||Et.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=Ot;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Dt=et.__spreadArrays(e,Dt),Et.info("Retry transport request later.")),xt=Rt,S(r)})}function k(t){var e=yt.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function O(t){if(!t.eventTime||!t.message)throw vt.create("invalid cc log");Dt=et.__spreadArrays(Dt,[t])}function P(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];O({message:t.apply(void 0,e),eventTime:Date.now()})}}function R(t,e){Tt||(Tt=P(M)),Tt(t,e)}function x(t){var e=yt.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&gt.getInstance().requiredApisAvailable()&&(t.isAuto&&c()!==tt.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(w()?D(t):b().then(function(){return D(t)},function(){return D(t)})))}function D(t){s()&&setTimeout(function(){return R(t,1)},0)}function L(t){var e=yt.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return R(t,0)},0)}}function M(t,e){return 0===e?F(t):j(t)}function F(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:U(),network_request_metric:e};return JSON.stringify(n)}function j(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:U(),trace_metric:e};return JSON.stringify(r)}function U(){return{google_app_id:yt.getInstance().getAppId(),app_instance_id:s(),web_app_info:{sdk_version:at,page_url:gt.getInstance().getUrl(),service_worker_status:u(),visibility_state:c(),effective_connection_type:h()},application_process_state:0}}function V(t,e){return!(0===t.length||t.length>Mt)&&(e&&e.startsWith(lt)&&jt.indexOf(t)>-1||!t.startsWith(Ft))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function q(t){var e=t;if(e&&void 0!==e.responseStart){var n=gt.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));L({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function B(){s()&&(setTimeout(function(){return $()},0),setTimeout(function(){return W()},0),setTimeout(function(){return H()},0))}function W(){for(var t=gt.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){q(r[n])}t.setupObserver("resource",q)}function $(){var t=gt.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Ut.createOobTrace(e,n),r=void 0},Vt);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),Ut.createOobTrace(e,n,t))})}else Ut.createOobTrace(e,n)}function H(){for(var t=gt.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){G(r[n])}t.setupObserver("measure",G)}function G(t){var e=t.name;e.substring(0,ht.length)!==ht&&Ut.createUserTimingTrace(e)}function K(t){var e=function(t,e){if(t.name!==Bt)throw vt.create("FB not default");if("undefined"==typeof window)throw vt.create("no window");return r(window),yt.getInstance().firebaseAppInstance=t,yt.getInstance().installationsService=e,new qt(t)};t.INTERNAL.registerComponent(new it.Component("performance",function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)},"PUBLIC")),t.registerVersion(ot,st)}Object.defineProperty(e,"__esModule",{value:!0});var z=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(1));n(6);var Q,X,Y,J,Z,tt,et=n(0),nt=n(3),rt=n(5),it=n(2),ot="@firebase/performance",st="0.3.10",at=st,ut="FB-PERF-TRACE-START",ct="FB-PERF-TRACE-STOP",ht="FB-PERF-TRACE-MEASURE",lt="_wt_",ft="@firebase/performance/config",pt="@firebase/performance/configexpire",dt=(Q={},Q["trace started"]="Trace {$traceName} was started before.",Q["trace stopped"]="Trace {$traceName} is not running.",Q["no window"]="Window is not available.",Q["no app id"]="App id is not available.",Q["no project id"]="Project id is not available.",Q["no api key"]="Api key is not available.",Q["invalid cc log"]="Attempted to queue invalid cc event",Q["FB not default"]="Performance can only start when Firebase app instance is the default one.",Q["RC response not ok"]="RC response is not ok",Q["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Q["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Q["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Q["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Q),vt=new nt.ErrorFactory("performance","Performance",dt),gt=function(){function t(t){if(this.window=t,!t)throw vt.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}).observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===X&&(X=new t(Y)),X},t}(),yt=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=i("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=i("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw vt.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw vt.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw vt.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===J&&(J=new t),J},t}();!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(tt||(tt={}));var mt=["firebase_","google_","ga_"],_t=new RegExp("^[a-zA-Z]\\w*$"),bt=40,wt=100,Et=new rt.Logger("Performance");Et.logLevel=rt.LogLevel.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var It,Tt,Ct="0.0.1",St={loggingEnabled:!0},Nt="FIREBASE_INSTALLATIONS_AUTH",At="Could not fetch config, will use default configs",kt=1,Ot=1e4,Pt=5500,Rt=3,xt=Rt,Dt=[],Lt=!1,Mt=100,Ft="_",jt=["_fp","_fcp","_fid"],Ut=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=gt.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=ut+"-"+this.randomId+"-"+this.name,this.traceStopMark=ct+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||ht+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw vt.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw vt.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),x(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=et.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}x(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!V(t,this.name))throw vt.create("invalid custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=l(t),r=f(e);if(n&&r)return void(this.customAttributes[t]=e);if(!n)throw vt.create("invalid attribute name",{attributeName:t});if(!r)throw vt.create("invalid attribute value",{attributeValue:e})},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return et.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=gt.getInstance().getUrl();if(i){var o=new t(lt+i,!0),s=Math.floor(1e3*gt.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}x(o)}},t.createUserTimingTrace=function(e){x(new t(e,!1,e))},t}(),Vt=5e3,qt=function(){function t(t){this.app=t,gt.getInstance().requiredApisAvailable()?(C(),b().then(B,B)):Et.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new Ut(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return yt.getInstance().instrumentationEnabled},set:function(t){yt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return yt.getInstance().dataCollectionEnabled},set:function(t){yt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),Bt="[DEFAULT]";K(z),e.registerPerformance=K},function(t,e,n){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function r(t,e,n,r,i){var o=r||{};i&&i.global||(o=Object(w.__assign)(Object(w.__assign)({},r),{send_to:e})),t(b.EVENT,n,o||{})}function i(t,e,n,r){r&&r.global?t(b.SET,{screen_name:n}):t(b.CONFIG,e,{update:!0,screen_name:n})}function o(t,e,n,r){r&&r.global?t(b.SET,{user_id:n}):t(b.CONFIG,e,{update:!0,user_id:n})}function s(t,e,n,r){if(r&&r.global){for(var i={},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];i["user_properties."+a]=n[a]}t(b.SET,i)}else t(b.CONFIG,e,{update:!0,user_properties:n})}function a(t,e){window["ga-disable-"+t]=!e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(t,e,n){return Object(w.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(w.__generator)(this,function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(b.CONFIG,t.options[N],(i={},i[A]=r,i[k]="firebase",i.update=!0,i)),[2]}})})}function c(t){var e=document.createElement("script");e.src=O+"?l="+t,e.async=!0,document.head.appendChild(e)}function h(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function l(t,e){return function(n,r,i){if(n===b.EVENT){var o=[];if(i&&i.send_to){var s=i.send_to;Array.isArray(s)||(s=[s]);for(var a=0,u=s;a<u.length;a++){var c=u[a],h=e[c];if(!h){o=[];break}o.push(h)}}if(0===o.length)for(var l=0,f=Object.values(e);l<f.length;l++){var p=f[l];o.push(p)}Promise.all(o).then(function(){return t(b.EVENT,r,i||{})}).catch(function(t){return L.error(t)})}else if(n===b.CONFIG){var d=e[r]||Promise.resolve();d.then(function(){t(b.CONFIG,r,i)}).catch(function(t){return L.error(t)})}else t(b.SET,r)}}function f(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=l(r,t),{gtagCore:r,wrappedGtag:window[n]}}function p(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(O))return r}return null}function d(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),q=t,j=e,U="dataLayer",V="gtag"}function v(){return{initializedIdPromisesMap:j}}function g(t){if(q)throw F.create("already-initialized");t.dataLayerName&&(U=t.dataLayerName),t.gtagName&&(V=t.gtagName)}function y(t,e){if(!Object(C.areCookiesEnabled)())throw F.create("cookies-not-enabled");if(!Object(C.isIndexedDBAvailable)())throw F.create("indexedDB-unsupported");Object(C.validateIndexedDBOpenable)().catch(function(t){throw F.create("invalid-indexedDB-context",{errorInfo:t})});var n=t.options[N];if(!n)throw F.create("no-ga-id");if(null!=j[n])throw F.create("already-exists",{id:n});if(!q){p()||c(U),h(U);var l=f(j,U,V),d=l.wrappedGtag,v=l.gtagCore;D=d,x=v,q=!0}return j[n]=u(t,e,x),{app:t,logEvent:function(t,e,i){return r(D,n,t,e,i)},setCurrentScreen:function(t,e){return i(D,n,t,e)},setUserId:function(t,e){return o(D,n,t,e)},setUserProperties:function(t,e){return s(D,n,t,e)},setAnalyticsCollectionEnabled:function(t){return a(n,t)}}}function m(t){function e(t){try{return{logEvent:t.getProvider($).getImmediate().logEvent}}catch(t){throw F.create("interop-component-reg-failed",{reason:t})}}t.INTERNAL.registerComponent(new S.Component($,function(t){return y(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:g,EventName:P,isSupported:_})),t.INTERNAL.registerComponent(new S.Component("analytics-internal",e,"PRIVATE")),t.registerVersion(B,W)}function _(){return Object(w.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(w.__generator)(this,function(n){switch(n.label){case 0:if(!Object(C.areCookiesEnabled)())return[2,!1];if(!Object(C.isIndexedDBAvailable)())return[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Object(C.validateIndexedDBOpenable)()];case 2:return t=n.sent(),[2,t];case 3:return e=n.sent(),[2,!1];case 4:return[2]}})})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"factory",function(){return y}),n.d(e,"getGlobalVars",function(){return v}),n.d(e,"registerAnalytics",function(){return m}),n.d(e,"resetGlobalVars",function(){return d}),n.d(e,"settings",function(){return g});var b,w=n(0),E=n(1),I=n.n(E),T=(n(6),n(5)),C=n(3),S=(n.n(C),n(2)),N=(n.n(S),"measurementId"),A="firebase_id",k="origin",O="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(b||(b={}));var P;!function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(P||(P={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var R,x,D,L=new T.Logger("@firebase/analytics"),M=(R={},R["no-ga-id"]='"'+N+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',R["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",R["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",R["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",R["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",R["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",R["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",R),F=new C.ErrorFactory("analytics","Analytics",M),j={},U="dataLayer",V="gtag",q=!1,B="@firebase/analytics",W="0.4.1",$="analytics";m(I.a)},function(t,e,n){"use strict";function r(t,e){return t instanceof v.FirebaseError&&-1!==t.code.indexOf(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function i(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}function o(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(d.__assign(d.__assign({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(t,e){var n=t.target.error||void 0;return b.create(e,{originalErrorMessage:n&&n.message})}function a(){return new Promise(function(t,e){var n=indexedDB.open(O,P);n.onerror=function(t){e(s(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(k,{keyPath:"compositeKey"})}}})}function u(t){var e=D*Math.pow(L,t),n=Math.round(F*e*(Math.random()-.5)*2);return Math.min(M,e+n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(b.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function h(t){if(!(t instanceof v.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function l(t){function e(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw b.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw b.create("registration-project-id");if(!a)throw b.create("registration-api-key");if(!u)throw b.create("registration-app-id");n=n||"firebase";var c=new R(u,r.name,n),h=new x(c),l=new g.Logger(U);l.logLevel=g.LogLevel.ERROR;var f=new w(i,t.SDK_VERSION,n,s,a,u),p=new j(f,c),d=new m(p,c,h,l),v=new A(r,d,h,c,l);return v.ensureInitialized(),v}t.INTERNAL.registerComponent(new y.Component("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(U,V)}Object.defineProperty(e,"__esModule",{value:!0});var f=function(t){return t&&"object"==typeof t&&"default"in t?t.default:t}(n(1));n(6);var p,d=n(0),v=n(3),g=n(5),y=n(2),m=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return d.__generator(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),(n=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n))?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}})})},t}(),_=(p={},p["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",p["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",p["registration-api-key"]="Undefined API key. Check Firebase app initialization.",p["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",p["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",p["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",p["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",p["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",p["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",p["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',p["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',p["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",p["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",p),b=new v.ErrorFactory("remoteconfig","Remote Config",_),w=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n,r,o,s,a,u,c,h,l,f,p,v,g,y,m,_,w,E;return d.__generator(this,function(d){switch(d.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=d.sent(),n=e[0],r=e[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",s=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:i()},c={method:"POST",headers:a,body:JSON.stringify(u)},h=fetch(s,c),l=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),d.label=2;case 2:return d.trys.push([2,5,,6]),[4,Promise.race([h,l])];case 3:return d.sent(),[4,h];case 4:return f=d.sent(),[3,6];case 5:throw p=d.sent(),v="fetch-client-network","AbortError"===p.name&&(v="fetch-timeout"),b.create(v,{originalErrorMessage:p.message});case 6:if(g=f.status,y=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];w=void 0,d.label=7;case 7:return d.trys.push([7,9,,10]),[4,f.json()];case 8:return w=d.sent(),[3,10];case 9:throw E=d.sent(),b.create("fetch-client-parse",{originalErrorMessage:E.message});case 10:m=w.entries,_=w.state,d.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===_?g=500:"NO_CHANGE"===_?g=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(m={}),304!==g&&200!==g)throw b.create("fetch-status",{httpStatus:g});return[2,{status:g,eTag:y,config:m}]}})})},t}(),E=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),I="",T=["1","true","t","yes","y","on"],C=function(){function t(t,e){void 0===e&&(e=I),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&T.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),S=6e4,N=432e5,A=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:S,minimumFetchIntervalMillis:N},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=g.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=g.LogLevel.SILENT;break;default:this._logger.logLevel=g.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return d.__awaiter(this,void 0,void 0,function(){var t,e,n;return d.__generator(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return d.__awaiter(this,void 0,void 0,function(){var t,e,n,i=this;return d.__generator(this,function(o){switch(o.label){case 0:t=new E,setTimeout(function(){return d.__awaiter(i,void 0,void 0,function(){return d.__generator(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return o.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return o.sent(),[3,6];case 4:return e=o.sent(),n=r(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw o.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t=this;return o(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,n){return e[n]=t.getValue(n),e},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new C("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new C("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new C("static"))},t}(),k="app_namespace_store",O="firebase_remote_config",P=1,R=function(){function t(t,e,n,r){void 0===r&&(r=a()),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n=this;return d.__generator(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([k],"readonly"),a=o.objectStore(k),u=n.createCompositeKey(t);try{var c=a.get(u);c.onerror=function(t){i(s(t,"storage-get"))},c.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(b.create("storage-get",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.set=function(t,e){return d.__awaiter(this,void 0,void 0,function(){var n,r=this;return d.__generator(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction([k],"readwrite"),u=a.objectStore(k),c=r.createCompositeKey(t);try{var h=u.put({compositeKey:c,value:e});h.onerror=function(t){o(s(t,"storage-set"))},h.onsuccess=function(){i()}}catch(t){o(b.create("storage-set",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.delete=function(t){return d.__awaiter(this,void 0,void 0,function(){var e,n=this;return d.__generator(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([k],"readwrite"),a=o.objectStore(k),u=n.createCompositeKey(t);try{var c=a.delete(u);c.onerror=function(t){i(s(t,"storage-delete"))},c.onsuccess=function(){r()}}catch(t){i(b.create("storage-delete",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),x=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return d.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o;return d.__generator(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return r=s.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return i=s.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return o=s.sent(),o&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}(),D=1e3,L=2,M=144e5,F=.5,j=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return d.__awaiter(this,void 0,void 0,function(){var e;return d.__generator(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return d.__awaiter(this,void 0,void 0,function(){var e,i,o;return d.__generator(this,function(s){switch(s.label){case 0:return[4,c(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(i=s.sent(),!h(i))throw i;return o={throttleEndTimeMillis:Date.now()+u(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),U="@firebase/remote-config",V="0.1.26";l(f),e.registerRemoteConfig=l},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("h1",[n("center",[t._v("Welcome to tasks")])],1),t._v(" "),n("br"),t._v(" "),n("div",{attrs:{id:"creatediv"}},[n("label",{staticClass:"lab"},[t._v("Create Task :")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"input1",type:"text"},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addName(e)},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("button",{attrs:{id:"createbtn"},on:{click:t.addName}},[t._v("Finish")])]),t._v(" "),n("br"),t._v(" "),n("div",[n("ul",{staticClass:"ulmain"},t._l(t.names,function(e,r){return n("li",{key:r,attrs:{id:"displayer"}},[n("div",[n("h4",[t._v(t._s(e.name))]),t._v(" "),n("button",{staticClass:"editbtn",on:{click:function(e){return t.editName(r)}}},[t._v("Edit")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm[r],expression:"editForm[key]"}],staticClass:"editinput",attrs:{type:"text"},domProps:{value:t.editForm[r]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editName(r)},input:function(e){e.target.composing||t.$set(t.editForm,r,e.target.value)}}}),t._v(" "),n("button",{staticClass:"delbtn",on:{click:function(e){return t.delName(r)}}},[t._v("Delete")])])])}),0)])])},i=[],o={render:r,staticRenderFns:i};e.a=o},function(t,e,n){"use strict";/*!
  * vuefire v2.2.4
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */
function r(t,e){return e.split(".").reduce(function(t,e){return t[e]},t)}function i(t,e,n){var r=(""+e).split("."),i=r.pop(),o=r.reduce(function(t,e){return t[e]},t);return Array.isArray(o)?o.splice(Number(i),1,n):o[i]=n}function o(t){return t&&"object"==typeof t}function s(t){return t.toDate}function a(t){return t&&t.onSnapshot}function u(t,e){var n=!1;return function(){if(!n)return n=!0,t(e())}}function c(t){var e=t.val(),n=o(e)?e:Object.defineProperty({},".value",{value:e});return Object.defineProperty(n,".key",{value:t.key}),n}function h(t){return Object.defineProperty(t.data()||{},"id",{value:t.id})}function l(t,e,n){function r(t,e,n,i){e=e||{};var c=i[0],h=i[1];Object.getOwnPropertyNames(t).forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);n&&!n.enumerable&&Object.defineProperty(c,e,n)});for(var l in t){var f=t[l];if(null==f||f instanceof Date||s(f)||f.longitude&&f.latitude)c[l]=f;else if(a(f))c[l]="object"==typeof e&&l in e&&"string"!=typeof e[l]?e[l]:f.path,h[n+l]=f;else if(Array.isArray(f)){c[l]=Array(f.length);for(var p=0;p<f.length;p++){var d=f[p];d&&d.path in u&&(c[l][p]=u[d.path])}r(f,e[l]||c[l],n+l+".",[c[l],h])}else o(f)?(c[l]={},r(f,e[l],n+l+".",[c[l],h])):c[l]=f}}var i=[{},{}],u=Object.keys(n).reduce(function(t,e){var r=n[e];return t[r.path]=r.data(),t},{});return r(t,e,"",i),i}function f(t){for(var e in t)t[e].unsub()}function p(t,e,n,i,o,s,a,u){var c=l(t.serialize(i),r(e,n),o),h=c[0],f=c[1];s.set(e,n,h),v(t,e,n,o,f,s,a,u)}function d(t,e){var n=t.ref,r=t.target,i=t.path,o=t.depth,s=t.resolve,a=t.ops,u=Object.create(null),c=n.onSnapshot(function(t){t.exists?p(e,r,i,t,u,a,o,s):(a.set(r,i,null),s())});return function(){c(),f(u)}}function v(t,e,n,i,o,s,a,u){function c(t){t in p&&++l>=f&&u(n)}var h=Object.keys(o);if(Object.keys(i).filter(function(t){return h.indexOf(t)<0}).forEach(function(t){i[t].unsub(),delete i[t]}),!h.length||++a>t.maxRefDepth)return u(n);var l=0,f=h.length,p=Object.create(null);h.forEach(function(u){var h=i[u],l=o[u],f=n+"."+u;if(p[f]=!0,h){if(h.path===l.path)return;h.unsub()}i[u]={data:function(){return r(e,f)},unsub:d({ref:l,target:e,path:f,depth:a,ops:s,resolve:c.bind(null,f)},t),path:l.path}})}function g(t,e){var n=t.vm,r=t.key,i=t.collection,o=t.ops,s=t.resolve,a=t.reject;void 0===e&&(e=b);var u,c=Object.assign({},b,e),h=c.wait?[]:o.set(n,r,[]),p=s,d=[],g={added:function(t){var e=t.newIndex,n=t.doc;d.splice(e,0,Object.create(null));var r=d[e],i=l(c.serialize(n),void 0,r),a=i[0],u=i[1];o.add(h,e,a),v(c,h,e,r,u,o,0,s.bind(null,n))},modified:function(t){var e=t.oldIndex,n=t.newIndex,r=t.doc,i=d[e],a=h[e],u=l(c.serialize(r),a,i),f=u[0],p=u[1];d.splice(n,0,i),o.remove(h,e),o.add(h,n,f),v(c,h,n,i,p,o,0,s)},removed:function(t){var e=t.oldIndex;o.remove(h,e),f(d.splice(e,1)[0])}},y=i.onSnapshot(function(t){var e="function"==typeof t.docChanges?t.docChanges():t.docChanges;if(!u&&e.length){u=!0;for(var i=0,a=e.length,l=Object.create(null),f=0;f<a;f++)l[e[f].doc.id]=!0;s=function(t){t.id in l&&++i>=a&&(c.wait&&o.set(n,r,h),p(n[r]),s=function(){})}}e.forEach(function(t){g[t.type](t)}),e.length||(c.wait&&o.set(n,r,h),s(h))},a);return function(t){if(y(),!1!==t){var e="function"==typeof t?t():[];o.set(n,r,e)}d.forEach(f)}}function y(t,e){var n=t.vm,i=t.key,o=t.document,s=t.resolve,a=t.reject,c=t.ops;void 0===e&&(e=b);var h=Object.assign({},b,e),l=Object.create(null);s=u(s,function(){return r(n,i)});var d=o.onSnapshot(function(t){t.exists?p(h,n,i,t,l,c,0,s):(c.set(n,i,null),s(null))},a);return function(t){if(d(),!1!==t){var e="function"==typeof t?t():null;c.set(n,i,e)}f(l)}}function m(t,e,n,r,i){return new Promise(function(o,s){var a;a="where"in n?g({vm:t,key:e,ops:r,collection:n,resolve:o,reject:s},i):y({vm:t,key:e,ops:r,document:n,resolve:o,reject:s},i),t._firestoreUnbinds[e]=a})}n.d(e,"a",function(){return I});var _={reset:!0,serialize:c,wait:!1},b={maxRefDepth:2,reset:!0,serialize:h,wait:!1},w=(_.serialize,_.reset,_.wait,{set:function(t,e,n){return i(t,e,n)},add:function(t,e,n){return t.splice(e,0,n)},remove:function(t,e){return t.splice(e,1)}}),E={bindName:"$bind",unbindName:"$unbind",serialize:b.serialize,reset:b.reset,wait:b.wait},I=function(t,e){void 0===e&&(e=E);var n=t.config.optionMergeStrategies;n.firestore=n.provide;var r=Object.assign({},E,e),i=r.bindName,o=r.unbindName;t.prototype[o]=function(t,e){this._firestoreUnbinds[t](e),delete this._firestoreUnbinds[t],delete this.$firestoreRefs[t]},t.prototype[i]=function(t,e,n){var i=Object.assign({},r,n);this._firestoreUnbinds[t]&&this[o](t,i.wait?"function"==typeof i.reset&&i.reset:i.reset);var s=m(this,t,e,w,i);return this.$firestoreRefs[t]=e,s},t.mixin({beforeCreate:function(){this._firestoreUnbinds=Object.create(null),this.$firestoreRefs=Object.create(null)},created:function(){var t=this.$options.firestore,e="function"==typeof t?t.call(this):t;if(e)for(var n in e)this[i](n,e[n],r)},beforeDestroy:function(){for(var t in this._firestoreUnbinds)this._firestoreUnbinds[t]();this._firestoreUnbinds=null,this.$firestoreRefs=null}})}}]);
//# sourceMappingURL=build.js.map